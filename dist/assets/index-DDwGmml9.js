(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Hf={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function gT(){if(Cy)return Yl;Cy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var Ny;function pT(){return Ny||(Ny=1,Hf.exports=gT()),Hf.exports}var P=pT(),Gf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function yT(){if(xy)return Rt;xy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,W={};function K(x,J,rt){this.props=x,this.context=J,this.refs=W,this.updater=rt||k}K.prototype.isReactComponent={},K.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},K.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function at(){}at.prototype=K.prototype;function lt(x,J,rt){this.props=x,this.context=J,this.refs=W,this.updater=rt||k}var ct=lt.prototype=new at;ct.constructor=lt,H(ct,K.prototype),ct.isPureReactComponent=!0;var St=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function I(x,J,rt,et,pt,Dt){return rt=Dt.ref,{$$typeof:s,type:x,key:J,ref:rt!==void 0?rt:null,props:Dt}}function b(x,J){return I(x.type,J,void 0,void 0,void 0,x.props)}function w(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function S(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(rt){return J[rt]})}var O=/\/+/g;function M(x,J){return typeof x=="object"&&x!==null&&x.key!=null?S(""+x.key):J.toString(36)}function D(){}function ne(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function it(x,J,rt,et,pt){var Dt=typeof x;(Dt==="undefined"||Dt==="boolean")&&(x=null);var Tt=!1;if(x===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(x.$$typeof){case s:case e:Tt=!0;break;case A:return Tt=x._init,it(Tt(x._payload),J,rt,et,pt)}}if(Tt)return pt=pt(x),Tt=et===""?"."+M(x,0):et,St(pt)?(rt="",Tt!=null&&(rt=Tt.replace(O,"$&/")+"/"),it(pt,J,rt,"",function(Pn){return Pn})):pt!=null&&(w(pt)&&(pt=b(pt,rt+(pt.key==null||x&&x.key===pt.key?"":(""+pt.key).replace(O,"$&/")+"/")+Tt)),J.push(pt)),1;Tt=0;var Ce=et===""?".":et+":";if(St(x))for(var Wt=0;Wt<x.length;Wt++)et=x[Wt],Dt=Ce+M(et,Wt),Tt+=it(et,J,rt,Dt,pt);else if(Wt=C(x),typeof Wt=="function")for(x=Wt.call(x),Wt=0;!(et=x.next()).done;)et=et.value,Dt=Ce+M(et,Wt++),Tt+=it(et,J,rt,Dt,pt);else if(Dt==="object"){if(typeof x.then=="function")return it(ne(x),J,rt,et,pt);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function F(x,J,rt){if(x==null)return x;var et=[],pt=0;return it(x,et,"","",function(Dt){return J.call(rt,Dt,pt++)}),et}function tt(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(rt){(x._status===0||x._status===-1)&&(x._status=1,x._result=rt)},function(rt){(x._status===0||x._status===-1)&&(x._status=2,x._result=rt)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var ht=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function It(){}return Rt.Children={map:F,forEach:function(x,J,rt){F(x,function(){J.apply(this,arguments)},rt)},count:function(x){var J=0;return F(x,function(){J++}),J},toArray:function(x){return F(x,function(J){return J})||[]},only:function(x){if(!w(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Rt.Component=K,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=lt,Rt.StrictMode=a,Rt.Suspense=v,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ft.H.useMemoCache(x)}},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cloneElement=function(x,J,rt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var et=H({},x.props),pt=x.key,Dt=void 0;if(J!=null)for(Tt in J.ref!==void 0&&(Dt=void 0),J.key!==void 0&&(pt=""+J.key),J)!Nt.call(J,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&J.ref===void 0||(et[Tt]=J[Tt]);var Tt=arguments.length-2;if(Tt===1)et.children=rt;else if(1<Tt){for(var Ce=Array(Tt),Wt=0;Wt<Tt;Wt++)Ce[Wt]=arguments[Wt+2];et.children=Ce}return I(x.type,pt,void 0,void 0,Dt,et)},Rt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},Rt.createElement=function(x,J,rt){var et,pt={},Dt=null;if(J!=null)for(et in J.key!==void 0&&(Dt=""+J.key),J)Nt.call(J,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(pt[et]=J[et]);var Tt=arguments.length-2;if(Tt===1)pt.children=rt;else if(1<Tt){for(var Ce=Array(Tt),Wt=0;Wt<Tt;Wt++)Ce[Wt]=arguments[Wt+2];pt.children=Ce}if(x&&x.defaultProps)for(et in Tt=x.defaultProps,Tt)pt[et]===void 0&&(pt[et]=Tt[et]);return I(x,Dt,void 0,void 0,null,pt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:g,render:x}},Rt.isValidElement=w,Rt.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:tt}},Rt.memo=function(x,J){return{$$typeof:_,type:x,compare:J===void 0?null:J}},Rt.startTransition=function(x){var J=ft.T,rt={};ft.T=rt;try{var et=x(),pt=ft.S;pt!==null&&pt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(It,ht)}catch(Dt){ht(Dt)}finally{ft.T=J}},Rt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Rt.use=function(x){return ft.H.use(x)},Rt.useActionState=function(x,J,rt){return ft.H.useActionState(x,J,rt)},Rt.useCallback=function(x,J){return ft.H.useCallback(x,J)},Rt.useContext=function(x){return ft.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,J){return ft.H.useDeferredValue(x,J)},Rt.useEffect=function(x,J,rt){var et=ft.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(x,J)},Rt.useId=function(){return ft.H.useId()},Rt.useImperativeHandle=function(x,J,rt){return ft.H.useImperativeHandle(x,J,rt)},Rt.useInsertionEffect=function(x,J){return ft.H.useInsertionEffect(x,J)},Rt.useLayoutEffect=function(x,J){return ft.H.useLayoutEffect(x,J)},Rt.useMemo=function(x,J){return ft.H.useMemo(x,J)},Rt.useOptimistic=function(x,J){return ft.H.useOptimistic(x,J)},Rt.useReducer=function(x,J,rt){return ft.H.useReducer(x,J,rt)},Rt.useRef=function(x){return ft.H.useRef(x)},Rt.useState=function(x){return ft.H.useState(x)},Rt.useSyncExternalStore=function(x,J,rt){return ft.H.useSyncExternalStore(x,J,rt)},Rt.useTransition=function(){return ft.H.useTransition()},Rt.version="19.1.1",Rt}var Vy;function Id(){return Vy||(Vy=1,Gf.exports=yT()),Gf.exports}var gt=Id(),Ff={exports:{}},Xl={},Qf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function _T(){return Iy||(Iy=1,(function(s){function e(F,tt){var ht=F.length;F.push(tt);t:for(;0<ht;){var It=ht-1>>>1,x=F[It];if(0<o(x,tt))F[It]=tt,F[ht]=x,ht=It;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var tt=F[0],ht=F.pop();if(ht!==tt){F[0]=ht;t:for(var It=0,x=F.length,J=x>>>1;It<J;){var rt=2*(It+1)-1,et=F[rt],pt=rt+1,Dt=F[pt];if(0>o(et,ht))pt<x&&0>o(Dt,et)?(F[It]=Dt,F[pt]=ht,It=pt):(F[It]=et,F[rt]=ht,It=rt);else if(pt<x&&0>o(Dt,ht))F[It]=Dt,F[pt]=ht,It=pt;else break t}}return tt}function o(F,tt){var ht=F.sortIndex-tt.sortIndex;return ht!==0?ht:F.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,N=null,C=3,k=!1,H=!1,W=!1,K=!1,at=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function St(F){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=F)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function ft(F){if(W=!1,St(F),!H)if(i(v)!==null)H=!0,Nt||(Nt=!0,M());else{var tt=i(_);tt!==null&&it(ft,tt.startTime-F)}}var Nt=!1,I=-1,b=5,w=-1;function S(){return K?!0:!(s.unstable_now()-w<b)}function O(){if(K=!1,Nt){var F=s.unstable_now();w=F;var tt=!0;try{t:{H=!1,W&&(W=!1,lt(I),I=-1),k=!0;var ht=C;try{e:{for(St(F),N=i(v);N!==null&&!(N.expirationTime>F&&S());){var It=N.callback;if(typeof It=="function"){N.callback=null,C=N.priorityLevel;var x=It(N.expirationTime<=F);if(F=s.unstable_now(),typeof x=="function"){N.callback=x,St(F),tt=!0;break e}N===i(v)&&a(v),St(F)}else a(v);N=i(v)}if(N!==null)tt=!0;else{var J=i(_);J!==null&&it(ft,J.startTime-F),tt=!1}}break t}finally{N=null,C=ht,k=!1}tt=void 0}}finally{tt?M():Nt=!1}}}var M;if(typeof ct=="function")M=function(){ct(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ne=D.port2;D.port1.onmessage=O,M=function(){ne.postMessage(null)}}else M=function(){at(O,0)};function it(F,tt){I=at(function(){F(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(F){switch(C){case 1:case 2:case 3:var tt=3;break;default:tt=C}var ht=C;C=tt;try{return F()}finally{C=ht}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=C;C=F;try{return tt()}finally{C=ht}},s.unstable_scheduleCallback=function(F,tt,ht){var It=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?It+ht:It):ht=It,F){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ht+x,F={id:A++,callback:tt,priorityLevel:F,startTime:ht,expirationTime:x,sortIndex:-1},ht>It?(F.sortIndex=ht,e(_,F),i(v)===null&&F===i(_)&&(W?(lt(I),I=-1):W=!0,it(ft,ht-It))):(F.sortIndex=x,e(v,F),H||k||(H=!0,Nt||(Nt=!0,M()))),F},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(F){var tt=C;return function(){var ht=C;C=tt;try{return F.apply(this,arguments)}finally{C=ht}}}})(Yf)),Yf}var Oy;function vT(){return Oy||(Oy=1,Qf.exports=_T()),Qf.exports}var Xf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function ET(){if(My)return Qe;My=1;var s=Id();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,N=g(A,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:C,fetchPriority:k}):A==="script"&&a.d.X(v,{crossOrigin:N,integrity:C,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,N=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var Uy;function TT(){if(Uy)return Xf.exports;Uy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xf.exports=ET(),Xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function AT(){if(Ly)return Xl;Ly=1;var s=vT(),e=Id(),i=TT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case K:return"Profiler";case W:return"StrictMode";case ft:return"Suspense";case Nt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case St:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var it=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},It=[],x=-1;function J(t){return{current:t}}function rt(t){0>x||(t.current=It[x],It[x]=null,x--)}function et(t,n){x++,It[x]=t.current,t.current=n}var pt=J(null),Dt=J(null),Tt=J(null),Ce=J(null);function Wt(t,n){switch(et(Tt,n),et(Dt,t),et(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ny(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(pt),et(pt,t)}function Pn(){rt(pt),rt(Dt),rt(Tt)}function qi(t){t.memoizedState!==null&&et(Ce,t);var n=pt.current,r=iy(n,t.type);n!==r&&(et(Dt,t),et(pt,r))}function oi(t){Dt.current===t&&(rt(pt),rt(Dt)),Ce.current===t&&(rt(Ce),kl._currentValue=ht)}var Ir=Object.prototype.hasOwnProperty,Or=s.unstable_scheduleCallback,Mr=s.unstable_cancelCallback,za=s.unstable_shouldYield,Eo=s.unstable_requestPaint,pn=s.unstable_now,kc=s.unstable_getCurrentPriorityLevel,qa=s.unstable_ImmediatePriority,bs=s.unstable_UserBlockingPriority,Ur=s.unstable_NormalPriority,Hc=s.unstable_LowPriority,Ss=s.unstable_IdlePriority,Ba=s.log,To=s.unstable_setDisableYieldValue,le=null,Gt=null;function an(t){if(typeof Ba=="function"&&To(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(le,t)}catch{}}var Ge=Math.clz32?Math.clz32:Lr,Ao=Math.log,Gc=Math.LN2;function Lr(t){return t>>>=0,t===0?32:31-(Ao(t)/Gc|0)|0}var Pr=256,jr=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rs(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=xn(l):(y&=E,y!==0?c=xn(y):r||(r=E&~t,r!==0&&(c=xn(r))))):(E=l&~f,E!==0?c=xn(E):y!==0?c=xn(y):r||(r=l&~t,r!==0&&(c=xn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ka(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ha(){var t=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),t}function Ga(){var t=jr;return jr<<=1,(jr&62914560)===0&&(jr=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ci(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fa(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-Ge(r),$=1<<Q;E[Q]=0,R[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var B=q[Q];B!==null&&(B.lane&=-536870913)}r&=~$}l!==0&&jn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function jn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Qa(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ws(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function bo(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var ie=Math.random().toString(36).slice(2),Te="__reactFiber$"+ie,me="__reactProps$"+ie,yn="__reactContainer$"+ie,Ya="__reactEvents$"+ie,Fc="__reactListeners$"+ie,Hi="__reactHandles$"+ie,So="__reactResources$"+ie,qr="__reactMarker$"+ie;function Gi(t){delete t[Te],delete t[me],delete t[Ya],delete t[Fc],delete t[Hi]}function hi(t){var n=t[Te];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ly(t);t!==null;){if(r=t[Te])return r;t=ly(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[Te]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function $e(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[qr]=!0}var Xa=new Set,Ds={};function Vn(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(Ds[t]=n,t=0;t<n.length;t++)Xa.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Br={};function Do(t){return Ir.call(Br,t)?!0:Ir.call(wo,t)?!1:Ro.test(t)?Br[t]=!0:(wo[t]=!0,!1)}function Fi(t,n,r){if(Do(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var kr,Co;function di(t){if(kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",Co=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+Co}var Cs=!1;function Ns(t,n){if(!t||Cs)return"";Cs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var q=B}Reflect.construct(t,[],$)}else{try{$.call()}catch(B){q=B}t.call($.prototype)}}else{try{throw Error()}catch(B){q=B}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&q&&typeof B.stack=="string")return[B.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Cs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function Ka(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return di("Activity");default:return""}}function xs(t){try{var n="";do n+=Ka(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $a(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qc(t){var n=$a(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vs(t){t._valueTracker||(t._valueTracker=Qc(t))}function Za(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=$a(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Hr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yc=/[\n"\\]/g;function ge(t){return t.replace(Yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,y,Ze(n)):r!=null?Qi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function Gr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Qi(t,n,r){n==="number"&&Hr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function mi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function Fr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(it(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Qr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ja(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&No(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&No(t,f,n[f])}function Wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return Kc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function tl(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(ln(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(a(90));ln(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Za(l)}break t;case"textarea":Yt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(t,!!r.multiple,n,!1)}}}var kn=!1;function xo(t,n,r){if(kn)return t(n,r);kn=!0;try{var l=t(n);return l}finally{if(kn=!1,(pi!==null||yi!==null)&&(bu(),pi&&(n=pi,t=yi,yi=pi=null,tl(n),t)))for(n=0;n<t.length;n++)tl(t[n])}}function Yr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(In)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){En=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{En=!1}var Hn=null,Yi=null,_i=null;function el(){if(_i)return _i;var t,n=Yi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return _i=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function nl(){return!1}function Ne(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:nl,this.isPropagationStopped=nl,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=Ne(kt),Kr=A({},kt,{view:0,detail:0}),Vo=Ne(Kr),Ms,Us,Qn,$r=A({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ms=t.screenX-Qn.screenX,Us=t.screenY-Qn.screenY):Us=Ms=0,Qn=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),Tn=Ne($r),Io=A({},$r,{dataTransfer:0}),$c=Ne(Io),Zr=A({},Kr,{relatedTarget:0}),Ls=Ne(Zr),il=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ps=Ne(il),Oo=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),js=Ne(Oo),Zc=A({},kt,{data:0}),rl=Ne(Zc),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uo[t])?!!n[t]:!1}function Wr(){return sl}var Lo=A({},Kr,{key:function(t){if(t.key){var n=Jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zs=Ne(Lo),Po=A({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Ne(Po),vi=A({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),jo=Ne(vi),zo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=Ne(zo),Bo=A({},$r,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=Ne(Bo),Je=A({},kt,{newState:0,oldState:0}),ko=Ne(Je),Ho=[9,13,27,32],Yn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,p=In&&(!Yn||u&&8<u&&11>=u),T=" ",L=!1;function G(t,n){switch(t){case"keyup":return Ho.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ut=!1;function Ae(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Lt(t,n){if(Ut)return t==="compositionend"||!Yn&&G(t,n)?(t=el(),_i=Yi=Hn=null,Ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function Ei(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=Nu(n,"onChange"),0<n.length&&(r=new Os("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Xn=null;function ll(t){Zp(t,0)}function Go(t){var n=qn(t);if(Za(n))return t}function _m(t,n){if(t==="change")return n}var vm=!1;if(In){var Jc;if(In){var Wc="oninput"in document;if(!Wc){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Wc=typeof Em.oninput=="function"}Jc=Wc}else Jc=!1;vm=Jc&&(!document.documentMode||9<document.documentMode)}function Tm(){Le&&(Le.detachEvent("onpropertychange",Am),Xn=Le=null)}function Am(t){if(t.propertyName==="value"&&Go(Xn)){var n=[];Ei(n,Xn,t,vn(t)),xo(ll,n)}}function F0(t,n,r){t==="focusin"?(Tm(),Le=n,Xn=r,Le.attachEvent("onpropertychange",Am)):t==="focusout"&&Tm()}function Q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Go(Xn)}function Y0(t,n){if(t==="click")return Go(n)}function X0(t,n){if(t==="input"||t==="change")return Go(n)}function K0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:K0;function ol(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ir.call(n,c)||!on(t[c],n[c]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sm(t,n){var r=bm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bm(r)}}function Rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Hr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Hr(t.document)}return n}function th(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $0=In&&"documentMode"in document&&11>=document.documentMode,Bs=null,eh=null,ul=null,nh=!1;function Dm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nh||Bs==null||Bs!==Hr(l)||(l=Bs,"selectionStart"in l&&th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Nu(eh,"onSelect"),0<l.length&&(n=new Os("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Bs)))}function ts(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ks={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},ih={},Cm={};In&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function es(t){if(ih[t])return ih[t];if(!ks[t])return t;var n=ks[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cm)return ih[t]=n[r];return t}var Nm=es("animationend"),xm=es("animationiteration"),Vm=es("animationstart"),Z0=es("transitionrun"),J0=es("transitionstart"),W0=es("transitioncancel"),Im=es("transitionend"),Om=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function On(t,n){Om.set(t,n),Vn(n,[t])}var Mm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=Mm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:xs(n)},Mm.set(t,n),n)}return{value:t,source:n,stack:xs(n)}}var bn=[],Hs=0,sh=0;function Fo(){for(var t=Hs,n=sh=Hs=0;n<t;){var r=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Um(r,c,f)}}function Qo(t,n,r,l){bn[Hs++]=t,bn[Hs++]=n,bn[Hs++]=r,bn[Hs++]=l,sh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ah(t,n,r,l){return Qo(t,n,r,l),Yo(t)}function Gs(t,n){return Qo(t,null,null,n),Yo(t)}function Um(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Yo(t){if(50<Ml)throw Ml=0,df=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fs={};function tE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new tE(t,n,r,l)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")lh(t)&&(y=1);else if(typeof t=="string")y=nT(t,r,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=un(31,r,n,c),t.elementType=w,t.lanes=f,t;case H:return ns(r.children,c,f,n);case W:y=8,c|=24;break;case K:return t=un(12,r,n,c|2),t.elementType=K,t.lanes=f,t;case ft:return t=un(13,r,n,c),t.elementType=ft,t.lanes=f,t;case Nt:return t=un(19,r,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case at:case ct:y=10;break t;case lt:y=9;break t;case St:y=11;break t;case I:y=14;break t;case b:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=un(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ns(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function oh(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function uh(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qs=[],Ys=0,Ko=null,$o=0,Sn=[],Rn=0,is=null,Ai=1,bi="";function rs(t,n){Qs[Ys++]=$o,Qs[Ys++]=Ko,Ko=t,$o=n}function Pm(t,n,r){Sn[Rn++]=Ai,Sn[Rn++]=bi,Sn[Rn++]=is,is=t;var l=Ai;t=bi;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ai=1<<32-Ge(n)+c|r<<c|l,bi=f+t}else Ai=1<<f|r<<c|l,bi=t}function ch(t){t.return!==null&&(rs(t,1),Pm(t,1,0))}function hh(t){for(;t===Ko;)Ko=Qs[--Ys],Qs[Ys]=null,$o=Qs[--Ys],Qs[Ys]=null;for(;t===is;)is=Sn[--Rn],Sn[Rn]=null,bi=Sn[--Rn],Sn[Rn]=null,Ai=Sn[--Rn],Sn[Rn]=null}var We=null,oe=null,Bt=!1,ss=null,Kn=!1,fh=Error(a(519));function as(t){var n=Error(a(418,""));throw fl(An(n,t)),fh}function jm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Te]=t,n[me]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Ll.length;r++)Vt(Ll[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Gr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Fr(n,l.value,l.defaultValue,l.children),Vs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ey(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=xu),n=!0):n=!1,n||as(t)}function zm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:We=We.return}}function cl(t){if(t!==We)return!1;if(!Bt)return zm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Nf(t.type,t.memoizedProps)),r=!r),r&&oe&&as(t),zm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,ur(t.type)?(t=Of,Of=null,oe=t):oe=n):oe=We?Un(t.stateNode.nextSibling):null;return!0}function hl(){oe=We=null,Bt=!1}function qm(){var t=ss;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),ss=null),t}function fl(t){ss===null?ss=[t]:ss.push(t)}var dh=J(null),ls=null,Si=null;function Xi(t,n,r){et(dh,n._currentValue),n._currentValue=r}function Ri(t){t._currentValue=dh.current,rt(dh)}function mh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function gh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),mh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),mh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function dl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;on(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}c=c.return}t!==null&&gh(n,t,r,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){ls=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Bm(ls,t)}function Jo(t,n){return ls===null&&os(t),Bm(t,n)}function Bm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(t===null)throw Error(a(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return r}var eE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},nE=s.unstable_scheduleCallback,iE=s.unstable_NormalPriority,Se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new eE,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&nE(iE,function(){t.controller.abort()})}var gl=null,yh=0,Xs=0,Ks=null;function rE(t,n){if(gl===null){var r=gl=[];yh=0,Xs=Ef(),Ks={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yh++,n.then(km,km),n}function km(){if(--yh===0&&gl!==null){Ks!==null&&(Ks.status="fulfilled");var t=gl;gl=null,Xs=0,Ks=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Hm=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&rE(t,n),Hm!==null&&Hm(t,n)};var us=J(null);function _h(){var t=us.current;return t!==null?t:te.pooledCache}function Wo(t,n){n===null?et(us,us.current):et(us,n.pool)}function Gm(){var t=_h();return t===null?null:{parent:Se._currentValue,pool:t}}var pl=Error(a(460)),Fm=Error(a(474)),tu=Error(a(542)),vh={then:function(){}};function Qm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eu(){}function Ym(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(eu,eu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t;default:if(typeof n.status=="string")n.then(eu,eu);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t}throw yl=n,pl}}var yl=null;function Xm(){if(yl===null)throw Error(a(459));var t=yl;return yl=null,t}function Km(t){if(t===pl||t===tu)throw Error(a(483))}var Ki=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),Um(t,null,r),n}return Qo(t,l,n,r),Yo(t)}function _l(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Qa(t,r)}}function Ah(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var bh=!1;function vl(){if(bh){var t=Ks;if(t!==null)throw t}}function El(t,n,r,l){bh=!1;var c=t.updateQueue;Ki=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=R))}if(f!==null){var $=c.baseState;y=0,Q=z=R=null,E=f;do{var q=E.lane&-536870913,B=q!==E.lane;if(B?(Pt&q)===q:(l&q)===q){q!==0&&q===Xs&&(bh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,yt=E;q=n;var $t=r;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){$=Et.call($t,$,q);break t}$=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,q=typeof Et=="function"?Et.call($t,$,q):Et,q==null)break t;$=A({},$,q);break t;case 2:Ki=!0}}q=E.callback,q!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[q]:B.push(q))}else B={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=B,R=$):Q=Q.next=B,y|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);Q===null&&(R=$),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),sr|=y,t.lanes=y,t.memoizedState=$}}function $m(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Zm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)$m(r[t],n)}var $s=J(null),nu=J(0);function Jm(t,n){t=Ii,et(nu,t),et($s,n),Ii=t|n.baseLanes}function Sh(){et(nu,Ii),et($s,$s.current)}function Rh(){Ii=nu.current,rt($s),rt(nu)}var Ji=0,wt=null,Xt=null,pe=null,iu=!1,Zs=!1,cs=!1,ru=0,Tl=0,Js=null,aE=0;function he(){throw Error(a(321))}function wh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function Dh(t,n,r,l,c,f){return Ji=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Ug:Lg,cs=!1,f=r(l,c),cs=!1,Zs&&(f=tg(n,r,l,c)),Wm(t),f}function Wm(t){F.H=cu;var n=Xt!==null&&Xt.next!==null;if(Ji=0,pe=Xt=wt=null,iu=!1,Tl=0,Js=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Zo(t)&&(Ve=!0))}function tg(t,n,r,l){wt=t;var c=0;do{if(Zs&&(Js=null),Tl=0,Zs=!1,25<=c)throw Error(a(301));if(c+=1,pe=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=dE,f=n(r,l)}while(Zs);return f}function lE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Ch(){var t=ru!==0;return ru=0,t}function Nh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xh(t){if(iu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}iu=!1}Ji=0,pe=Xt=wt=null,Zs=!1,Tl=ru=0,Js=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Xt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Xt=t;else{if(t===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=Tl;return Tl+=1,Js===null&&(Js=[]),t=Ym(Js,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Ug:Lg),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===ct)return Fe(t)}throw Error(a(438,String(t)))}function Ih(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Vh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=S;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function au(t){var n=ye();return Oh(n,Xt,t)}function Oh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Pt&$)===$:(Ji&$)===$){var q=z.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Xs&&(Q=!0);else if((Ji&q)===q){z=z.next,q===Xs&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=$,y=f):R=R.next=$,wt.lanes|=q,sr|=q;$=z.action,cs&&r(f,$),f=z.hasEagerState?z.eagerState:r(f,$)}else q={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=q,y=f):R=R.next=q,wt.lanes|=$,sr|=$;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!on(f,t.memoizedState)&&(Ve=!0,Q&&(r=Ks,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mh(t){var n=ye(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);on(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function eg(t,n,r){var l=wt,c=ye(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!on((Xt||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=rg.bind(null,l,c,t);if(bl(2048,8,E,[t]),c.getSnapshot!==n||y||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Ws(9,lu(),ig.bind(null,l,c,r,n),null),te===null)throw Error(a(349));f||(Ji&124)!==0||ng(l,n,r)}return r}function ng(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Vh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ig(t,n,r,l){n.value=r,n.getSnapshot=l,sg(n)&&ag(t)}function rg(t,n,r){return r(function(){sg(n)&&ag(t)})}function sg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function ag(t){var n=Gs(t,2);n!==null&&mn(n,t,2)}function Uh(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),cs){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function lg(t,n,r,l){return t.baseState=r,Oh(t,Xt,typeof l=="function"?l:wi)}function oE(t,n,r,l,c){if(uu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,og(n,f)):(f.next=r.next,n.pending=r.next=f)}}function og(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=r(c,l),R=F.S;R!==null&&R(y,E),ug(t,n,E)}catch(z){Lh(t,n,z)}finally{F.T=f}}else try{f=r(c,l),ug(t,n,f)}catch(z){Lh(t,n,z)}}function ug(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){cg(t,n,l)},function(l){return Lh(t,n,l)}):cg(t,n,r)}function cg(t,n,r){n.status="fulfilled",n.value=r,hg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,og(t,r)))}function Lh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hg(n),n=n.next;while(n!==l)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function dg(t,n){if(Bt){var r=te.formState;if(r!==null){t:{var l=wt;if(Bt){if(oe){e:{for(var c=oe,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Un(c.nextSibling),l=c.data==="F!";break t}}as(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},r.queue=l,r=Ig.bind(null,wt,l),l.dispatch=r,l=Uh(!1),f=Bh.bind(null,wt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=oE.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function mg(t){var n=ye();return gg(n,Xt,t)}function gg(t,n,r){if(n=Oh(t,n,fg)[0],t=au(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(y){throw y===pl?tu:y}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,Ws(9,lu(),uE.bind(null,c,r),null)),[l,f,t]}function uE(t,n){t.action=n}function pg(t){var n=ye(),r=Xt;if(r!==null)return gg(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ws(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Vh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function lu(){return{destroy:void 0,resource:void 0}}function yg(){return ye().memoizedState}function ou(t,n,r,l){var c=tn();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=Ws(1|n,lu(),r,l)}function bl(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&wh(l,Xt.memoizedState.deps)?c.memoizedState=Ws(n,f,r,l):(wt.flags|=t,c.memoizedState=Ws(1|n,f,r,l))}function _g(t,n){ou(8390656,8,t,n)}function vg(t,n){bl(2048,8,t,n)}function Eg(t,n){return bl(4,2,t,n)}function Tg(t,n){return bl(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bg(t,n,r){r=r!=null?r.concat([t]):null,bl(4,4,Ag.bind(null,n,t),r)}function Ph(){}function Sg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Rg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wh(n,l[1]))return l[0];if(l=t(),cs){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function jh(t,n,r){return r===void 0||(Ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Cp(),wt.lanes|=t,sr|=t,r)}function wg(t,n,r,l){return on(r,n)?r:$s.current!==null?(t=jh(t,r,l),on(t,n)||(Ve=!0),t):(Ji&42)===0?(Ve=!0,t.memoizedState=r):(t=Cp(),wt.lanes|=t,sr|=t,n)}function Dg(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Bh(t,!1,n,r);try{var R=c(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=sE(R,l);Sl(t,n,Q,dn(t))}else Sl(t,n,l,dn(t))}catch($){Sl(t,n,{then:function(){},status:"rejected",reason:$},dn())}finally{tt.p=f,F.T=y}}function cE(){}function zh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Cg(t).queue;Dg(t,c,n,ht,r===null?cE:function(){return Ng(t),r(l)})}function Cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=Cg(t).next.queue;Sl(t,n,{},dn())}function qh(){return Fe(kl)}function xg(){return ye().memoizedState}function Vg(){return ye().memoizedState}function hE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();t=$i(r);var l=Zi(n,t,r);l!==null&&(mn(l,n,r),_l(l,n,r)),n={cache:ph()},t.payload=n;return}n=n.return}}function fE(t,n,r){var l=dn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},uu(t)?Og(n,r):(r=ah(t,n,r,l),r!==null&&(mn(r,t,l),Mg(r,n,l)))}function Ig(t,n,r){var l=dn();Sl(t,n,r,l)}function Sl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(uu(t))Og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,y))return Qo(t,n,c,0),te===null&&Fo(),!1}catch{}finally{}if(r=ah(t,n,c,l),r!==null)return mn(r,t,l),Mg(r,n,l),!0}return!1}function Bh(t,n,r,l){if(l={lane:2,revertLane:Ef(),action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(n)throw Error(a(479))}else n=ah(t,r,l,2),n!==null&&mn(n,t,2)}function uu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Og(t,n){Zs=iu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Mg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Qa(t,r)}}var cu={readContext:Fe,use:su,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Ug={readContext:Fe,use:su,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:_g,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ou(4194308,4,Ag.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(cs){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(cs){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=fE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Uh(t);var n=t.queue,r=Ig.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ph,useDeferredValue:function(t,n){var r=tn();return jh(r,t,n)},useTransition:function(){var t=Uh(!1);return t=Dg.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),te===null)throw Error(a(349));(Pt&124)!==0||ng(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,_g(rg.bind(null,l,f,t),[t]),l.flags|=2048,Ws(9,lu(),ig.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=te.identifierPrefix;if(Bt){var r=bi,l=Ai;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n=""+n+"R"+r,r=ru++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=aE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:qh,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Bh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ih,useCacheRefresh:function(){return tn().memoizedState=hE.bind(null,wt)}},Lg={readContext:Fe,use:su,useCallback:Sg,useContext:Fe,useEffect:vg,useImperativeHandle:bg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:au,useRef:yg,useState:function(){return au(wi)},useDebugValue:Ph,useDeferredValue:function(t,n){var r=ye();return wg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=au(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:eg,useId:xg,useHostTransitionStatus:qh,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var r=ye();return lg(r,Xt,t,n)},useMemoCache:Ih,useCacheRefresh:Vg},dE={readContext:Fe,use:su,useCallback:Sg,useContext:Fe,useEffect:vg,useImperativeHandle:bg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:Mh,useRef:yg,useState:function(){return Mh(wi)},useDebugValue:Ph,useDeferredValue:function(t,n){var r=ye();return Xt===null?jh(r,t,n):wg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Mh(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:eg,useId:xg,useHostTransitionStatus:qh,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var r=ye();return Xt!==null?lg(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:Vg},ta=null,Rl=0;function hu(t){var n=Rl;return Rl+=1,ta===null&&(ta=[]),Ym(ta,t,n)}function wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function fu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Pg(t){var n=t._init;return n(t._payload)}function jg(t){function n(U,V){if(t){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=Ti(U,V),U.index=0,U.sibling=null,U}function f(U,V,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,j,X){return V===null||V.tag!==6?(V=oh(j,U.mode,X),V.return=U,V):(V=c(V,j),V.return=U,V)}function R(U,V,j,X){var ut=j.type;return ut===H?Q(U,V,j.props.children,X,j.key):V!==null&&(V.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Pg(ut)===V.type)?(V=c(V,j.props),wl(V,j),V.return=U,V):(V=Xo(j.type,j.key,j.props,null,U.mode,X),wl(V,j),V.return=U,V)}function z(U,V,j,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=uh(j,U.mode,X),V.return=U,V):(V=c(V,j.children||[]),V.return=U,V)}function Q(U,V,j,X,ut){return V===null||V.tag!==7?(V=ns(j,U.mode,X,ut),V.return=U,V):(V=c(V,j),V.return=U,V)}function $(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=oh(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return j=Xo(V.type,V.key,V.props,null,U.mode,j),wl(j,V),j.return=U,j;case k:return V=uh(V,U.mode,j),V.return=U,V;case b:var X=V._init;return V=X(V._payload),$(U,V,j)}if(it(V)||M(V))return V=ns(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return $(U,hu(V),j);if(V.$$typeof===ct)return $(U,Jo(U,V),j);fu(U,V)}return null}function q(U,V,j,X){var ut=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:E(U,V,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return j.key===ut?R(U,V,j,X):null;case k:return j.key===ut?z(U,V,j,X):null;case b:return ut=j._init,j=ut(j._payload),q(U,V,j,X)}if(it(j)||M(j))return ut!==null?null:Q(U,V,j,X,null);if(typeof j.then=="function")return q(U,V,hu(j),X);if(j.$$typeof===ct)return q(U,V,Jo(U,j),X);fu(U,j)}return null}function B(U,V,j,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(j)||null,E(V,U,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return U=U.get(X.key===null?j:X.key)||null,R(V,U,X,ut);case k:return U=U.get(X.key===null?j:X.key)||null,z(V,U,X,ut);case b:var Ct=X._init;return X=Ct(X._payload),B(U,V,j,X,ut)}if(it(X)||M(X))return U=U.get(j)||null,Q(V,U,X,ut,null);if(typeof X.then=="function")return B(U,V,j,hu(X),ut);if(X.$$typeof===ct)return B(U,V,j,Jo(V,X),ut);fu(V,X)}return null}function Et(U,V,j,X){for(var ut=null,Ct=null,dt=V,_t=V=0,Oe=null;dt!==null&&_t<j.length;_t++){dt.index>_t?(Oe=dt,dt=null):Oe=dt.sibling;var qt=q(U,dt,j[_t],X);if(qt===null){dt===null&&(dt=Oe);break}t&&dt&&qt.alternate===null&&n(U,dt),V=f(qt,V,_t),Ct===null?ut=qt:Ct.sibling=qt,Ct=qt,dt=Oe}if(_t===j.length)return r(U,dt),Bt&&rs(U,_t),ut;if(dt===null){for(;_t<j.length;_t++)dt=$(U,j[_t],X),dt!==null&&(V=f(dt,V,_t),Ct===null?ut=dt:Ct.sibling=dt,Ct=dt);return Bt&&rs(U,_t),ut}for(dt=l(dt);_t<j.length;_t++)Oe=B(dt,U,_t,j[_t],X),Oe!==null&&(t&&Oe.alternate!==null&&dt.delete(Oe.key===null?_t:Oe.key),V=f(Oe,V,_t),Ct===null?ut=Oe:Ct.sibling=Oe,Ct=Oe);return t&&dt.forEach(function(mr){return n(U,mr)}),Bt&&rs(U,_t),ut}function yt(U,V,j,X){if(j==null)throw Error(a(151));for(var ut=null,Ct=null,dt=V,_t=V=0,Oe=null,qt=j.next();dt!==null&&!qt.done;_t++,qt=j.next()){dt.index>_t?(Oe=dt,dt=null):Oe=dt.sibling;var mr=q(U,dt,qt.value,X);if(mr===null){dt===null&&(dt=Oe);break}t&&dt&&mr.alternate===null&&n(U,dt),V=f(mr,V,_t),Ct===null?ut=mr:Ct.sibling=mr,Ct=mr,dt=Oe}if(qt.done)return r(U,dt),Bt&&rs(U,_t),ut;if(dt===null){for(;!qt.done;_t++,qt=j.next())qt=$(U,qt.value,X),qt!==null&&(V=f(qt,V,_t),Ct===null?ut=qt:Ct.sibling=qt,Ct=qt);return Bt&&rs(U,_t),ut}for(dt=l(dt);!qt.done;_t++,qt=j.next())qt=B(dt,U,_t,qt.value,X),qt!==null&&(t&&qt.alternate!==null&&dt.delete(qt.key===null?_t:qt.key),V=f(qt,V,_t),Ct===null?ut=qt:Ct.sibling=qt,Ct=qt);return t&&dt.forEach(function(mT){return n(U,mT)}),Bt&&rs(U,_t),ut}function $t(U,V,j,X){if(typeof j=="object"&&j!==null&&j.type===H&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case C:t:{for(var ut=j.key;V!==null;){if(V.key===ut){if(ut=j.type,ut===H){if(V.tag===7){r(U,V.sibling),X=c(V,j.props.children),X.return=U,U=X;break t}}else if(V.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Pg(ut)===V.type){r(U,V.sibling),X=c(V,j.props),wl(X,j),X.return=U,U=X;break t}r(U,V);break}else n(U,V);V=V.sibling}j.type===H?(X=ns(j.props.children,U.mode,X,j.key),X.return=U,U=X):(X=Xo(j.type,j.key,j.props,null,U.mode,X),wl(X,j),X.return=U,U=X)}return y(U);case k:t:{for(ut=j.key;V!==null;){if(V.key===ut)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){r(U,V.sibling),X=c(V,j.children||[]),X.return=U,U=X;break t}else{r(U,V);break}else n(U,V);V=V.sibling}X=uh(j,U.mode,X),X.return=U,U=X}return y(U);case b:return ut=j._init,j=ut(j._payload),$t(U,V,j,X)}if(it(j))return Et(U,V,j,X);if(M(j)){if(ut=M(j),typeof ut!="function")throw Error(a(150));return j=ut.call(j),yt(U,V,j,X)}if(typeof j.then=="function")return $t(U,V,hu(j),X);if(j.$$typeof===ct)return $t(U,V,Jo(U,j),X);fu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(r(U,V.sibling),X=c(V,j),X.return=U,U=X):(r(U,V),X=oh(j,U.mode,X),X.return=U,U=X),y(U)):r(U,V)}return function(U,V,j,X){try{Rl=0;var ut=$t(U,V,j,X);return ta=null,ut}catch(dt){if(dt===pl||dt===tu)throw dt;var Ct=un(29,dt,null,U.mode);return Ct.lanes=X,Ct.return=U,Ct}finally{}}}var ea=jg(!0),zg=jg(!1),wn=J(null),$n=null;function Wi(t){var n=t.alternate;et(Re,Re.current&1),et(wn,t),$n===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&($n=t)}function qg(t){if(t.tag===22){if(et(Re,Re.current),et(wn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else tr()}function tr(){et(Re,Re.current),et(wn,wn.current)}function Di(t){rt(wn),$n===t&&($n=null),rt(Re)}var Re=J(0);function du(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||If(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function kh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=dn(),c=$i(l);c.payload=n,r!=null&&(c.callback=r),n=Zi(t,c,l),n!==null&&(mn(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=dn(),c=$i(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Zi(t,c,l),n!==null&&(mn(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=dn(),l=$i(r);l.tag=2,n!=null&&(l.callback=n),n=Zi(t,l,r),n!==null&&(mn(n,t,r),_l(n,t,r))}};function Bg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!ol(r,l)||!ol(c,f):!0}function kg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Hh.enqueueReplaceState(n,n.state,null)}function hs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hg(t){mu(t)}function Gg(t){console.error(t)}function Fg(t){mu(t)}function gu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Gh(t,n,r){return r=$i(r),r.tag=3,r.payload={element:null},r.callback=function(){gu(t,n)},r}function Yg(t){return t=$i(t),t.tag=3,t}function Xg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Qg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Qg(n,r,l),typeof c!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function mE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&dl(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return $n===null?gf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===vh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),yf(t,l,c)),!1;case 22:return r.flags|=65536,l===vh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),yf(t,l,c)),!1}throw Error(a(435,r.tag))}return yf(t,l,c),gf(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==fh&&(t=Error(a(422),{cause:l}),fl(An(t,r)))):(l!==fh&&(n=Error(a(423),{cause:l}),fl(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=Gh(t.stateNode,l,c),Ah(t,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:l});if(f=An(f,r),Ol===null?Ol=[f]:Ol.push(f),ue!==4&&(ue=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Gh(r.stateNode,l,t),Ah(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ar===null||!ar.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Yg(c),Xg(c,t,r,l),Ah(r,c),!1}r=r.return}while(r!==null);return!1}var Kg=Error(a(461)),Ve=!1;function Pe(t,n,r,l){n.child=t===null?zg(n,null,r,l):ea(n,t.child,r,l)}function $g(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return os(n),l=Dh(t,n,r,y,f,c),E=Ch(),t!==null&&!Ve?(Nh(t,n,c),Ci(t,n,c)):(Bt&&E&&ch(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Zg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!lh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jg(t,n,f,l,c)):(t=Xo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:ol,r(y,l)&&t.ref===n.ref)return Ci(t,n,c)}return n.flags|=1,t=Ti(f,l),t.ref=n.ref,t.return=n,n.child=t}function Jg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Jh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ci(t,n,c)}return Fh(t,n,r,l,c)}function Wg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return tp(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,f!==null?f.cachePool:null),f!==null?Jm(n,f):Sh(),qg(n);else return n.lanes=n.childLanes=536870912,tp(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Wo(n,f.cachePool),Jm(n,f),tr(),n.memoizedState=null):(t!==null&&Wo(n,null),Sh(),tr());return Pe(t,n,c,r),n.child}function tp(t,n,r,l){var c=_h();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Wo(n,null),Sh(),qg(n),t!==null&&dl(t,n,l,!0),null}function pu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Fh(t,n,r,l,c){return os(n),r=Dh(t,n,r,l,void 0,c),l=Ch(),t!==null&&!Ve?(Nh(t,n,c),Ci(t,n,c)):(Bt&&l&&ch(n),n.flags|=1,Pe(t,n,r,c),n.child)}function ep(t,n,r,l,c,f){return os(n),n.updateQueue=null,r=tg(n,l,r,c),Wm(t),l=Ch(),t!==null&&!Ve?(Nh(t,n,f),Ci(t,n,f)):(Bt&&l&&ch(n),n.flags|=1,Pe(t,n,r,f),n.child)}function np(t,n,r,l,c){if(os(n),n.stateNode===null){var f=Fs,y=r.contextType;typeof y=="object"&&y!==null&&(f=Fe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Eh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Fe(y):Fs,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(kh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Hh.enqueueReplaceState(f,f.state,null),El(n,l,f,c),vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=hs(r,E);f.props=R;var z=f.context,Q=r.contextType;y=Fs,typeof Q=="object"&&Q!==null&&(y=Fe(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&kg(n,f,l,y),Ki=!1;var q=n.memoizedState;f.state=q,El(n,l,f,c),vl(),z=n.memoizedState,E||q!==z||Ki?(typeof $=="function"&&(kh(n,r,$,l),z=n.memoizedState),(R=Ki||Bg(n,r,R,l,q,z,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Th(t,n),y=n.memoizedProps,Q=hs(r,y),f.props=Q,$=n.pendingProps,q=f.context,z=r.contextType,R=Fs,typeof z=="object"&&z!==null&&(R=Fe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||q!==R)&&kg(n,f,l,R),Ki=!1,q=n.memoizedState,f.state=q,El(n,l,f,c),vl();var B=n.memoizedState;y!==$||q!==B||Ki||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(kh(n,r,E,l),B=n.memoizedState),(Q=Ki||Bg(n,r,Q,l,q,B,R)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,pu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ea(n,t.child,null,c),n.child=ea(n,null,r,c)):Pe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ci(t,n,c),t}function ip(t,n,r,l){return hl(),n.flags|=256,Pe(t,n,r,l),n.child}var Qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(t){return{baseLanes:t,cachePool:Gm()}}function Xh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Dn),t}function rp(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Wi(n):tr(),Bt){var E=oe,R;if(R=E){t:{for(R=E,E=Kn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:is!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,oe=null,R=!0):R=!1}R||as(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return If(E)?n.lanes=32:n.lanes=536870912,null;Di(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=yu({mode:"hidden",children:E},c),l=ns(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Yh(r),c.childLanes=Xh(t,y,r),n.memoizedState=Qh,l):(Wi(n),Kh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=$h(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=yu({mode:"visible",children:l.children},E),c=ns(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ea(n,t.child,null,r),l=n.child,l.memoizedState=Yh(r),l.childLanes=Xh(t,y,r),n.memoizedState=Qh,n=c);else if(Wi(n),If(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,fl({value:l,source:null,stack:null}),n=$h(t,n,r)}else if(Ve||dl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=te,y!==null&&(l=r&-r,l=(l&42)!==0?1:Bi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Gs(t,l),mn(y,t,l),Kg;E.data==="$?"||gf(),n=$h(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,oe=Un(E.nextSibling),We=n,Bt=!0,ss=null,Kn=!1,t!==null&&(Sn[Rn++]=Ai,Sn[Rn++]=bi,Sn[Rn++]=is,Ai=t.id,bi=t.overflow,is=n),n=Kh(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=Ti(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Ti(z,c):(c=ns(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Yh(r):(R=E.cachePool,R!==null?(z=Se._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Gm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Xh(t,y,r),n.memoizedState=Qh,l):(Wi(n),r=t.child,t=r.sibling,r=Ti(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Kh(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $h(t,n,r){return ea(n,t.child,null,r),t=Kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,r)}function Zh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function ap(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,r),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,r,n);else if(t.tag===19)sp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Re,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&du(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Zh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&du(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Zh(n,!0,r,null,f);break;case"together":Zh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(dl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Ti(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function gE(t,n,r){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),Xi(n,Se,t.memoizedState.cache),hl();break;case 27:case 5:qi(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:Xi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?rp(t,n,r):(Wi(n),t=Ci(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(dl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return ap(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Wg(t,n,r);case 24:Xi(n,Se,t.memoizedState.cache)}return Ci(t,n,r)}function lp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Jh(t,r)&&(n.flags&128)===0)return Ve=!1,gE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Pm(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")lh(l)?(t=hs(l,t),n.tag=1,n=np(null,n,l,t,r)):(n.tag=0,n=Fh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===St){n.tag=11,n=$g(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=Zg(null,n,l,t,r);break t}}throw n=ne(l)||l,Error(a(306,n,""))}}return n;case 0:return Fh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=hs(l,n.pendingProps),np(t,n,l,c,r);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Th(t,n),El(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Xi(n,Se,l),l!==f.cache&&gh(n,[Se],r,!0),vl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ip(t,n,l,r);break t}else if(l!==c){c=An(Error(a(424)),n),fl(c),n=ip(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Un(t.firstChild),We=n,Bt=!0,ss=null,Kn=!0,r=zg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(hl(),l===c){n=Ci(t,n,r);break t}Pe(t,n,l,r)}n=n.child}return n;case 26:return pu(t,n),t===null?(r=hy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Vu(Tt.current).createElement(r),l[Te]=n,l[me]=t,ze(l,r,t),ce(l),n.stateNode=l):n.memoizedState=hy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qi(n),t===null&&Bt&&(l=n.stateNode=oy(n.type,n.pendingProps,Tt.current),We=n,Kn=!0,c=oe,ur(n.type)?(Of=c,oe=Un(l.firstChild)):oe=c),Pe(t,n,n.pendingProps.children,r),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=oe)&&(l=HE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,We=n,oe=Un(l.firstChild),Kn=!1,c=!0):c=!1),c||as(n)),qi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Nf(c,f)?l=null:y!==null&&Nf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Dh(t,n,lE,null,null,r),kl._currentValue=c),pu(t,n),Pe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=oe)&&(r=GE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,We=n,oe=null,t=!0):t=!1),t||as(n)),null;case 13:return rp(t,n,r);case 4:return Wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ea(n,null,l,r):Pe(t,n,l,r),n.child;case 11:return $g(t,n,n.type,n.pendingProps,r);case 7:return Pe(t,n,n.pendingProps,r),n.child;case 8:return Pe(t,n,n.pendingProps.children,r),n.child;case 12:return Pe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Xi(n,n.type,l.value),Pe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,os(n),c=Fe(c),l=l(c),n.flags|=1,Pe(t,n,l,r),n.child;case 14:return Zg(t,n,n.type,n.pendingProps,r);case 15:return Jg(t,n,n.type,n.pendingProps,r);case 19:return ap(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=yu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Wg(t,n,r);case 24:return os(n),l=Fe(Se),t===null?(c=_h(),c===null&&(c=te,f=ph(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Eh(n),Xi(n,Se,c)):((t.lanes&r)!==0&&(Th(t,n),El(n,null,null,r),vl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Xi(n,Se,l)):(l=f.cache,Xi(n,Se,l),l!==c.cache&&gh(n,[Se],r,!0))),Pe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ni(t){t.flags|=4}function op(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!py(n)){if(n=wn.current,n!==null&&((Pt&4194048)===Pt?$n!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==$n))throw yl=vh,Fm;t.flags|=8192}}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ga():536870912,t.lanes|=n,sa|=n)}function Dl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function pE(t,n,r){var l=n.pendingProps;switch(hh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(Se),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cl(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qm())),se(n),null;case 26:return r=n.memoizedState,t===null?(Ni(n),r!==null?(se(n),op(n,r)):(se(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ni(n),se(n),op(n,r)):(se(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),se(n),n.flags&=-16777217),null;case 27:oi(n),r=Tt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}t=pt.current,cl(n)?jm(n):(t=oy(c,l,r),n.stateNode=t,Ni(n))}return se(n),null;case 5:if(oi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(t=pt.current,cl(n))jm(n);else{switch(c=Vu(Tt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Te]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ni(n)}}return se(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Tt.current,cl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,r)),t||as(n)}else t=Vu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=cl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Te]=n}else hl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=qm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),_u(n,n.updateQueue),se(n),null;case 4:return Pn(),t===null&&Sf(n.stateNode.containerInfo),se(n),null;case 10:return Ri(n.type),se(n),null;case 19:if(rt(Re),c=n.memoizedState,c===null)return se(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Dl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=du(t),f!==null){for(n.flags|=128,Dl(c,!1),t=f.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lm(r,t),r=r.sibling;return et(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>Tu&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304)}else{if(!l)if(t=du(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),Dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return se(n),null}else 2*pn()-c.renderingStartTime>Tu&&r!==536870912&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=Re.current,et(Re,l?t&1|2:t&1),n):(se(n),null);case 22:case 23:return Di(n),Rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&_u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&rt(us),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function yE(t,n){switch(hh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(Se),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(Di(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));hl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(Re),null;case 4:return Pn(),null;case 10:return Ri(n.type),null;case 22:case 23:return Di(n),Rh(),t!==null&&rt(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(Se),null;case 25:return null;default:return null}}function up(t,n){switch(hh(n),n.tag){case 3:Ri(Se),Pn();break;case 26:case 27:case 5:oi(n);break;case 4:Pn();break;case 13:Di(n);break;case 19:rt(Re);break;case 10:Ri(n.type);break;case 22:case 23:Di(n),Rh(),t!==null&&rt(us);break;case 24:Ri(Se)}}function Cl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function er(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,z=E;try{z()}catch(Q){Zt(c,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){Zt(n,n.return,Q)}}function cp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Zm(n,r)}catch(l){Zt(t,t.return,l)}}}function hp(t,n,r){r.props=hs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Nl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function fp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Wh(t,n,r){try{var l=t.stateNode;jE(l,t.type,r,n),l[me]=n}catch(c){Zt(t,t.return,c)}}function dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=xu));else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,r),t=t.sibling;t!==null;)ef(t,n,r),t=t.sibling}function vu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(vu(t,n,r),t=t.sibling;t!==null;)vu(t,n,r),t=t.sibling}function mp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[Te]=t,n[me]=r}catch(f){Zt(t,t.return,f)}}var xi=!1,fe=!1,nf=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function _E(t,n){if(t=t.containerInfo,Df=Pu,t=wm(t),th(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,z=0,Q=0,$=t,q=null;e:for(;;){for(var B;$!==r||c!==0&&$.nodeType!==3||(E=y+c),$!==f||l!==0&&$.nodeType!==3||(R=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(B=$.firstChild)!==null;)q=$,$=B;for(;;){if($===t)break e;if(q===r&&++z===c&&(E=y),q===f&&++Q===l&&(R=y),(B=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cf={focusedElem:t,selectionRange:r},Pu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=hs(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Zt(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Vf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function pp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:nr(t,r),l&4&&Cl(5,r);break;case 1:if(nr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=hs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&cp(r),l&512&&Nl(r,r.return);break;case 3:if(nr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Zm(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&mp(r);case 26:case 5:nr(t,r),n===null&&l&4&&fp(r),l&512&&Nl(r,r.return);break;case 12:nr(t,r);break;case 13:nr(t,r),l&4&&vp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=DE.bind(null,r),FE(t,r))));break;case 22:if(l=r.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||fe,c=xi;var f=fe;xi=l,(fe=n)&&!f?ir(t,r,(r.subtreeFlags&8772)!==0):nr(t,r),xi=c,fe=f}break;case 30:break;default:nr(t,r)}}function yp(t){var n=t.alternate;n!==null&&(t.alternate=null,yp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,en=!1;function Vi(t,n,r){for(r=r.child;r!==null;)_p(t,n,r),r=r.sibling}function _p(t,n,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(le,r)}catch{}switch(r.tag){case 26:fe||Zn(r,n),Vi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Zn(r,n);var l=re,c=en;ur(r.type)&&(re=r.stateNode,en=!1),Vi(t,n,r),jl(r.stateNode),re=l,en=c;break;case 5:fe||Zn(r,n);case 6:if(l=re,c=en,re=null,Vi(t,n,r),re=l,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:re!==null&&(en?(t=re,ay(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ql(t)):ay(re,r.stateNode));break;case 4:l=re,c=en,re=r.stateNode.containerInfo,en=!0,Vi(t,n,r),re=l,en=c;break;case 0:case 11:case 14:case 15:fe||er(2,r,n),fe||er(4,r,n),Vi(t,n,r);break;case 1:fe||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&hp(r,n,l)),Vi(t,n,r);break;case 21:Vi(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Vi(t,n,r),fe=l;break;default:Vi(t,n,r)}}function vp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ql(t)}catch(r){Zt(n,n.return,r)}}function vE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gp),n;default:throw Error(a(435,t.tag))}}function rf(t,n){var r=vE(t);n.forEach(function(l){var c=CE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ur(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(a(160));_p(f,y,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var Mn=null;function Ep(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(er(3,t,t.return),Cl(3,t),er(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(fe||r===null||Zn(r,r.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(cn(n,t),hn(t),l&512&&(fe||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[qr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[Te]=t,ce(f),l=f;break t;case"link":var y=my("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=my("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=t,ce(f),l=f}t.stateNode=l}else gy(c,t.type,t.stateNode);else t.stateNode=dy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?gy(c,t.type,t.stateNode):dy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wh(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(fe||r===null||Zn(r,r.return)),r!==null&&l&4&&Wh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(fe||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(B){Zt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Wh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(nf=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Zt(t,t.return,B)}}break;case 3:if(Mu=null,c=Mn,Mn=Iu(n.containerInfo),cn(n,t),Mn=c,hn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ql(n.containerInfo)}catch(B){Zt(t,t.return,B)}nf&&(nf=!1,Tp(t));break;case 4:l=Mn,Mn=Iu(t.stateNode.containerInfo),cn(n,t),hn(t),Mn=l;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cf=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=xi,Q=fe;if(xi=z||c,fe=Q||R,cn(n,t),fe=Q,xi=z,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||xi||fe||fs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(B){Zt(R,R.return,B)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(B){Zt(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rf(t,r))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(dp(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=tf(t);vu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(_n(y,""),r.flags&=-33);var E=tf(t);vu(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,z=tf(t);ef(t,z,R);break;default:throw Error(a(161))}}catch(Q){Zt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function nr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pp(t,n.alternate,n),n=n.sibling}function fs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:er(4,n,n.return),fs(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hp(n,n.return,r),fs(n);break;case 27:jl(n.stateNode);case 26:case 5:Zn(n,n.return),fs(n);break;case 22:n.memoizedState===null&&fs(n);break;case 30:fs(n);break;default:fs(n)}t=t.sibling}}function ir(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ir(c,f,r),Cl(4,f);break;case 1:if(ir(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)$m(R[c],E)}catch(z){Zt(l,l.return,z)}}r&&y&64&&cp(f),Nl(f,f.return);break;case 27:mp(f);case 26:case 5:ir(c,f,r),r&&l===null&&y&4&&fp(f),Nl(f,f.return);break;case 12:ir(c,f,r);break;case 13:ir(c,f,r),r&&y&4&&vp(c,f);break;case 22:f.memoizedState===null&&ir(c,f,r),Nl(f,f.return);break;case 30:break;default:ir(c,f,r)}n=n.sibling}}function sf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ml(r))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ap(t,n,r,l),n=n.sibling}function Ap(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&Cl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):xl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,na(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&sf(y,n);break;case 24:Jn(t,n,r,l),c&2048&&af(n.alternate,n);break;default:Jn(t,n,r,l)}}function na(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:na(f,y,E,R,c),Cl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?na(f,y,E,R,c):xl(f,y):(Q._visibility|=2,na(f,y,E,R,c)),c&&z&2048&&sf(y.alternate,y);break;case 24:na(f,y,E,R,c),c&&z&2048&&af(y.alternate,y);break;default:na(f,y,E,R,c)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:xl(r,l),c&2048&&sf(l.alternate,l);break;case 24:xl(r,l),c&2048&&af(l.alternate,l);break;default:xl(r,l)}n=n.sibling}}var Vl=8192;function ia(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)bp(t),t=t.sibling}function bp(t){switch(t.tag){case 26:ia(t),t.flags&Vl&&t.memoizedState!==null&&rT(Mn,t.memoizedState,t.memoizedProps);break;case 5:ia(t);break;case 3:case 4:var n=Mn;Mn=Iu(t.stateNode.containerInfo),ia(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Vl,Vl=16777216,ia(t),Vl=n):ia(t));break;default:ia(t)}}function Sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,wp(l,t)}Sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&er(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Il(t);break;default:Il(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,wp(l,t)}Sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:er(8,n,n.return),Eu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function wp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:er(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(yp(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var EE={getCacheForType:function(t){var n=Fe(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},TE=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,xt=null,Pt=0,Qt=0,fn=null,rr=!1,ra=!1,lf=!1,Ii=0,ue=0,sr=0,ds=0,of=0,Dn=0,sa=0,Ol=null,nn=null,uf=!1,cf=0,Tu=1/0,Au=null,ar=null,je=0,lr=null,aa=null,la=0,hf=0,ff=null,Dp=null,Ml=0,df=null;function dn(){if((Ft&2)!==0&&Pt!==0)return Pt&-Pt;if(F.T!==null){var t=Xs;return t!==0?t:Ef()}return ki()}function Cp(){Dn===0&&(Dn=(Pt&536870912)===0||Bt?Ha():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Dn}function mn(t,n,r){(t===te&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(oa(t,0),or(t,Pt,Dn,!1)),ci(t,r),((Ft&2)===0||t!==te)&&(t===te&&((Ft&2)===0&&(ds|=r),ue===4&&or(t,Pt,Dn,!1)),Wn(t))}function Np(t,n,r){if((Ft&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||zr(t,n),c=l?SE(t,n):pf(t,n,!0),f=l;do{if(c===0){ra&&!l&&or(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!AE(r)){c=pf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Ol;var R=E.current.memoizedState.isDehydrated;if(R&&(oa(E,y).flags|=256),y=pf(E,y,!1),y!==2){if(lf&&!R){E.errorRecoveryDisabledLanes|=f,ds|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){oa(t,0),or(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:or(l,n,Dn,!rr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=cf+300-pn(),10<c)){if(or(l,n,Dn,!rr),Rs(l,0,!0)!==0)break t;l.timeoutHandle=ry(xp.bind(null,l,r,nn,Au,uf,n,Dn,ds,sa,rr,f,2,-0,0),c);break t}xp(l,r,nn,Au,uf,n,Dn,ds,sa,rr,f,0,-0,0)}}break}while(!0);Wn(t)}function xp(t,n,r,l,c,f,y,E,R,z,Q,$,q,B){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:iT},bp(n),$=sT(),$!==null)){t.cancelPendingCommit=$(Pp.bind(null,t,n,f,r,l,c,y,E,R,Q,1,q,B)),or(t,f,y,!z);return}Pp(t,n,f,r,l,c,y,E,R)}function AE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(t,n,r,l){n&=~of,n&=~ds,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&jn(t,r,n)}function bu(){return(Ft&6)===0?(Ul(0),!1):!0}function mf(){if(xt!==null){if(Qt===0)var t=xt.return;else t=xt,Si=ls=null,xh(t),ta=null,Rl=0,t=xt;for(;t!==null;)up(t.alternate,t),t=t.return;xt=null}}function oa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,qE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),mf(),te=t,xt=r=Ti(t.current,null),Pt=n,Qt=0,fn=null,rr=!1,ra=zr(t,n),lf=!1,sa=Dn=of=ds=sr=ue=0,nn=Ol=null,uf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Fo(),r}function Vp(t,n){wt=null,F.H=cu,n===pl||n===tu?(n=Xm(),Qt=3):n===Fm?(n=Xm(),Qt=4):Qt=n===Kg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,xt===null&&(ue=1,gu(t,An(n,t.current)))}function Ip(){var t=F.H;return F.H=cu,t===null?cu:t}function Op(){var t=F.A;return F.A=EE,t}function gf(){ue=4,rr||(Pt&4194048)!==Pt&&wn.current!==null||(ra=!0),(sr&134217727)===0&&(ds&134217727)===0||te===null||or(te,Pt,Dn,!1)}function pf(t,n,r){var l=Ft;Ft|=2;var c=Ip(),f=Op();(te!==t||Pt!==n)&&(Au=null,oa(t,n)),n=!1;var y=ue;t:do try{if(Qt!==0&&xt!==null){var E=xt,R=fn;switch(Qt){case 8:mf(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Qt;if(Qt=0,fn=null,ua(t,E,R,z),r&&ra){y=0;break t}break;default:z=Qt,Qt=0,fn=null,ua(t,E,R,z)}}bE(),y=ue;break}catch(Q){Vp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Si=ls=null,Ft=l,F.H=c,F.A=f,xt===null&&(te=null,Pt=0,Fo()),y}function bE(){for(;xt!==null;)Mp(xt)}function SE(t,n){var r=Ft;Ft|=2;var l=Ip(),c=Op();te!==t||Pt!==n?(Au=null,Tu=pn()+500,oa(t,n)):ra=zr(t,n);t:do try{if(Qt!==0&&xt!==null){n=xt;var f=fn;e:switch(Qt){case 1:Qt=0,fn=null,ua(t,n,f,1);break;case 2:case 9:if(Qm(f)){Qt=0,fn=null,Up(n);break}n=function(){Qt!==2&&Qt!==9||te!==t||(Qt=7),Wn(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Qm(f)?(Qt=0,fn=null,Up(n)):(Qt=0,fn=null,ua(t,n,f,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var E=xt;if(!y||py(y)){Qt=0,fn=null;var R=E.sibling;if(R!==null)xt=R;else{var z=E.return;z!==null?(xt=z,Su(z)):xt=null}break e}}Qt=0,fn=null,ua(t,n,f,5);break;case 6:Qt=0,fn=null,ua(t,n,f,6);break;case 8:mf(),ue=6;break t;default:throw Error(a(462))}}RE();break}catch(Q){Vp(t,Q)}while(!0);return Si=ls=null,F.H=l,F.A=c,Ft=r,xt!==null?0:(te=null,Pt=0,Fo(),ue)}function RE(){for(;xt!==null&&!za();)Mp(xt)}function Mp(t){var n=lp(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?Su(t):xt=n}function Up(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ep(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=ep(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:xh(n);default:up(r,n),n=xt=Lm(n,Ii),n=lp(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?Su(t):xt=n}function ua(t,n,r,l){Si=ls=null,xh(n),ta=null,Rl=0;var c=n.return;try{if(mE(t,c,n,r,Pt)){ue=1,gu(t,An(r,t.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;ue=1,gu(t,An(r,t.current)),xt=null;return}n.flags&32768?(Bt||l===1?t=!0:ra||(Pt&536870912)!==0?t=!1:(rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Lp(n,rr);return}t=n.return;var r=pE(n.alternate,n,Ii);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);ue===0&&(ue=5)}function Lp(t,n){do{var r=yE(t.alternate,t);if(r!==null){r.flags&=32767,xt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=r}while(t!==null);ue=6,xt=null}function Pp(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do Ru();while(je!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=sh,Fa(t,r,f,y,E,R),t===te&&(xt=te=null,Pt=0),aa=n,lr=t,la=r,hf=f,ff=c,Dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NE(Ur,function(){return kp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=tt.p,tt.p=2,y=Ft,Ft|=4;try{_E(t,n,r)}finally{Ft=y,tt.p=c,F.T=l}}je=1,jp(),zp(),qp()}}function jp(){if(je===1){je=0;var t=lr,n=aa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=tt.p;tt.p=2;var c=Ft;Ft|=4;try{Ep(n,t);var f=Cf,y=wm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Rm(E.ownerDocument.documentElement,E)){if(R!==null&&th(E)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var B=q.getSelection(),Et=E.textContent.length,yt=Math.min(R.start,Et),$t=R.end===void 0?yt:Math.min(R.end,Et);!B.extend&&yt>$t&&(y=$t,$t=yt,yt=y);var U=Sm(E,yt),V=Sm(E,$t);if(U&&V&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==V.node||B.focusOffset!==V.offset)){var j=$.createRange();j.setStart(U.node,U.offset),B.removeAllRanges(),yt>$t?(B.addRange(j),B.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),B.addRange(j))}}}}for($=[],B=E;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Pu=!!Df,Cf=Df=null}finally{Ft=c,tt.p=l,F.T=r}}t.current=n,je=2}}function zp(){if(je===2){je=0;var t=lr,n=aa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=tt.p;tt.p=2;var c=Ft;Ft|=4;try{pp(t,n.alternate,n)}finally{Ft=c,tt.p=l,F.T=r}}je=3}}function qp(){if(je===4||je===3){je=0,Eo();var t=lr,n=aa,r=la,l=Dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,aa=lr=null,Bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ar=null),ws(r),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=tt.p,tt.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=c}}(la&3)!==0&&Ru(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===df?Ml++:(Ml=0,df=t):Ml=0,Ul(0)}}function Bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Ru(t){return jp(),zp(),qp(),kp()}function kp(){if(je!==5)return!1;var t=lr,n=hf;hf=0;var r=ws(la),l=F.T,c=tt.p;try{tt.p=32>r?32:r,F.T=null,r=ff,ff=null;var f=lr,y=la;if(je=0,aa=lr=null,la=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,Rp(f.current),Ap(f,f.current,y,r),Ft=E,Ul(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{tt.p=c,F.T=l,Bp(t,n)}}function Hp(t,n,r){n=An(r,n),n=Gh(t.stateNode,n,2),t=Zi(t,n,2),t!==null&&(ci(t,2),Wn(t))}function Zt(t,n,r){if(t.tag===3)Hp(t,t,r);else for(;n!==null;){if(n.tag===3){Hp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ar===null||!ar.has(l))){t=An(r,t),r=Yg(2),l=Zi(n,r,2),l!==null&&(Xg(r,l,n,t),ci(l,2),Wn(l));break}}n=n.return}}function yf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new TE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(lf=!0,c.add(r),t=wE.bind(null,t,n,r),n.then(t,t))}function wE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,te===t&&(Pt&r)===r&&(ue===4||ue===3&&(Pt&62914560)===Pt&&300>pn()-cf?(Ft&2)===0&&oa(t,0):of|=r,sa===Pt&&(sa=0)),Wn(t)}function Gp(t,n){n===0&&(n=Ga()),t=Gs(t,n),t!==null&&(ci(t,n),Wn(t))}function DE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Gp(t,r)}function CE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Gp(t,r)}function NE(t,n){return Or(t,n)}var wu=null,ca=null,_f=!1,Du=!1,vf=!1,ms=0;function Wn(t){t!==ca&&t.next===null&&(ca===null?wu=ca=t:ca=ca.next=t),Du=!0,_f||(_f=!0,VE())}function Ul(t,n){if(!vf&&Du){vf=!0;do for(var r=!1,l=wu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xp(l,f))}else f=Pt,f=Rs(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zr(l,f)||(r=!0,Xp(l,f));l=l.next}while(r);vf=!1}}function xE(){Fp()}function Fp(){Du=_f=!1;var t=0;ms!==0&&(zE()&&(t=ms),ms=0);for(var n=pn(),r=null,l=wu;l!==null;){var c=l.next,f=Qp(l,n);f===0?(l.next=null,r===null?wu=c:r.next=c,c===null&&(ca=r)):(r=l,(t!==0||(f&3)!==0)&&(Du=!0)),l=c}Ul(t)}function Qp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ge(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=ka(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,r=Pt,r=Rs(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||zr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Mr(l),ws(r)){case 2:case 8:r=bs;break;case 32:r=Ur;break;case 268435456:r=Ss;break;default:r=Ur}return l=Yp.bind(null,t),r=Or(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Mr(l),t.callbackPriority=2,t.callbackNode=null,2}function Yp(t,n){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ru()&&t.callbackNode!==r)return null;var l=Pt;return l=Rs(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Np(t,l,n),Qp(t,pn()),t.callbackNode!=null&&t.callbackNode===r?Yp.bind(null,t):null)}function Xp(t,n){if(Ru())return null;Np(t,n,!0)}function VE(){BE(function(){(Ft&6)!==0?Or(qa,xE):Fp()})}function Ef(){return ms===0&&(ms=Ha()),ms}function Kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function $p(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function IE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Kp((c[me]||null).action),y=l.submitter;y&&(n=(n=y[me]||null)?Kp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Os("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ms!==0){var R=y?$p(c,y):new FormData(c);zh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?$p(c,y):new FormData(c),zh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Tf=0;Tf<rh.length;Tf++){var Af=rh[Tf],OE=Af.toLowerCase(),ME=Af[0].toUpperCase()+Af.slice(1);On(OE,"on"+ME)}On(Nm,"onAnimationEnd"),On(xm,"onAnimationIteration"),On(Vm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Z0,"onTransitionRun"),On(J0,"onTransitionStart"),On(W0,"onTransitionCancel"),On(Im,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Zp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){mu(Q)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){mu(Q)}c.currentTarget=null,f=R}}}}function Vt(t,n){var r=n[Ya];r===void 0&&(r=n[Ya]=new Set);var l=t+"__bubble";r.has(l)||(Jp(n,t,2,!1),r.add(l))}function bf(t,n,r){var l=0;n&&(l|=4),Jp(r,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[Cu]){t[Cu]=!0,Xa.forEach(function(r){r!=="selectionchange"&&(UE.has(r)||bf(r,!1,t),bf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,bf("selectionchange",!1,n))}}function Jp(t,n,r,l){switch(Ay(n)){case 2:var c=oT;break;case 8:c=uT;break;default:c=jf}r=c.bind(null,n,r,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Rf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=hi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}xo(function(){var z=f,Q=vn(r),$=[];t:{var q=Om.get(t);if(q!==void 0){var B=Os,Et=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":B=zs;break;case"focusin":Et="focus",B=Ls;break;case"focusout":Et="blur",B=Ls;break;case"beforeblur":case"afterblur":B=Ls;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=jo;break;case Nm:case xm:case Vm:B=Ps;break;case Im:B=qo;break;case"scroll":case"scrollend":B=Vo;break;case"wheel":B=qs;break;case"copy":case"cut":case"paste":B=js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=al;break;case"toggle":case"beforetoggle":B=ko}var yt=(n&4)!==0,$t=!yt&&(t==="scroll"||t==="scrollend"),U=yt?q!==null?q+"Capture":null:q;yt=[];for(var V=z,j;V!==null;){var X=V;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||U===null||(X=Yr(V,U),X!=null&&yt.push(Pl(V,X,j))),$t)break;V=V.return}0<yt.length&&(q=new B(q,Et,null,r,Q),$.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",q&&r!==gi&&(Et=r.relatedTarget||r.fromElement)&&(hi(Et)||Et[yn]))break t;if((B||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,B?(Et=r.relatedTarget||r.toElement,B=z,Et=Et?hi(Et):null,Et!==null&&($t=h(Et),yt=Et.tag,Et!==$t||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(B=null,Et=z),B!==Et)){if(yt=Tn,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=al,X="onPointerLeave",U="onPointerEnter",V="pointer"),$t=B==null?q:qn(B),j=Et==null?q:qn(Et),q=new yt(X,V+"leave",B,r,Q),q.target=$t,q.relatedTarget=j,X=null,hi(Q)===z&&(yt=new yt(U,V+"enter",Et,r,Q),yt.target=j,yt.relatedTarget=$t,X=yt),$t=X,B&&Et)e:{for(yt=B,U=Et,V=0,j=yt;j;j=ha(j))V++;for(j=0,X=U;X;X=ha(X))j++;for(;0<V-j;)yt=ha(yt),V--;for(;0<j-V;)U=ha(U),j--;for(;V--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=ha(yt),U=ha(U)}yt=null}else yt=null;B!==null&&Wp($,q,B,yt,!1),Et!==null&&$t!==null&&Wp($,$t,Et,yt,!0)}}t:{if(q=z?qn(z):window,B=q.nodeName&&q.nodeName.toLowerCase(),B==="select"||B==="input"&&q.type==="file")var ut=_m;else if(be(q))if(vm)ut=X0;else{ut=Q0;var Ct=F0}else B=q.nodeName,!B||B.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Wa(z.elementType)&&(ut=_m):ut=Y0;if(ut&&(ut=ut(t,z))){Ei($,ut,r,Q);break t}Ct&&Ct(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Qi(q,"number",q.value)}switch(Ct=z?qn(z):window,t){case"focusin":(be(Ct)||Ct.contentEditable==="true")&&(Bs=Ct,eh=z,ul=null);break;case"focusout":ul=eh=Bs=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Dm($,r,Q);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Dm($,r,Q)}var dt;if(Yn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Ut?G(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(p&&r.locale!=="ko"&&(Ut||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ut&&(dt=el()):(Hn=Q,Yi="value"in Hn?Hn.value:Hn.textContent,Ut=!0)),Ct=Nu(z,_t),0<Ct.length&&(_t=new rl(_t,t,null,r,Q),$.push({event:_t,listeners:Ct}),dt?_t.data=dt:(dt=nt(r),dt!==null&&(_t.data=dt)))),(dt=m?Ae(t,r):Lt(t,r))&&(_t=Nu(z,"onBeforeInput"),0<_t.length&&(Ct=new rl("onBeforeInput","beforeinput",null,r,Q),$.push({event:Ct,listeners:_t}),Ct.data=dt)),IE($,t,z,r,Q)}Zp($,n)})}function Pl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Nu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Yr(t,r),c!=null&&l.unshift(Pl(t,c,f)),c=Yr(t,n),c!=null&&l.push(Pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Yr(r,f),z!=null&&y.unshift(Pl(r,z,R))):c||(z=Yr(r,f),z!=null&&y.push(Pl(r,z,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var LE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(LE,`
`).replace(PE,"")}function ey(t,n){return n=ty(n),ty(t)===n}function xu(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,l);break;case"style":Ja(t,l,f);break;case"data":if(n!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Is(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Is(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=xu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Xc.get(r)||r,Fi(t,r,l))}}function wf(t,n,r,l,c,f){switch(r){case"style":Ja(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Fi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Kt(t,n,l,Q,r,null)}}Gr(t,f,E,R,z,y,c,!1),Vs(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?mi(t,!!l,n,!1):r!=null&&mi(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(t,n,y,E,r,null)}Fr(t,l,c,f),Vs(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Vt(Ll[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,z,l,r,null)}return;default:if(Wa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&wf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function jE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,z=null,Q=null;for(B in r){var $=r[B];if(r.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(B)||Kt(t,n,B,null,l,$)}}for(var q in l){var B=l[q];if($=r[q],l.hasOwnProperty(q)&&(B!=null||$!=null))switch(q){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":Q=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==$&&Kt(t,n,q,B,l,$)}}ln(t,y,E,R,z,Q,f,c);return;case"select":B=y=E=q=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=y,l=B,q!=null?mi(t,!!r,q,!1):!!l!=!!r&&(n!=null?mi(t,!!r,n,!0):mi(t,!!r,r?[]:"",!1));return;case"textarea":B=q=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":q=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Yt(t,q,B);return;case"option":for(var Et in r)if(q=r[Et],r.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Kt(t,n,Et,null,l,q)}for(R in l)if(q=l[R],B=r[R],l.hasOwnProperty(R)&&q!==B&&(q!=null||B!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,R,q,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)q=r[yt],r.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&Kt(t,n,yt,null,l,q);for(z in l)if(q=l[z],B=r[z],l.hasOwnProperty(z)&&q!==B&&(q!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Kt(t,n,z,q,l,B)}return;default:if(Wa(n)){for(var $t in r)q=r[$t],r.hasOwnProperty($t)&&q!==void 0&&!l.hasOwnProperty($t)&&wf(t,n,$t,void 0,l,q);for(Q in l)q=l[Q],B=r[Q],!l.hasOwnProperty(Q)||q===B||q===void 0&&B===void 0||wf(t,n,Q,q,l,B);return}}for(var U in r)q=r[U],r.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,q);for($ in l)q=l[$],B=r[$],!l.hasOwnProperty($)||q===B||q==null&&B==null||Kt(t,n,$,q,l,B)}var Df=null,Cf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function zE(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(t){return sy.resolve(null).then(t).catch(kE)}:ry;function kE(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function ay(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&jl(y.documentElement),r&2&&jl(y.body),r&4)for(r=y.head,jl(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[qr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ql(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ql(n)}function Vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Vf(r),Gi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function HE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function GE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function If(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function FE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Of=null;function ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function oy(t,n,r){switch(n=Vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Gi(t)}var Cn=new Map,uy=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=tt.d;tt.d={f:QE,r:YE,D:XE,C:KE,L:$E,m:ZE,X:WE,S:JE,M:tT};function QE(){var t=Oi.f(),n=bu();return t||n}function YE(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):Oi.r(t)}var fa=typeof document>"u"?null:document;function cy(t,n,r){var l=fa;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),uy.has(c)||(uy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function XE(t){Oi.D(t),cy("dns-prefetch",t,null)}function KE(t,n){Oi.C(t,n),cy("preconnect",t,n)}function $E(t,n,r){Oi.L(t,n,r);var l=fa;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=da(t);break;case"script":f=ma(t)}Cn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(ql(f))||(n=l.createElement("link"),ze(n,"link",t),ce(n),l.head.appendChild(n)))}}function ZE(t,n){Oi.m(t,n);var r=fa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ma(t)}if(!Cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ql(f)))return}l=r.createElement("link"),ze(l,"link",t),ce(l),r.head.appendChild(l)}}}function JE(t,n,r){Oi.S(t,n,r);var l=fa;if(l&&t){var c=$e(l).hoistableStyles,f=da(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(zl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&Mf(t,r);var R=y=l.createElement("link");ce(R),ze(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function WE(t,n){Oi.X(t,n);var r=fa;if(r&&t){var l=$e(r).hoistableScripts,c=ma(t),f=l.get(c);f||(f=r.querySelector(ql(c)),f||(t=A({src:t,async:!0},n),(n=Cn.get(c))&&Uf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tT(t,n){Oi.M(t,n);var r=fa;if(r&&t){var l=$e(r).hoistableScripts,c=ma(t),f=l.get(c);f||(f=r.querySelector(ql(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&Uf(t,n),f=r.createElement("script"),ce(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function hy(t,n,r,l){var c=(c=Tt.current)?Iu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=da(r.href),r=$e(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=da(r.href);var f=$e(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(zl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||eT(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ma(r),r=$e(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function da(t){return'href="'+ge(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function eT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ce(n),t.head.appendChild(n))}function ma(t){return'[src="'+ge(t)+'"]'}function ql(t){return"script[async]"+t}function dy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ze(l,"style",c),Ou(l,r.precedence,t),n.instance=l;case"stylesheet":c=da(r.href);var f=t.querySelector(zl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=fy(r),(c=Cn.get(c))&&Mf(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",l),n.state.loading|=4,Ou(f,r.precedence,t),n.instance=f;case"script":return f=ma(r.src),(c=t.querySelector(ql(f)))?(n.instance=c,ce(c),c):(l=r,(c=Cn.get(f))&&(l=A({},r),Uf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,r.precedence,t));return n.instance}function Ou(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function my(t,n,r){if(Mu===null){var l=new Map,c=Mu=new Map;c.set(r,l)}else c=Mu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[qr]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function gy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function nT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bl=null;function iT(){}function rT(t,n,r){if(Bl===null)throw Error(a(475));var l=Bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=da(r.href),f=t.querySelector(zl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=fy(r),(c=Cn.get(c))&&Mf(r,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Uu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function sT(){if(Bl===null)throw Error(a(475));var t=Bl;return t.stylesheets&&t.count===0&&Lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(aT,t),Lu=null,Uu.call(t))}function aT(t,n){if(!(n.state.loading&4)){var r=Lu.get(t);if(r)var l=r.get(null);else{r=new Map,Lu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var kl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function lT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function yy(t,n,r,l,c,f,y,E,R,z,Q,$){return t=new lT(t,n,r,y,E,R,z,$),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Eh(f),t}function _y(t){return t?(t=Fs,t):Fs}function vy(t,n,r,l,c,f){c=_y(c),l.context===null?l.context=c:l.pendingContext=c,l=$i(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Zi(t,l,n),r!==null&&(mn(r,t,n),_l(r,t,n))}function Ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Pf(t,n){Ey(t,n),(t=t.alternate)&&Ey(t,n)}function Ty(t){if(t.tag===13){var n=Gs(t,67108864);n!==null&&mn(n,t,67108864),Pf(t,67108864)}}var Pu=!0;function oT(t,n,r,l){var c=F.T;F.T=null;var f=tt.p;try{tt.p=2,jf(t,n,r,l)}finally{tt.p=f,F.T=c}}function uT(t,n,r,l){var c=F.T;F.T=null;var f=tt.p;try{tt.p=8,jf(t,n,r,l)}finally{tt.p=f,F.T=c}}function jf(t,n,r,l){if(Pu){var c=zf(l);if(c===null)Rf(t,n,l,ju,r),by(t,l);else if(hT(c,t,n,r,l))l.stopPropagation();else if(by(t,l),n&4&&-1<cT.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=xn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Ge(y);E.entanglements[1]|=R,y&=~R}Wn(f),(Ft&6)===0&&(Tu=pn()+500,Ul(0))}}break;case 13:E=Gs(f,2),E!==null&&mn(E,f,2),bu(),Pf(f,2)}if(f=zf(l),f===null&&Rf(t,n,l,ju,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Rf(t,n,l,null,r)}}function zf(t){return t=vn(t),qf(t)}var ju=null;function qf(t){if(ju=null,t=hi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ju=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kc()){case qa:return 2;case bs:return 8;case Ur:case Hc:return 32;case Ss:return 268435456;default:return 32}default:return 32}}var Bf=!1,cr=null,hr=null,fr=null,Hl=new Map,Gl=new Map,dr=[],cT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function by(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Fl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function hT(t,n,r,l,c){switch(n){case"focusin":return cr=Fl(cr,t,n,r,l,c),!0;case"dragenter":return hr=Fl(hr,t,n,r,l,c),!0;case"mouseover":return fr=Fl(fr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Hl.set(f,Fl(Hl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Gl.set(f,Fl(Gl.get(f)||null,t,n,r,l,c)),!0}return!1}function Sy(t){var n=hi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,bo(t.priority,function(){if(r.tag===13){var l=dn();l=Bi(l);var c=Gs(r,l);c!==null&&mn(c,r,l),Pf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gi=l,r.target.dispatchEvent(l),gi=null}else return n=zn(r),n!==null&&Ty(n),t.blockedOn=r,!1;n.shift()}return!0}function Ry(t,n,r){zu(t)&&r.delete(n)}function fT(){Bf=!1,cr!==null&&zu(cr)&&(cr=null),hr!==null&&zu(hr)&&(hr=null),fr!==null&&zu(fr)&&(fr=null),Hl.forEach(Ry),Gl.forEach(Ry)}function qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Bf||(Bf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,fT)))}var Bu=null;function wy(t){Bu!==t&&(Bu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(qf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,zh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ql(t){function n(R){return qu(R,t)}cr!==null&&qu(cr,t),hr!==null&&qu(hr,t),fr!==null&&qu(fr,t),Hl.forEach(n),Gl.forEach(n);for(var r=0;r<dr.length;r++){var l=dr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(r=dr[0],r.blockedOn===null);)Sy(r),r.blockedOn===null&&dr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[me]||null;if(typeof f=="function")y||wy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[me]||null)E=y.formAction;else if(qf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),wy(r)}}}function kf(t){this._internalRoot=t}ku.prototype.render=kf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=dn();vy(r,l,t,n,null,null)},ku.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;vy(t.current,2,null,t,null,null),bu(),n[yn]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<dr.length&&n!==0&&n<dr[r].priority;r++);dr.splice(r,0,t),r===0&&Sy(t)}};var Dy=e.version;if(Dy!=="19.1.1")throw Error(a(527,Dy,"19.1.1"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var dT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{le=Hu.inject(dT),Gt=Hu}catch{}}return Xl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Hg,f=Gg,y=Fg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=yy(t,1,!1,null,null,r,l,c,f,y,E,null),t[yn]=n.current,Sf(t),new kf(n)},Xl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Hg,y=Gg,E=Fg,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=yy(t,1,!0,n,r??null,l,c,f,y,E,R,z),n.context=_y(null),r=n.current,l=dn(),l=Bi(l),c=$i(l),c.callback=null,Zi(r,c,l),r=l,n.current.lanes=r,ci(n,r),Wn(n),t[yn]=n.current,Sf(t),new ku(n)},Xl.version="19.1.1",Xl}var Py;function bT(){if(Py)return Ff.exports;Py=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=AT(),Ff.exports}var ST=bT();const K_=gt.createContext(),Cr=()=>{const s=gt.useContext(K_);if(!s)throw new Error("useLanguage must be used within a LanguageProvider");return s},RT={en:{requestHelp:"Request Help",helplineNumbers:"Helpline Numbers",viewRequests:"View Requests",myRequests:"My Requests",backToHome:"Back to Home",welcome:"Punjab Stands Together",welcomeMessage:"Do you need help or want to help? Use the buttons below to request assistance or offer support!",getHelpNow:"Get Help Now!",viewHelplines:"View Helplines",viewAllRequests:"View All Requests",emergencyNotice:"Emergency Notice",emergencyMessage:"If you are in immediate danger, call emergency services first",footerText:"Simple, mobile-focused layout for everyone",name:"Name",location:"Location",contactNumber:"Contact Number",typeOfHelp:"Type of Help",description:"Description",submit:"Submit",getLocation:"Get My Location",nameRequired:"Name is required",locationRequired:"Location is required",contactNumberRequired:"Contact number is required",typeOfHelpRequired:"Please select a type of help",descriptionRequired:"Description is required",medical:"Medical",food:"Food",shelter:"Shelter",emergencyTransport:"Emergency Transport",governmentHelplines:"Government Helplines",ngoHelplines:"NGO & Helping Groups",selectDistrict:"Select District",helplinesFor:"Helplines for",selectDistrictToView:"Please select a district to view helplines",selectDistrictMessage:"Choose your district from the dropdown above to see available helplines",noHelplinesFound:"No helplines found for this district",noHelplinesMessage:"Please check back later or contact emergency services directly",government:"Government",ngo:"NGO",address:"Address",availableHours:"Available Hours",clickToViewDetails:"Click to View Details",loadMore:"Load More",loadAll:"Load All",noRequests:"No requests found",all:"All",pending:"Pending",completed:"Completed",markCompleted:"Mark Completed",completedAt:"Completed At",updating:"Updating...",errorLoading:"Error loading data",retry:"Retry",error:"Error",permissionDenied:"Permission denied. Please check your Firebase configuration.",serviceUnavailable:"Service temporarily unavailable. Please try again later.",unauthenticated:"Authentication required. Please refresh the page.",requestSubmitted:"Request submitted successfully",errorSubmitting:"Error submitting request",locationError:"Error getting location. Please ensure location services are enabled and try again.",enablingGPS:"Enabling GPS for better accuracy...",fetchingLocation:"Fetching your location...",locationFetched:"Location fetched successfully",lowAccuracyWarning:"Warning: Low GPS accuracy. Try moving to an open area for better results.",locationPermissionDenied:"Location permission denied. Please enable it in your browser settings.",locationUnavailable:"Unable to retrieve location. Please check your device settings.",locationTimeout:"Location request timed out. Please try again in an open area.",near:"Near",accuracy:"accuracy",loading:"Loading..."},pa:{requestHelp:"  ",helplineNumbers:" ",viewRequests:" ",myRequests:" ",backToHome:"   ",welcome:"   ",welcomeMessage:"                        !",getHelpNow:"  ",viewHelplines:"  ",viewAllRequests:"  ",emergencyNotice:" ",emergencyMessage:"     ,       ",footerText:"  , - ",name:"",location:"",contactNumber:" ",typeOfHelp:"      ",description:"  ",submit:" ",getLocation:"   ",nameRequired:"  ",locationRequired:"  ",contactNumberRequired:"   ",typeOfHelpRequired:"     ",descriptionRequired:"  ",medical:"/",food:"",shelter:"",emergencyTransport:" ",governmentHelplines:" ",ngoHelplines:"     ",selectDistrict:" ",helplinesFor:"",selectDistrictToView:"    ",selectDistrictMessage:"          ",noHelplinesFound:"      ",noHelplinesMessage:"            ",government:"",ngo:"",address:"",availableHours:" ",clickToViewDetails:"     ",loadMore:"  ",loadAll:"  ",noRequests:"   ",all:"",pending:"",completed:" ",markCompleted:" ",completedAt:" ",updating:"   ...",errorLoading:"    ",retry:"  ",error:"",permissionDenied:"      Firebase   ",serviceUnavailable:"             ",unauthenticated:"        ",requestSubmitted:"     ",errorSubmitting:"    ",locationError:"    .             ",enablingGPS:"   GPS     ...",fetchingLocation:"      ...",locationFetched:"    ",lowAccuracyWarning:": GPS          ",locationPermissionDenied:"             ",locationUnavailable:"            ",locationTimeout:"               ",near:"",accuracy:"",loading:"   ...",gpsEnabled:"   ",gpsDisabled:"    ",locationServicesEnabled:"    ",locationServicesDisabled:"     ",highAccuracy:" ",mediumAccuracy:" ",lowAccuracy:" "}},wT=({children:s})=>{const[e,i]=gt.useState("en"),a=h=>RT[e][h]||h,o=()=>{i(e==="en"?"pa":"en")};return P.jsx(K_.Provider,{value:{language:e,t:a,toggleLanguage:o},children:s})},DT=()=>{};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},CT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,N=(h&3)<<4|g>>4;let C=(g&15)<<2|_>>6,k=_&63;v||(k=64,d||(C=64)),a.push(i[A],i[N],i[C],i[k])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):CT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||_==null||N==null)throw new NT;const C=h<<2|g>>4;if(a.push(C),_!==64){const k=g<<4&240|_>>2;if(a.push(k),N!==64){const H=_<<6&192|N;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class NT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xT=function(s){const e=$_(s);return Z_.encodeByteArray(e,!0)},ic=function(s){return xT(s).replace(/\./g,"")},VT=function(s){try{return Z_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=()=>IT().__FIREBASE_DEFAULTS__,MT=()=>{if(typeof process>"u"||typeof jy>"u")return;const s=jy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},UT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&VT(s[1]);return e&&JSON.parse(e)},Od=()=>{try{return DT()||OT()||MT()||UT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},LT=s=>Od()?.emulatorHosts?.[s],PT=s=>{const e=LT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},J_=()=>Od()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ic(JSON.stringify(i)),ic(JSON.stringify(d)),""].join(".")}const Jl={};function BT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?s.emulator.push(e):s.prod.push(e);return s}function kT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let zy=!1;function HT(s,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||Jl[s]===e||Jl[s]||zy)return;Jl[s]=e;function i(C){return`__firebase__banner__${C}`}const a="__firebase__banner",h=BT().prod.length>0;function d(){const C=document.getElementById(a);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function v(C,k){C.setAttribute("width","24"),C.setAttribute("id",k),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{zy=!0,d()},C}function A(C,k){C.setAttribute("id",k),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function N(){const C=kT(a),k=i("text"),H=document.getElementById(k)||document.createElement("span"),W=i("learnmore"),K=document.getElementById(W)||document.createElement("a"),at=i("preprendIcon"),lt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ct=C.element;g(ct),A(K,W);const St=_();v(lt,at),ct.append(lt,H,K,St),document.body.appendChild(ct)}h?(H.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FT(){const s=Od()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QT(){return!FT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="FirebaseError";class Ma extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=KT,Object.setPrototypeOf(this,Ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W_.prototype.create)}}class W_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?$T(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ma(o,g,a)}}function $T(s,e){return s.replace(ZT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ZT=/\{\$([^}]+)}/g;function rc(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(qy(h)&&qy(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function qy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(s){return s&&s._delegate?s._delegate:s}class no{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new jT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t1(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:WT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WT(s){return s===gs?void 0:s}function t1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new JT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const n1={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},i1=zt.INFO,r1={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},s1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=r1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=i1,this._logHandler=s1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const a1=(s,e)=>e.some(i=>s instanceof i);let By,ky;function l1(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,ld=new WeakMap,nv=new WeakMap,Kf=new WeakMap,Ud=new WeakMap;function u1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(yr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ev.set(i,s)}).catch(()=>{}),Ud.set(e,s),e}function c1(s){if(ld.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});ld.set(s,e)}let od={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return ld.get(s);if(e==="objectStoreNames")return s.objectStoreNames||nv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function h1(s){od=s(od)}function f1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($f(this),e,...i);return nv.set(a,e.sort?e.sort():[e]),yr(a)}:o1().includes(s)?function(...e){return s.apply($f(this),e),yr(ev.get(this))}:function(...e){return yr(s.apply($f(this),e))}}function d1(s){return typeof s=="function"?f1(s):(s instanceof IDBTransaction&&c1(s),a1(s,l1())?new Proxy(s,od):s)}function yr(s){if(s instanceof IDBRequest)return u1(s);if(Kf.has(s))return Kf.get(s);const e=d1(s);return e!==s&&(Kf.set(s,e),Ud.set(e,s)),e}const $f=s=>Ud.get(s);function m1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=yr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(yr(d.result),v.oldVersion,v.newVersion,yr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const g1=["get","getKey","getAll","getAllKeys","count"],p1=["put","add","delete","clear"],Zf=new Map;function Hy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=p1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||g1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Zf.set(e,h),h}h1(s=>({...s,get:(e,i,a)=>Hy(e,i)||s.get(e,i,a),has:(e,i)=>!!Hy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function _1(s){return s.getComponent()?.type==="VERSION"}const ud="@firebase/app",Gy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new tv("@firebase/app"),v1="@firebase/app-compat",E1="@firebase/analytics-compat",T1="@firebase/analytics",A1="@firebase/app-check-compat",b1="@firebase/app-check",S1="@firebase/auth",R1="@firebase/auth-compat",w1="@firebase/database",D1="@firebase/data-connect",C1="@firebase/database-compat",N1="@firebase/functions",x1="@firebase/functions-compat",V1="@firebase/installations",I1="@firebase/installations-compat",O1="@firebase/messaging",M1="@firebase/messaging-compat",U1="@firebase/performance",L1="@firebase/performance-compat",P1="@firebase/remote-config",j1="@firebase/remote-config-compat",z1="@firebase/storage",q1="@firebase/storage-compat",B1="@firebase/firestore",k1="@firebase/ai",H1="@firebase/firestore-compat",G1="firebase",F1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",Q1={[ud]:"fire-core",[v1]:"fire-core-compat",[T1]:"fire-analytics",[E1]:"fire-analytics-compat",[b1]:"fire-app-check",[A1]:"fire-app-check-compat",[S1]:"fire-auth",[R1]:"fire-auth-compat",[w1]:"fire-rtdb",[D1]:"fire-data-connect",[C1]:"fire-rtdb-compat",[N1]:"fire-fn",[x1]:"fire-fn-compat",[V1]:"fire-iid",[I1]:"fire-iid-compat",[O1]:"fire-fcm",[M1]:"fire-fcm-compat",[U1]:"fire-perf",[L1]:"fire-perf-compat",[P1]:"fire-rc",[j1]:"fire-rc-compat",[z1]:"fire-gcs",[q1]:"fire-gcs-compat",[B1]:"fire-fst",[H1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[G1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,Y1=new Map,hd=new Map;function Fy(s,e){try{s.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ac(s){const e=s.name;if(hd.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,s);for(const i of sc.values())Fy(i,s);for(const i of Y1.values())Fy(i,s);return!0}function X1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function K1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new W_("app","Firebase",$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=F1;function iv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:cd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(i||(i=J_()),!i)throw _r.create("no-options");const h=sc.get(o);if(h){if(rc(i,h.options)&&rc(a,h.config))return h;throw _r.create("duplicate-app",{appName:o})}const d=new e1(o);for(const v of hd.values())d.addComponent(v);const g=new Z1(i,a,d);return sc.set(o,g),g}function W1(s=cd){const e=sc.get(s);if(!e&&s===cd&&J_())return iv();if(!e)throw _r.create("no-app",{appName:s});return e}function va(s,e,i){let a=Q1[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}ac(new no(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",eA=1,io="firebase-heartbeat-store";let Jf=null;function rv(){return Jf||(Jf=m1(tA,eA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),Jf}async function nA(s){try{const i=(await rv()).transaction(io),a=await i.objectStore(io).get(sv(s));return await i.done,a}catch(e){if(e instanceof Ma)Ui.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(i.message)}}}async function Qy(s,e){try{const a=(await rv()).transaction(io,"readwrite");await a.objectStore(io).put(e,sv(s)),await a.done}catch(i){if(i instanceof Ma)Ui.warn(i.message);else{const a=_r.create("idb-set",{originalErrorMessage:i?.message});Ui.warn(a.message)}}}function sv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1024,rA=30;class sA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Yy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>rA){const o=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yy(),{heartbeatsToSend:i,unsentEntries:a}=aA(this._heartbeatsCache.heartbeats),o=ic(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function aA(s,e=iA){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Xy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?XT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Xy(s){return ic(JSON.stringify({version:2,heartbeats:s})).length}function oA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(s){ac(new no("platform-logger",e=>new y1(e),"PRIVATE")),ac(new no("heartbeat",e=>new sA(e),"PRIVATE")),va(ud,Gy,s),va(ud,Gy,"esm2020"),va("fire-js","")}uA("");var cA="firebase",hA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va(cA,hA,"app");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,av;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function w(){}w.prototype=b.prototype,I.D=b.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(S,O,M){for(var D=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)D[ne-2]=arguments[ne];return b.prototype[O].apply(S,D)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,w){w||(w=0);var S=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)S[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;16>O;++O)S[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=I.g[0],w=I.g[1],O=I.g[2];var M=I.g[3],D=b+(M^w&(O^M))+S[0]+3614090360&4294967295;b=w+(D<<7&4294967295|D>>>25),D=M+(O^b&(w^O))+S[1]+3905402710&4294967295,M=b+(D<<12&4294967295|D>>>20),D=O+(w^M&(b^w))+S[2]+606105819&4294967295,O=M+(D<<17&4294967295|D>>>15),D=w+(b^O&(M^b))+S[3]+3250441966&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(M^w&(O^M))+S[4]+4118548399&4294967295,b=w+(D<<7&4294967295|D>>>25),D=M+(O^b&(w^O))+S[5]+1200080426&4294967295,M=b+(D<<12&4294967295|D>>>20),D=O+(w^M&(b^w))+S[6]+2821735955&4294967295,O=M+(D<<17&4294967295|D>>>15),D=w+(b^O&(M^b))+S[7]+4249261313&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(M^w&(O^M))+S[8]+1770035416&4294967295,b=w+(D<<7&4294967295|D>>>25),D=M+(O^b&(w^O))+S[9]+2336552879&4294967295,M=b+(D<<12&4294967295|D>>>20),D=O+(w^M&(b^w))+S[10]+4294925233&4294967295,O=M+(D<<17&4294967295|D>>>15),D=w+(b^O&(M^b))+S[11]+2304563134&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(M^w&(O^M))+S[12]+1804603682&4294967295,b=w+(D<<7&4294967295|D>>>25),D=M+(O^b&(w^O))+S[13]+4254626195&4294967295,M=b+(D<<12&4294967295|D>>>20),D=O+(w^M&(b^w))+S[14]+2792965006&4294967295,O=M+(D<<17&4294967295|D>>>15),D=w+(b^O&(M^b))+S[15]+1236535329&4294967295,w=O+(D<<22&4294967295|D>>>10),D=b+(O^M&(w^O))+S[1]+4129170786&4294967295,b=w+(D<<5&4294967295|D>>>27),D=M+(w^O&(b^w))+S[6]+3225465664&4294967295,M=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(M^b))+S[11]+643717713&4294967295,O=M+(D<<14&4294967295|D>>>18),D=w+(M^b&(O^M))+S[0]+3921069994&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(O^M&(w^O))+S[5]+3593408605&4294967295,b=w+(D<<5&4294967295|D>>>27),D=M+(w^O&(b^w))+S[10]+38016083&4294967295,M=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(M^b))+S[15]+3634488961&4294967295,O=M+(D<<14&4294967295|D>>>18),D=w+(M^b&(O^M))+S[4]+3889429448&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(O^M&(w^O))+S[9]+568446438&4294967295,b=w+(D<<5&4294967295|D>>>27),D=M+(w^O&(b^w))+S[14]+3275163606&4294967295,M=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(M^b))+S[3]+4107603335&4294967295,O=M+(D<<14&4294967295|D>>>18),D=w+(M^b&(O^M))+S[8]+1163531501&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(O^M&(w^O))+S[13]+2850285829&4294967295,b=w+(D<<5&4294967295|D>>>27),D=M+(w^O&(b^w))+S[2]+4243563512&4294967295,M=b+(D<<9&4294967295|D>>>23),D=O+(b^w&(M^b))+S[7]+1735328473&4294967295,O=M+(D<<14&4294967295|D>>>18),D=w+(M^b&(O^M))+S[12]+2368359562&4294967295,w=O+(D<<20&4294967295|D>>>12),D=b+(w^O^M)+S[5]+4294588738&4294967295,b=w+(D<<4&4294967295|D>>>28),D=M+(b^w^O)+S[8]+2272392833&4294967295,M=b+(D<<11&4294967295|D>>>21),D=O+(M^b^w)+S[11]+1839030562&4294967295,O=M+(D<<16&4294967295|D>>>16),D=w+(O^M^b)+S[14]+4259657740&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(w^O^M)+S[1]+2763975236&4294967295,b=w+(D<<4&4294967295|D>>>28),D=M+(b^w^O)+S[4]+1272893353&4294967295,M=b+(D<<11&4294967295|D>>>21),D=O+(M^b^w)+S[7]+4139469664&4294967295,O=M+(D<<16&4294967295|D>>>16),D=w+(O^M^b)+S[10]+3200236656&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(w^O^M)+S[13]+681279174&4294967295,b=w+(D<<4&4294967295|D>>>28),D=M+(b^w^O)+S[0]+3936430074&4294967295,M=b+(D<<11&4294967295|D>>>21),D=O+(M^b^w)+S[3]+3572445317&4294967295,O=M+(D<<16&4294967295|D>>>16),D=w+(O^M^b)+S[6]+76029189&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(w^O^M)+S[9]+3654602809&4294967295,b=w+(D<<4&4294967295|D>>>28),D=M+(b^w^O)+S[12]+3873151461&4294967295,M=b+(D<<11&4294967295|D>>>21),D=O+(M^b^w)+S[15]+530742520&4294967295,O=M+(D<<16&4294967295|D>>>16),D=w+(O^M^b)+S[2]+3299628645&4294967295,w=O+(D<<23&4294967295|D>>>9),D=b+(O^(w|~M))+S[0]+4096336452&4294967295,b=w+(D<<6&4294967295|D>>>26),D=M+(w^(b|~O))+S[7]+1126891415&4294967295,M=b+(D<<10&4294967295|D>>>22),D=O+(b^(M|~w))+S[14]+2878612391&4294967295,O=M+(D<<15&4294967295|D>>>17),D=w+(M^(O|~b))+S[5]+4237533241&4294967295,w=O+(D<<21&4294967295|D>>>11),D=b+(O^(w|~M))+S[12]+1700485571&4294967295,b=w+(D<<6&4294967295|D>>>26),D=M+(w^(b|~O))+S[3]+2399980690&4294967295,M=b+(D<<10&4294967295|D>>>22),D=O+(b^(M|~w))+S[10]+4293915773&4294967295,O=M+(D<<15&4294967295|D>>>17),D=w+(M^(O|~b))+S[1]+2240044497&4294967295,w=O+(D<<21&4294967295|D>>>11),D=b+(O^(w|~M))+S[8]+1873313359&4294967295,b=w+(D<<6&4294967295|D>>>26),D=M+(w^(b|~O))+S[15]+4264355552&4294967295,M=b+(D<<10&4294967295|D>>>22),D=O+(b^(M|~w))+S[6]+2734768916&4294967295,O=M+(D<<15&4294967295|D>>>17),D=w+(M^(O|~b))+S[13]+1309151649&4294967295,w=O+(D<<21&4294967295|D>>>11),D=b+(O^(w|~M))+S[4]+4149444226&4294967295,b=w+(D<<6&4294967295|D>>>26),D=M+(w^(b|~O))+S[11]+3174756917&4294967295,M=b+(D<<10&4294967295|D>>>22),D=O+(b^(M|~w))+S[2]+718787259&4294967295,O=M+(D<<15&4294967295|D>>>17),D=w+(M^(O|~b))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}a.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var w=b-this.blockSize,S=this.B,O=this.h,M=0;M<b;){if(O==0)for(;M<=w;)o(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<b;)if(S[O++]=I.charCodeAt(M++),O==this.blockSize){o(this,S),O=0;break}}else for(;M<b;)if(S[O++]=I[M++],O==this.blockSize){o(this,S),O=0;break}}this.h=O,this.o+=b},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var w=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=w&255,w/=256;for(this.u(I),I=Array(16),b=w=0;4>b;++b)for(var S=0;32>S;S+=8)I[w++]=this.g[b]>>>S&255;return I};function h(I,b){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=b(I)}function d(I,b){this.h=b;for(var w=[],S=!0,O=I.length-1;0<=O;O--){var M=I[O]|0;S&&M==b||(w[O]=M,S=!1)}this.g=w}var g={};function v(I){return-128<=I&&128>I?h(I,function(b){return new d([b|0],0>b?-1:0)}):new d([I|0],0>I?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return N;if(0>I)return K(_(-I));for(var b=[],w=1,S=0;I>=w;S++)b[S]=I/w|0,w*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return K(A(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(b,8)),S=N,O=0;O<I.length;O+=8){var M=Math.min(8,I.length-O),D=parseInt(I.substring(O,O+M),b);8>M?(M=_(Math.pow(b,M)),S=S.j(M).add(_(D))):(S=S.j(w),S=S.add(_(D)))}return S}var N=v(0),C=v(1),k=v(16777216);s=d.prototype,s.m=function(){if(W(this))return-K(this).m();for(var I=0,b=1,w=0;w<this.g.length;w++){var S=this.i(w);I+=(0<=S?S:4294967296+S)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(W(this))return"-"+K(this).toString(I);for(var b=_(Math.pow(I,6)),w=this,S="";;){var O=St(w,b).g;w=at(w,O.j(b));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=O,H(w))return M+S;for(;6>M.length;)M="0"+M;S=M+S}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function W(I){return I.h==-1}s.l=function(I){return I=at(this,I),W(I)?-1:H(I)?0:1};function K(I){for(var b=I.g.length,w=[],S=0;S<b;S++)w[S]=~I.g[S];return new d(w,~I.h).add(C)}s.abs=function(){return W(this)?K(this):this},s.add=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],S=0,O=0;O<=b;O++){var M=S+(this.i(O)&65535)+(I.i(O)&65535),D=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);S=D>>>16,M&=65535,D&=65535,w[O]=D<<16|M}return new d(w,w[w.length-1]&-2147483648?-1:0)};function at(I,b){return I.add(K(b))}s.j=function(I){if(H(this)||H(I))return N;if(W(this))return W(I)?K(this).j(K(I)):K(K(this).j(I));if(W(I))return K(this.j(K(I)));if(0>this.l(k)&&0>I.l(k))return _(this.m()*I.m());for(var b=this.g.length+I.g.length,w=[],S=0;S<2*b;S++)w[S]=0;for(S=0;S<this.g.length;S++)for(var O=0;O<I.g.length;O++){var M=this.i(S)>>>16,D=this.i(S)&65535,ne=I.i(O)>>>16,it=I.i(O)&65535;w[2*S+2*O]+=D*it,lt(w,2*S+2*O),w[2*S+2*O+1]+=M*it,lt(w,2*S+2*O+1),w[2*S+2*O+1]+=D*ne,lt(w,2*S+2*O+1),w[2*S+2*O+2]+=M*ne,lt(w,2*S+2*O+2)}for(S=0;S<b;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=b;S<2*b;S++)w[S]=0;return new d(w,0)};function lt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ct(I,b){this.g=I,this.h=b}function St(I,b){if(H(b))throw Error("division by zero");if(H(I))return new ct(N,N);if(W(I))return b=St(K(I),b),new ct(K(b.g),K(b.h));if(W(b))return b=St(I,K(b)),new ct(K(b.g),b.h);if(30<I.g.length){if(W(I)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var w=C,S=b;0>=S.l(I);)w=ft(w),S=ft(S);var O=Nt(w,1),M=Nt(S,1);for(S=Nt(S,2),w=Nt(w,2);!H(S);){var D=M.add(S);0>=D.l(I)&&(O=O.add(w),M=D),S=Nt(S,1),w=Nt(w,1)}return b=at(I,O.j(b)),new ct(O,b)}for(O=N;0<=I.l(b);){for(w=Math.max(1,Math.floor(I.m()/b.m())),S=Math.ceil(Math.log(w)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),M=_(w),D=M.j(b);W(D)||0<D.l(I);)w-=S,M=_(w),D=M.j(b);H(M)&&(M=C),O=O.add(M),I=at(I,D)}return new ct(O,I)}s.A=function(I){return St(this,I).h},s.and=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],S=0;S<b;S++)w[S]=this.i(S)&I.i(S);return new d(w,this.h&I.h)},s.or=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],S=0;S<b;S++)w[S]=this.i(S)|I.i(S);return new d(w,this.h|I.h)},s.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),w=[],S=0;S<b;S++)w[S]=this.i(S)^I.i(S);return new d(w,this.h^I.h)};function ft(I){for(var b=I.g.length+1,w=[],S=0;S<b;S++)w[S]=I.i(S)<<1|I.i(S-1)>>>31;return new d(w,I.h)}function Nt(I,b){var w=b>>5;b%=32;for(var S=I.g.length-w,O=[],M=0;M<S;M++)O[M]=0<b?I.i(M+w)>>>b|I.i(M+w+1)<<32-b:I.i(M+w);return new d(O,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,av=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,vr=d}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lv,Kl,ov,$u,fd,uv,cv,hv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var G=p++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function C(u,m,p){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,C.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function H(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,G){for(var nt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)nt[Ut-2]=arguments[Ut];return m.prototype[L].apply(T,nt)}}function W(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function K(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=u.length||0,G=T.length||0;u.length=L+G;for(let nt=0;nt<G;nt++)u[L+nt]=T[nt]}else u.push(T)}}class at{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function St(u){return St[" "](u),u}St[" "]=function(){};var ft=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Nt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let G=0;G<w.length;G++)p=w[G],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function M(u){g.setTimeout(()=>{throw u},0)}function D(){var u=It;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,p){const T=it.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var it=new at(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ht=!1,It=new ne,x=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(J)}};var J=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){M(p)}var m=it;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var pt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function Dt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ft){t:{try{St(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}H(Dt,et);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Pn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Wt,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,m,p,T,L){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var nt=Or(u,m,T,L);return-1<nt?(m=u[nt],p||(m.fa=!1)):(m=new Pn(m,this.src,G,!!T,L),m.fa=p,u.push(m)),m};function Ir(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=L)&&Array.prototype.splice.call(T,L,1),G&&(qi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Or(u,m,p,T){for(var L=0;L<u.length;++L){var G=u[L];if(!G.da&&G.listener==m&&G.capture==!!p&&G.ha==T)return L}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),za={};function Eo(u,m,p,T,L){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Eo(u,m[G],p,T,L);return null}return p=To(p),u&&u[Ce]?u.K(m,p,_(T)?!!T.capture:!1,L):pn(u,m,p,!1,T,L)}function pn(u,m,p,T,L,G){if(!m)throw Error("Invalid event type");var nt=_(L)?!!L.capture:!!L,Ut=Ss(u);if(Ut||(u[Mr]=Ut=new oi(u)),p=Ut.add(m,p,T,nt,G),p.proxy)return p;if(T=kc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)pt||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function kc(){function u(p){return m.call(u.src,u.listener,p)}const m=Hc;return u}function qa(u,m,p,T,L){if(Array.isArray(m))for(var G=0;G<m.length;G++)qa(u,m[G],p,T,L);else T=_(T)?!!T.capture:!!T,p=To(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],p=Or(G,p,T,L),-1<p&&(qi(G[p]),Array.prototype.splice.call(G,p,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Or(m,p,T,L)),(p=-1<u?m[u]:null)&&bs(p))}function bs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Ir(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ur(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ss(m))?(Ir(p,u),p.h==0&&(p.src=null,m[Mr]=null)):qi(u)}}}function Ur(u){return u in za?za[u]:za[u]="on"+u}function Hc(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&bs(u),u=p.call(T,m)}return u}function Ss(u){return u=u[Mr],u instanceof oi?u:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[Ba]||(u[Ba]=function(m){return u.handleEvent(m)}),u[Ba])}function le(){rt.call(this),this.i=new oi(this),this.M=this,this.F=null}H(le,rt),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(u,m,p,T){qa(this,u,m,p,T)};function Gt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(T,u),S(m,L)}if(L=!0,p)for(var G=p.length-1;0<=G;G--){var nt=m.g=p[G];L=an(nt,T,!0,m)&&L}if(nt=m.g=u,L=an(nt,T,!0,m)&&L,L=an(nt,T,!1,m)&&L,p)for(G=0;G<p.length;G++)nt=m.g=p[G],L=an(nt,T,!1,m)&&L}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)qi(p[T]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},le.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,G=0;G<m.length;++G){var nt=m[G];if(nt&&!nt.da&&nt.capture==p){var Ut=nt.listener,Ae=nt.ha||nt.src;nt.fa&&Ir(u.i,nt),L=Ut.call(Ae,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ge(u,m,p){if(typeof u=="function")p&&(u=C(u,p));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ao(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Ao(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Gc extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){rt.call(this),this.h=u,this.g={}}H(Lr,rt);var Pr=[];function jr(u){Nt(u.g,function(m,p){this.g.hasOwnProperty(p)&&bs(m)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),jr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=g.JSON.stringify,Rs=g.JSON.parse,zr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ka(){}ka.prototype.h=null;function Ha(u){return u.h||(u.h=u.i())}function Ga(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){et.call(this,"d")}H(ci,et);function Fa(){et.call(this,"c")}H(Fa,et);var jn={},Qa=null;function Bi(){return Qa=Qa||new le}jn.La="serverreachability";function ws(u){et.call(this,jn.La,u)}H(ws,et);function ki(u){const m=Bi();Gt(m,new ws(m))}jn.STAT_EVENT="statevent";function bo(u,m){et.call(this,jn.STAT_EVENT,u),this.stat=m}H(bo,et);function ie(u){const m=Bi();Gt(m,new bo(m,u))}jn.Ma="timingevent";function Te(u,m){et.call(this,jn.Ma,u),this.size=m}H(Te,et);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Ya(u,m,p,T,L,G){u.info(function(){if(u.g)if(G)for(var nt="",Ut=G.split("&"),Ae=0;Ae<Ut.length;Ae++){var Lt=Ut[Ae].split("=");if(1<Lt.length){var xe=Lt[0];Lt=Lt[1];var be=xe.split("_");nt=2<=be.length&&be[1]=="type"?nt+(xe+"="+Lt+"&"):nt+(xe+"=redacted&")}}else nt=null;else nt=G;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+nt})}function Fc(u,m,p,T,L,G,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+G+" "+nt})}function Hi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qr(u,p)+(T?" "+T:"")})}function So(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function qr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var G=L[0];if(G!="noop"&&G!="stop"&&G!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return xn(p)}catch{return m}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function qn(){}H(qn,ka),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},zn=new qn;function $e(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Xa={},Ds={};function Vn(u,m,p){u.L=1,u.v=Fr(ln(m)),u.m=p,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Br(u),u.A=ln(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),tl(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=qo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Gc(C(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pr[0]=L.toString()),L=Pr);for(var G=0;G<L.length;G++){var nt=Eo(p,L[G],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ki(),Ya(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const be=Tn(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||be!=4||m==7||(m==8||0>=Ei?ki(3):ki(2)),Fi(this);var p=this.g.Z();this.X=p;e:if(Ro(this)){var T=Io(this.g);u="";var L=T.length,G=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Bn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,Fc(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ae=this.g;if((Ut=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Ut)){var Lt=Ut;break e}}Lt=null}if(p=Lt)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,p);else{this.o=!1,this.s=3,ie(12),Ue(this),Bn(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<nt.length;)if(Le=wo(this,nt),Le==Ds){be==4&&(this.s=4,ie(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Xa){this.s=4,ie(15),Hi(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,Le,null),kr(this,Le);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||nt.length!=0||this.h.h||(this.s=1,ie(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,nt,"[Invalid Chunked Response]"),Ue(this),Bn(this);else if(0<nt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Wr(xe),xe.M=!0,ie(11))}}else Hi(this.i,this.l,nt,null),kr(this,nt);be==4&&Ue(this),this.o&&!this.J&&(be==4?Po(this.j,this):(this.o=!1,Br(this)))}else $c(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Ue(this),Bn(this)}}}catch{}finally{}};function Ro(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ds:(p=Number(m.substring(p,T)),isNaN(p)?Xa:(T+=1,T+p>m.length?Ds:(m=m.slice(T,T+p),u.C=T+p,m)))}$e.prototype.cancel=function(){this.J=!0,Ue(this)};function Br(u){u.S=Date.now()+u.I,Do(u,u.I)}function Do(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(C(u.ba,u),m)}function Fi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(So(this.i,this.A),this.L!=2&&(ki(),ie(17)),Ue(this),this.s=2,Bn(this)):Do(this,this.S-u)};function Bn(u){u.j.G==0||u.J||Po(u.j,u)}function Ue(u){Fi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,jr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function kr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ka(p.h,u))){if(!u.K&&Ka(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)zs(p),Ps(p);else break t;sl(p),ie(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(C(p.Za,p),6e3));if(1>=Ns(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else vi(p,11)}else if((u.K||p.g==u)&&zs(p),!lt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Lt=L[m];if(p.T=Lt[0],Lt=Lt[1],p.G==2)if(Lt[0]=="c"){p.K=Lt[1],p.ia=Lt[2];const xe=Lt[3];xe!=null&&(p.la=xe,p.j.info("VER="+p.la));const be=Lt[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const Ei=Lt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(T=1.5*Ei,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const Xn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var G=T.h;G.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(xs(G,G.h),G.h=null))}if(T.D){const ll=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(T.ya=ll,Yt(T.I,T.D,ll))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var nt=u;if(T.qa=zo(T,T.J?T.ia:null,T.W),nt.K){Ze(T.h,nt);var Ut=nt,Ae=T.L;Ae&&(Ut.I=Ae),Ut.B&&(Fi(Ut),Br(Ut)),T.g=nt}else Uo(T);0<p.i.length&&js(p)}else Lt[0]!="stop"&&Lt[0]!="close"||vi(p,7);else p.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?vi(p,7):il(p):Lt[0]!="noop"&&p.l&&p.l.ta(Lt),p.v=0)}}ki(4)}catch{}}var Co=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ns(u){return u.h?1:u.g?u.g.size:0}function Ka(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xs(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $a(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return W(u.i)}function Qc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Vs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Za(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Vs(u),T=Qc(u),L=T.length,G=0;G<L;G++)m.call(void 0,T[G],p&&p[G],u)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var G=u[p].substring(0,T);L=u[p].substring(T+1)}else G=u[p];m(G,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Gr(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var m=u.i,p=new gi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),mi(this,p),this.m=u.m}else u&&(m=String(u).match(Hr))?(this.h=!1,Gr(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Qi(this,m[4]),this.l=_n(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,Ja,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,Ja,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Qr(p,p.charAt(0)=="/"?Xc:Wa,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Qr(p,Is)),u.join("")};function ln(u){return new ge(u)}function Gr(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,p){m instanceof gi?(u.i=m,xo(u.i,u.h)):(p||(m=Qr(m,Kc)),u.i=new gi(m,u.h))}function Yt(u,m,p){u.i.set(m,p)}function Fr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,No),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function No(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ja=/[#\/\?@]/g,Wa=/[#\?:]/g,Xc=/[#\?]/g,Kc=/[#\?@]/g,Is=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Yc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=gi.prototype,s.add=function(u,m){vn(this),this.i=null,u=kn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function pi(u,m){vn(u),m=kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return vn(u),m=kn(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},s.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let G=0;G<L.length;G++)p.push(m[T])}return p},s.V=function(u){vn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(kn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return vn(this),this.i=null,u=kn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function tl(u,m,p){pi(u,m),0<p.length&&(u.i=null,u.g.set(kn(u,m),W(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const G=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var L=G;nt[T]!==""&&(L+="="+encodeURIComponent(String(nt[T]))),u.push(L)}}return this.i=u.join("&")};function kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function xo(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(pi(this,T),tl(this,L,p))},u)),u.j=m}function Yr(u,m){const p=new yn;if(g.Image){const T=new Image;T.onload=k(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(En,p,"TestLoadImage: error",!1,m,T),T.onabort=k(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function In(u,m){const p=new yn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(L),G.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Xr(){this.g=new zr}function Hn(u,m,p){const T=p||"";try{Za(u,function(L,G){let nt=L;_(L)&&(nt=xn(L)),m.push(T+G+"="+encodeURIComponent(nt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Yi(u){this.l=u.Ub||null,this.j=u.eb||!1}H(Yi,ka),Yi.prototype.g=function(){return new _i(this.l,this.j)},Yi.prototype.i=(function(u){return function(){return u}})({});function _i(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(_i,le),s=_i.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&el(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},s.Qa=function(u){this.g&&(this.response=u,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function nl(u){let m="";return Nt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ne(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=nl(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Yt(u,m,p))}function kt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(kt,le);var Os=/^https?$/i,Kr=["POST","PUT"];s=kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ha(this.o):Ha(zn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Vo(this,G);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())p.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(G=>G.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Kr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,nt]of p)this.g.setRequestHeader(G,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Vo(this,G)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ms(u),Qn(u)}function Ms(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},s.bb=function(){Us(this)};function Us(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ge(u.Ea,0,u);else if(Gt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=nt===0){var L=String(u.D).match(Hr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Os.test(L?L.toLowerCase():"")}p=T}if(p)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var G=2<Tn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Ms(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){$r(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{p.onreadystatechange=T}catch{}}}function $r(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rs(m)}};function Io(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var p=O(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const G=m[L]||[];m[L]=G,G.push(p)}I(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ls(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new Xr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ls.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ie(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=zo(this,null,this.W),js(this)};function il(u){if(Oo(u),u.G==3){var m=u.U++,p=ln(u.I);if(Yt(p,"SID",u.K),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),Jr(u,p),m=new $e(u,u.j,m),m.L=2,m.v=Fr(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=qo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Br(m)}jo(u)}function Ps(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function Oo(u){Ps(u),u.u&&(g.clearTimeout(u.u),u.u=null),zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function js(u){if(!Cs(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||x(),ht||(tt(),ht=!0),It.add(m,u),u.B=0}}function Zc(u,m){return Ns(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(C(u.Ga,u,m),al(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new $e(this,this.j,u);let G=this.o;if(this.S&&(G?(G=b(G),S(G,this.S)):G=this.S),this.m!==null||this.O||(L.H=G,G=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Mo(this,L,m),p=ln(this.I),Yt(p,"RID",u),Yt(p,"CVER",22),this.D&&Yt(p,"X-HTTP-Session-Id",this.D),Jr(this,p),G&&(this.O?m="headers="+encodeURIComponent(String(nl(G)))+"&"+m:this.m&&Ne(p,this.m,G)),xs(this.h,L),this.Ua&&Yt(p,"TYPE","init"),this.P?(Yt(p,"$req",m),Yt(p,"SID","null"),L.T=!0,Vn(L,p,null)):Vn(L,p,m),this.G=2}}else this.G==3&&(u?rl(this,u):this.i.length==0||Cs(this.h)||rl(this))};function rl(u,m){var p;m?p=m.l:p=u.U++;const T=ln(u.I);Yt(T,"SID",u.K),Yt(T,"RID",p),Yt(T,"AID",u.T),Jr(u,T),u.m&&u.o&&Ne(T,u.m,u.o),p=new $e(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Mo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xs(u.h,p),Vn(p,T,m)}function Jr(u,m){u.H&&Nt(u.H,function(p,T){Yt(m,T,p)}),u.l&&Za({},function(p,T){Yt(m,T,p)})}function Mo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?C(u.l.Na,u.l,u):null;t:{var L=u.i;let G=-1;for(;;){const nt=["count="+p];G==-1?0<p?(G=L[0].g,nt.push("ofs="+G)):G=0:nt.push("ofs="+G);let Ut=!0;for(let Ae=0;Ae<p;Ae++){let Lt=L[Ae].g;const xe=L[Ae].map;if(Lt-=G,0>Lt)G=Math.max(0,L[Ae].g-100),Ut=!1;else try{Hn(xe,nt,"req"+Lt+"_")}catch{T&&T(xe)}}if(Ut){T=nt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Uo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||x(),ht||(tt(),ht=!0),It.add(m,u),u.v=0}}function sl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(C(u.Fa,u),al(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Lo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(C(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Ps(this),Lo(this))};function Wr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Lo(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),Jr(u,m),u.m&&u.o&&Ne(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Fr(ln(m)),p.m=null,p.P=!0,fi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Ps(this),sl(this),ie(19))};function zs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Po(u,m){var p=null;if(u.g==m){zs(u),Wr(u),u.g=null;var T=2}else if(Ka(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Bi(),Gt(T,new Te(T,p)),js(u)}else Uo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Zc(u,m)||T==2&&sl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function al(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var p=C(u.fb,u),T=u.Xa;const L=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Gr(T,"https"),Fr(T),L?Yr(T.toString(),p):In(T.toString(),p)}else ie(2);u.G=0,u.l&&u.l.sa(m),jo(u),Oo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function jo(u){if(u.G=0,u.ka=[],u.l){const m=$a(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function zo(u,m,p){var T=p instanceof ge?ln(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var G=new ge(null);T&&Gr(G,T),m&&(G.g=m),L&&Qi(G,L),p&&(G.l=p),T=G}return p=u.D,m=u.ya,p&&m&&Yt(T,p,m),Yt(T,"VER",u.la),Jr(u,T),T}function qo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Yi({eb:p})):new kt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}s=Bo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function qs(){}qs.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){le.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}H(Je,le),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){il(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=xn(u),u=p);m.i.push(new Co(m.Ya++,u)),m.G==3&&js(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Je.aa.N.call(this)};function ko(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(ko,ci);function Ho(){Fa.call(this),this.status=1}H(Ho,Fa);function Yn(u){this.g=u}H(Yn,Bo),Yn.prototype.ua=function(){Gt(this.g,"a")},Yn.prototype.ta=function(u){Gt(this.g,new ko(u))},Yn.prototype.sa=function(u){Gt(this.g,new Ho)},Yn.prototype.ra=function(){Gt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,hv=function(){return new qs},cv=function(){return Bi()},uv=jn,fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,$u=Gi,hi.COMPLETE="complete",ov=hi,Ga.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",le.prototype.listen=le.prototype.K,Kl=Ga,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,lv=kt}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore",Zy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new tv("@firebase/firestore");function ga(){return ys.logLevel}function ot(s,...e){if(ys.logLevel<=zt.DEBUG){const i=e.map(Ld);ys.debug(`Firestore (${Ua}): ${s}`,...i)}}function Li(s,...e){if(ys.logLevel<=zt.ERROR){const i=e.map(Ld);ys.error(`Firestore (${Ua}): ${s}`,...i)}}function Ra(s,...e){if(ys.logLevel<=zt.WARN){const i=e.map(Ld);ys.warn(`Firestore (${Ua}): ${s}`,...i)}}function Ld(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,fv(s,a,i)}function fv(s,e,i){let a=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Li(a),new Error(a)}function Ht(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||fv(e,o,a)}function bt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ma{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class dA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class mA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Er,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Er)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new dv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class gA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new gA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,K1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=_A(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Ot(s,e){return s<e?-1:s>e?1:0}function dd(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return Wf(o)===Wf(h)?Ot(o,h):Wf(o)?1:-1}return Ot(s.length,e.length)}const vA=55296,EA=57343;function Wf(s){const e=s.charCodeAt(0);return e>=vA&&e<=EA}function wa(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&vt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ot(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),o=ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class Jt extends ti{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const TA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ti{construct(e,i,a){return new ke(e,i,a)}static isValidIdentifier(e){return TA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wy}static keyField(){return new ke([Wy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Jt.fromString(e))}static fromName(e){return new mt(Jt.fromString(e).popFirst(5))}static empty(){return new mt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(s,e,i){if(!i)throw new st(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function AA(s,e,i,a){if(e===!0&&a===!0)throw new st(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function t_(s){if(!mt.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function e_(s){if(mt.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function gv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ec(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Da(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ec(s);throw new st(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,e){const i={typeString:s};return e&&(i.value=e),i}function fo(s,e){if(!gv(s))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new st(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,i_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*i_);return new ee(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<n_)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fo(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ee("string",ee._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new ee(0,0))}static max(){return new At(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function bA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new Ar(o,mt.empty(),e)}function SA(s){return new Ar(s.readTime,s.key,ro)}class Ar{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ar(At.min(),mt.empty(),ro)}static max(){return new Ar(At.max(),mt.empty(),ro)}}function RA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,e.documentKey),i!==0?i:Ot(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==wA)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===h&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function CA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Pa(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=-1;function Ac(s){return s==null}function lc(s){return s===0&&1/s==-1/0}function NA(s){return typeof s=="number"&&Number.isInteger(s)&&!lc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="";function xA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=r_(e)),e=VA(s.get(i),e);return r_(e)}function VA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case pv:i+="";break;default:i+=h}}return i}function r_(s){return s+pv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function yv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new qe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new De(this.comparator);return i.data=e,i}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new gn([])}unionWith(e){let i=new De(ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new _v("Invalid base64 string: "+h):h}})(e);return new He(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const IA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(Ht(!!s,39018),typeof s=="string"){let e=0;const i=IA.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Sr(s){return typeof s=="string"?He.fromBase64String(s):He.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",Ev="__type__",Tv="__previous_value__",Av="__local_write_time__";function bc(s){return(s?.mapValue?.fields||{})[Ev]?.stringValue===vv}function Sc(s){const e=s.mapValue.fields[Tv];return bc(e)?Sc(e):e}function so(s){const e=br(s.mapValue.fields[Av].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i,a,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const oc="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||oc}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===oc}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="__type__",MA="__max__",Qu={mapValue:{}},Sv="__vector__",uc="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?bc(s)?4:LA(s)?9007199254740991:UA(s)?10:11:vt(28295,{value:s})}function li(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return so(s).isEqual(so(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=br(o.timestampValue),g=br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Sr(o.bytesValue).isEqual(Sr(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?lc(d)===lc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return wa(s.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(s_(d)!==s_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!li(d[v],g[v])))return!1;return!0})(s,e);default:return vt(52216,{left:s})}}function lo(s,e){return(s.values||[]).find((i=>li(i,e)))!==void 0}function Ca(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return l_(s.timestampValue,e.timestampValue);case 4:return l_(so(s),so(e));case 5:return dd(s.stringValue,e.stringValue);case 6:return(function(h,d){const g=Sr(h),v=Sr(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Ot(g[_],v[_]);if(A!==0)return A}return Ot(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Ot(de(h.latitude),de(d.latitude));return g!==0?g:Ot(de(h.longitude),de(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return o_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[uc]?.arrayValue,A=v[uc]?.arrayValue,N=Ot(_?.values?.length||0,A?.values?.length||0);return N!==0?N:o_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Qu.mapValue&&d===Qu.mapValue)return 0;if(h===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let N=0;N<v.length&&N<A.length;++N){const C=dd(v[N],A[N]);if(C!==0)return C;const k=Ca(g[v[N]],_[A[N]]);if(k!==0)return k}return Ot(v.length,A.length)})(s.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function l_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ot(s,e);const i=br(s),a=br(e),o=Ot(i.seconds,a.seconds);return o!==0?o:Ot(i.nanos,a.nanos)}function o_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ca(i[o],a[o]);if(h)return h}return Ot(i.length,a.length)}function Na(s){return md(s)}function md(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=md(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${md(i.fields[d])}`;return o+"}"})(s.mapValue):vt(61005,{value:s})}function Zu(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(s);return e?16+Zu(e):16;case 5:return 2*s.stringValue.length;case 6:return Sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Zu(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Nr(a.fields,((h,d)=>{o+=h.length+Zu(d)})),o})(s.mapValue);default:throw vt(13486,{value:s})}}function cc(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function gd(s){return!!s&&"integerValue"in s}function zd(s){return!!s&&"arrayValue"in s}function u_(s){return!!s&&"nullValue"in s}function c_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ju(s){return!!s&&"mapValue"in s}function UA(s){return(s?.mapValue?.fields||{})[bv]?.stringValue===Sv}function Wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Wl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(s.arrayValue.values[i]);return e}return{...s}}function LA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===MA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=ke.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Wl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new sn(Wl(this.value))}}function Rv(s){const e=[];return Nr(s.fields,((i,a)=>{const o=new ke([i]);if(Ju(a)){const h=Rv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,At.min(),At.min(),At.min(),sn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ke(e,1,i,At.min(),a,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,At.min(),At.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,At.min(),At.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,i){this.position=e,this.inclusive=i}}function h_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Ca(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function f_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!li(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i="asc"){this.field=e,this.dir=i}}function PA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{}class ve extends wv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new zA(e,i,a):i==="array-contains"?new kA(e,a):i==="in"?new HA(e,a):i==="not-in"?new GA(e,a):i==="array-contains-any"?new FA(e,a):new ve(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new qA(e,a):new BA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ca(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(Ca(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends wv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ln(e,i)}matches(e){return Dv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dv(s){return s.op==="and"}function Cv(s){return jA(s)&&Dv(s)}function jA(s){for(const e of s.filters)if(e instanceof Ln)return!1;return!0}function pd(s){if(s instanceof ve)return s.field.canonicalString()+s.op.toString()+Na(s.value);if(Cv(s))return s.filters.map((e=>pd(e))).join(",");{const e=s.filters.map((i=>pd(i))).join(",");return`${s.op}(${e})`}}function Nv(s,e){return s instanceof ve?(function(a,o){return o instanceof ve&&a.op===o.op&&a.field.isEqual(o.field)&&li(a.value,o.value)})(s,e):s instanceof Ln?(function(a,o){return o instanceof Ln&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&Nv(d,o.filters[g])),!0):!1})(s,e):void vt(19439)}function xv(s){return s instanceof ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Na(i.value)}`})(s):s instanceof Ln?(function(i){return i.op.toString()+" {"+i.getFilters().map(xv).join(" ,")+"}"})(s):"Filter"}class zA extends ve{constructor(e,i,a){super(e,i,a),this.key=mt.fromName(a.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class qA extends ve{constructor(e,i){super(e,"in",i),this.keys=Vv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class BA extends ve{constructor(e,i){super(e,"not-in",i),this.keys=Vv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Vv(s,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class kA extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zd(i)&&lo(i.arrayValue,this.value)}}class HA extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class GA extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!lo(this.value.arrayValue,i)}}class FA extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>lo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function d_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new QA(s,e,i,a,o,h,d)}function qd(s){const e=bt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>pd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Na(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Na(a))).join(",")),e.Te=i}return e.Te}function Bd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!PA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Nv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!f_(s.startAt,e.startAt)&&f_(s.endAt,e.endAt)}function yd(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YA(s,e,i,a,o,h,d,g){return new Es(s,e,i,a,o,h,d,g)}function Iv(s){return new Es(s)}function m_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kd(s){return s.collectionGroup!==null}function Ea(s){const e=bt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new De(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new oo(h,a))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new oo(ke.keyField(),a))}return e.Ie}function ei(s){const e=bt(s);return e.Ee||(e.Ee=XA(e,Ea(s))),e.Ee}function XA(s,e){if(s.limitType==="F")return d_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new oo(o.field,h)}));const i=s.endAt?new xa(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new xa(s.startAt.position,s.startAt.inclusive):null;return d_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function _d(s,e){const i=s.filters.concat([e]);return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function hc(s,e,i){return new Es(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rc(s,e){return Bd(ei(s),ei(e))&&s.limitType===e.limitType}function Ov(s){return`${qd(ei(s))}|lt:${s.limitType}`}function pa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>xv(o))).join(", ")}]`),Ac(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Na(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Na(o))).join(",")),`Target(${a})`})(ei(s))}; limitType=${s.limitType})`}function wc(s,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,e)&&(function(a,o){for(const h of Ea(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const _=h_(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,Ea(a),o)||a.endAt&&!(function(d,g,v){const _=h_(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,Ea(a),o))})(s,e)}function KA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Mv(s){return(e,i)=>{let a=!1;for(const o of Ea(s)){const h=$A(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function $A(s,e,i){const a=s.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ca(v,_):vt(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return yv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new ae(mt.comparator);function Pi(){return ZA}const Uv=new ae(mt.comparator);function $l(...s){let e=Uv;for(const i of s)e=e.insert(i.key,i);return e}function Lv(s){let e=Uv;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ps(){return to()}function Pv(){return to()}function to(){return new Ts((s=>s.toString()),((s,e)=>s.isEqual(e)))}const JA=new ae(mt.comparator),WA=new De(mt.comparator);function Mt(...s){let e=WA;for(const i of s)e=e.add(i);return e}const tb=new De(Ot);function eb(){return tb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function jv(s){return{integerValue:""+s}}function nb(s,e){return NA(e)?jv(e):Hd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function ib(s,e,i){return s instanceof fc?(function(o,h){const d={fields:{[Ev]:{stringValue:vv},[Av]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bc(h)&&(h=Sc(h)),h&&(d.fields[Tv]=h),{mapValue:d}})(i,e):s instanceof uo?qv(s,e):s instanceof co?Bv(s,e):(function(o,h){const d=zv(o,h),g=g_(d)+g_(o.Ae);return gd(d)&&gd(o.Ae)?jv(g):Hd(o.serializer,g)})(s,e)}function rb(s,e,i){return s instanceof uo?qv(s,e):s instanceof co?Bv(s,e):i}function zv(s,e){return s instanceof dc?(function(a){return gd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class fc extends Dc{}class uo extends Dc{constructor(e){super(),this.elements=e}}function qv(s,e){const i=kv(e);for(const a of s.elements)i.some((o=>li(o,a)))||i.push(a);return{arrayValue:{values:i}}}class co extends Dc{constructor(e){super(),this.elements=e}}function Bv(s,e){let i=kv(e);for(const a of s.elements)i=i.filter((o=>!li(o,a)));return{arrayValue:{values:i}}}class dc extends Dc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function g_(s){return de(s.integerValue||s.doubleValue)}function kv(s){return zd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function sb(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof uo&&o instanceof uo||a instanceof co&&o instanceof co?wa(a.elements,o.elements,li):a instanceof dc&&o instanceof dc?li(a.Ae,o.Ae):a instanceof fc&&o instanceof fc})(s.transform,e.transform)}class ab{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Cc{}function Hv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Fv(s.key,ni.none()):new mo(s.key,s.data,ni.none());{const i=s.data,a=sn.empty();let o=new De(ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new xr(s.key,a,new gn(o.toArray()),ni.none())}}function lb(s,e,i){s instanceof mo?(function(o,h,d){const g=o.value.clone(),v=y_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof xr?(function(o,h,d){if(!Wu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=y_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Gv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function eo(s,e,i,a){return s instanceof mo?(function(h,d,g,v){if(!Wu(h.precondition,d))return g;const _=h.value.clone(),A=__(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof xr?(function(h,d,g,v){if(!Wu(h.precondition,d))return g;const _=__(h.fieldTransforms,v,d),A=d.data;return A.setAll(Gv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(s,e,i,a):(function(h,d,g){return Wu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function ob(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=zv(a.transform,o||null);h!=null&&(i===null&&(i=sn.empty()),i.set(a.field,h))}return i||null}function p_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&wa(a,o,((h,d)=>sb(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class mo extends Cc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xr extends Cc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function y_(s,e,i){const a=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,rb(d,g,i[o]))}return a}function __(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,ib(h,d,e))}return a}class Fv extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ub extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&lb(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=eo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=eo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Pv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Hv(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,((i,a)=>p_(i,a)))&&wa(this.baseMutations,e.baseMutations,((i,a)=>p_(i,a)))}}class Gd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return JA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Gd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,jt;function db(s){switch(s){case Y.OK:return vt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function Qv(s){if(s===void 0)return Li("GRPC error has no .code"),Y.UNKNOWN;switch(s){case _e.OK:return Y.OK;case _e.CANCELLED:return Y.CANCELLED;case _e.UNKNOWN:return Y.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Y.INTERNAL;case _e.UNAVAILABLE:return Y.UNAVAILABLE;case _e.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case _e.NOT_FOUND:return Y.NOT_FOUND;case _e.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case _e.ABORTED:return Y.ABORTED;case _e.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case _e.DATA_LOSS:return Y.DATA_LOSS;default:return vt(39323,{code:s})}}(jt=_e||(_e={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new vr([4294967295,4294967295],0);function v_(s){const e=mb().encode(s),i=new av;return i.update(e),new Uint8Array(i.digest())}function E_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new vr([i,a],0),new vr([o,h],0)]}class Fd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(a<0)throw new Zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(vr.fromNumber(a)));return o.compare(gb)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v_(e),[a,o]=E_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Fd(h,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=v_(e),[a,o]=E_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,go.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nc(At.min(),o,new ae(Ot),Pi(),Mt())}}class go{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new go(a,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Yv{constructor(e,i){this.targetId=e,this.Ce=i}}class Xv{constructor(e,i,a=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class T_{constructor(){this.ve=0,this.Fe=A_(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:h})}})),new go(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=A_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=Yu(),this.He=Yu(),this.Ye=new ae(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(yd(h))if(a===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,At.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Sr(a).toUint8Array()}catch(v){if(v instanceof _v)return Ra("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Fd(d,o,h)}catch(v){return Ra(v instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&yd(g.target)){const v=new mt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Mt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Nc(e,i,this.Ye,this.je,a);return this.je=Pi(),this.Je=Yu(),this.He=Yu(),this.Ye=new ae(Ot),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new T_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new De(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new De(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new ae(mt.comparator)}function A_(){return new ae(mt.comparator)}const yb={asc:"ASCENDING",desc:"DESCENDING"},_b={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vb={and:"AND",or:"OR"};class Eb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vd(s,e){return s.useProto3Json||Ac(e)?e:{value:e}}function mc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Tb(s,e){return mc(s,e.toTimestamp())}function ii(s){return Ht(!!s,49232),At.fromTimestamp((function(i){const a=br(i);return new ee(a.seconds,a.nanos)})(s))}function Qd(s,e){return Ed(s,e).canonicalString()}function Ed(s,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function $v(s){const e=Jt.fromString(s);return Ht(e0(e),10190,{key:e.toString()}),e}function Td(s,e){return Qd(s.databaseId,e.path)}function td(s,e){const i=$v(e);if(i.get(1)!==s.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(Jv(i))}function Zv(s,e){return Qd(s.databaseId,e)}function Ab(s){const e=$v(s);return e.length===4?Jt.emptyPath():Jv(e)}function Ad(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Jv(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function b_(s,e,i){return{name:Td(s,e),fields:i.value.mapValue.fields}}function bb(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:Qv(_.code);return new st(A,_.message||"")})(d);i=new Xv(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=td(s,a.document.name),h=ii(a.document.updateTime),d=a.document.createTime?ii(a.document.createTime):At.min(),g=new sn({mapValue:{fields:a.document.fields}}),v=Ke.newFoundDocument(o,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new tc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=td(s,a.document),h=a.readTime?ii(a.readTime):At.min(),d=Ke.newNoDocument(o,h),g=a.removedTargetIds||[];i=new tc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=td(s,a.document),h=a.removedTargetIds||[];i=new tc([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new fb(o,h),g=a.targetId;i=new Yv(g,d)}}return i}function Sb(s,e){let i;if(e instanceof mo)i={update:b_(s,e.key,e.value)};else if(e instanceof Fv)i={delete:Td(s,e.key)};else if(e instanceof xr)i={update:b_(s,e.key,e.data),updateMask:Ob(e.fieldMask)};else{if(!(e instanceof ub))return vt(16599,{Vt:e.type});i={verify:Td(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof fc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof dc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Tb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(s,e.precondition)),i}function Rb(s,e){return s&&s.length>0?(Ht(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(At.min())&&(d=ii(h)),new ab(d,o.transformResults||[])})(i,e)))):[]}function wb(s,e){return{documents:[Zv(s,e.path)]}}function Db(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Zv(s,o);const h=(function(_){if(_.length!==0)return t0(Ln.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(C){return{field:ya(C.field),direction:xb(C.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=vd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Cb(s){let e=Ab(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(N){const C=Wv(N);return C instanceof Ln&&Cv(C)?C.getFilters():[C]})(i.where));let d=[];i.orderBy&&(d=(function(N){return N.map((C=>(function(H){return new oo(_a(H.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(C)))})(i.orderBy));let g=null;i.limit&&(g=(function(N){let C;return C=typeof N=="object"?N.value:N,Ac(C)?null:C})(i.limit));let v=null;i.startAt&&(v=(function(N){const C=!!N.before,k=N.values||[];return new xa(k,C)})(i.startAt));let _=null;return i.endAt&&(_=(function(N){const C=!N.before,k=N.values||[];return new xa(k,C)})(i.endAt)),YA(e,o,d,h,g,"F",v,_)}function Nb(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Wv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=_a(i.unaryFilter.field);return ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=_a(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_a(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_a(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ve.create(_a(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ln.create(i.compositeFilter.filters.map((a=>Wv(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function xb(s){return yb[s]}function Vb(s){return _b[s]}function Ib(s){return vb[s]}function ya(s){return{fieldPath:s.canonicalString()}}function _a(s){return ke.fromServerFormat(s.fieldPath)}function t0(s){return s instanceof ve?(function(i){if(i.op==="=="){if(c_(i.value))return{unaryFilter:{field:ya(i.field),op:"IS_NAN"}};if(u_(i.value))return{unaryFilter:{field:ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(c_(i.value))return{unaryFilter:{field:ya(i.field),op:"IS_NOT_NAN"}};if(u_(i.value))return{unaryFilter:{field:ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(i.field),op:Vb(i.op),value:i.value}}})(s):s instanceof Ln?(function(i){const a=i.getFilters().map((o=>t0(o)));return a.length===1?a[0]:{compositeFilter:{op:Ib(i.op),filters:a}}})(s):vt(54877,{filter:s})}function Ob(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function e0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,i,a,o,h=At.min(),d=At.min(),g=He.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.yt=e}}function Ub(s){const e=Cb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.Cn=new Pb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ar.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Pb{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new De(Jt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new De(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(n0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Va(0)}static cr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",jb=1048576;function w_([s,e],[i,a]){const o=Ot(s,i);return o===0?Ot(e,a):o}class zb{constructor(e){this.Ir=e,this.buffer=new De(w_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();w_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qb{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Pa(i)?ot(R_,"Ignoring IndexedDB error during garbage collection: ",i):await La(i)}await this.Vr(3e5)}))}}class Bb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Tc.ce);const a=new zb(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(S_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(a=N,g=Date.now(),this.removeTargets(e,a,i)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((N=>(_=Date.now(),ga()<=zt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N}))))}}function kb(s,e){return new Bb(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.changes=new Ts((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&eo(a.mutation,o,gn.empty(),ee.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Mt()){const o=ps();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=$l();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ps();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Mt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let h=Pi();const d=to(),g=(function(){return to()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof xr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),eo(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,gn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new Gb(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=to();let o=new ae(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||gn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const N=(o.get(g.batchId)||Mt()).add(v);o=o.insert(g.batchId,N)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,N=Pv();A.forEach((C=>{if(!h.has(C)){const k=Hv(i.get(C),a.get(C));k!==null&&N.set(C,k),h=h.add(C)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,N))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kd(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Z.resolve(ps());let g=ro,v=h;return d.next((_=>Z.forEach(_,((A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((C=>{v=v.insert(A,C)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Mt()))).next((A=>({batchId:g,changes:Lv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((a=>{let o=$l();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,h).next((g=>Z.forEach(g,(v=>{const _=(function(N,C){return new Es(C,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((N,C)=>{d=d.insert(N,C)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let g=$l();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&eo(A.mutation,_,gn.empty(),ee.now()),wc(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Ub(o.bundledQuery),readTime:ii(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ps();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=ps(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ae(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=ps(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ps(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hb(i,a));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Qr=new De(Me.$r),this.Ur=new De(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new mt(new Jt([])),a=new Me(i,e),o=new Me(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Jt([])),a=new Me(i,e),o=new Me(i,e+1);let h=Mt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Me(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new De(Me.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cb(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?jd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new De(Ot);return i.forEach((o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;mt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new mt(h),0);let g=new De(Ot);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Me(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Me(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.ri=e,this.docs=(function(){return new ae(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let a=Pi();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Pi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||RA(SA(A),a)<=0||(o.has(A.key)||wc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,a,o){vt(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Zb(this)}getSize(e){return Z.resolve(this.size)}}class Zb extends Hb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.persistence=e,this.si=new Ts((i=>qd(i)),Bd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Yd,this.targetCount=0,this.ai=Va.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Va(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Tc(0),this.li=!1,this.li=!0,this.hi=new Xb,this.referenceDelegate=e(this),this.Pi=new Jb(this),this.indexManager=new Lb,this.remoteDocumentCache=(function(o){return new $b(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Mb(i),this.Ii=new Qb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Yb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Kb(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ot("MemoryPersistence","Starting transaction:",e);const o=new Wb(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Wb extends DA{constructor(e){super(),this.currentSequenceNumber=e}}class Xd{constructor(e){this.persistence=e,this.Ri=new Yd,this.Vi=null}static mi(e){return new Xd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class gc{constructor(e,i){this.persistence=e,this.pi=new Ts((a=>xA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=kb(this,i)}static mi(e,i){return new gc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,h.removeEntry(d,At.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Kd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QT()?8:CA(GT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new tS;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ga()<=zt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ga()<=zt.DEBUG&&ot("QueryEngine","Query:",pa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ga()<=zt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Z.resolve())}ys(e,i){if(m_(i))return Z.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hc(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,hc(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return m_(i)||o.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?Z.resolve(null):(ga()<=zt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pa(i)),this.vs(e,d,i,bA(o,ro)).next((g=>g)))}))}Ds(e,i){let a=new De(Mv(e));return i.forEach(((o,h)=>{wc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return ga()<=zt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",pa(i)),this.ps.getDocumentsMatchingQuery(e,i,Ar.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",nS=3e8;class iS{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(Ot),this.xs=new Ts((h=>qd(h)),Bd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function rS(s,e,i,a){return new iS(s,e,i,a)}async function r0(s,e){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=Mt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function sS(s,e){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const N=_.batch,C=N.keys();let k=Z.resolve();return C.forEach((H=>{k=k.next((()=>A.getEntry(v,H))).next((W=>{const K=_.docVersions.get(H);Ht(K!==null,48541),W.version.compareTo(K)<0&&(N.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(v,N)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function s0(s){const e=bt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function aS(s,e){const i=bt(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,N)=>{const C=o.get(N);if(!C)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,N).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,N))));let k=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?k=k.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,a)),o=o.insert(N,k),(function(W,K,at){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=nS?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(C,k,A)&&g.push(i.Pi.updateTargetData(h,k))}));let v=Pi(),_=Mt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(lS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((N=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function lS(s,e,i){let a=Mt(),o=Mt();return i.forEach((h=>a=a.add(h))),e.getEntries(s,a).next((h=>{let d=Pi();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):ot($d,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function oS(s,e){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function uS(s,e){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new pr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function bd(s,e,i){const a=bt(s),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Pa(d))throw d;ot($d,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function D_(s,e,i){const a=bt(s);let o=At.min(),h=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const N=bt(v),C=N.xs.get(A);return C!==void 0?Z.resolve(N.Ms.get(C)):N.Pi.getTargetData(_,A)})(a,d,ei(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:Mt()))).next((g=>(cS(a,KA(e),g),{documents:g,Qs:h})))))}function cS(s,e,i){let a=s.Os.get(e)||At.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(e,a)}class C_{constructor(){this.activeTargetIds=eb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hS{constructor(){this.Mo=new C_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(N_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function Sd(){return Xu===null?Xu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RestConnection",dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===oc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=Sd(),g=this.zo(e,i.toUriEncodedString());ot(ed,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),A=Md(_);return this.Jo(e,g,v,a,A).then((N=>(ot(ed,`Received RPC '${e}' ${d}: `,N),N)),(N=>{throw Ra(ed,`RPC '${e}' ${d} failed with error: `,N,"url: ",g,"request:",a),N}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ua})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=dS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class pS extends mS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=Sd();return new Promise(((g,v)=>{const _=new lv;_.setWithCredentials(!0),_.listenOnce(ov.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case $u.NO_ERROR:const N=_.getResponseJson();ot(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),g(N);break;case $u.TIMEOUT:ot(Ye,`RPC '${e}' ${d} timed out`),v(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const C=_.getStatus();if(ot(Ye,`RPC '${e}' ${d} failed with status:`,C,"response text:",_.getResponseText()),C>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const W=(function(at){const lt=at.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(lt)>=0?lt:Y.UNKNOWN})(H.status);v(new st(W,H.message))}else v(new st(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(Y.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ot(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=Sd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=hv(),g=cv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");ot(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,v);const N=d.createWebChannel(A,v);this.I_(N);let C=!1,k=!1;const H=new gS({Yo:K=>{k?ot(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(C||(ot(Ye,`Opening RPC '${e}' stream ${o} transport.`),N.open(),C=!0),ot(Ye,`RPC '${e}' stream ${o} sending:`,K),N.send(K))},Zo:()=>N.close()}),W=(K,at,lt)=>{K.listen(at,(ct=>{try{lt(ct)}catch(St){setTimeout((()=>{throw St}),0)}}))};return W(N,Kl.EventType.OPEN,(()=>{k||(ot(Ye,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),W(N,Kl.EventType.CLOSE,(()=>{k||(k=!0,ot(Ye,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(N))})),W(N,Kl.EventType.ERROR,(K=>{k||(k=!0,Ra(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),H.a_(new st(Y.UNAVAILABLE,"The operation could not be completed")))})),W(N,Kl.EventType.MESSAGE,(K=>{if(!k){const at=K.data[0];Ht(!!at,16349);const lt=at,ct=lt?.error||lt[0]?.error;if(ct){ot(Ye,`RPC '${e}' stream ${o} received error:`,ct);const St=ct.status;let ft=(function(b){const w=_e[b];if(w!==void 0)return Qv(w)})(St),Nt=ct.message;ft===void 0&&(ft=Y.INTERNAL,Nt="Unknown error status: "+St+" with message "+ct.message),k=!0,H.a_(new st(ft,Nt)),N.close()}else ot(Ye,`RPC '${e}' stream ${o} received:`,at),H.u_(at)}})),W(g,uv.STAT_EVENT,(K=>{K.stat===fd.PROXY?ot(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===fd.NOPROXY&&ot(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(s){return new Eb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="PersistentStream";class l0{constructor(e,i,a,o,h,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new st(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(V_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yS extends l0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=bb(this.serializer,e),a=(function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ii(d.readTime):At.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Ad(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=yd(v)?{documents:wb(h,v)}:{query:Db(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Kv(h,d.resumeToken);const _=vd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=mc(h,d.snapshotVersion.toTimestamp());const _=vd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=Nb(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Ad(this.serializer),i.removeTarget=e,this.q_(i)}}class _S extends l0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Rb(e.writeResults,e.commitTime),a=ii(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Sb(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class ES extends vS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Ed(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(Y.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Ed(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class AS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{As(this)&&(ot(_s,"Restarting streams for network reachability change."),await(async function(v){const _=bt(v);_.Ea.add(4),await po(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Vc(_)})(this))}))})),this.Ra=new TS(a,o)}}async function Vc(s){if(As(s))for(const e of s.da)await e(!0)}async function po(s){for(const e of s.da)await e(!1)}function o0(s,e){const i=bt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tm(i)?Wd(i):ja(i).O_()&&Jd(i,e))}function Zd(s,e){const i=bt(s),a=ja(i);i.Ia.delete(e),a.O_()&&u0(i,e),i.Ia.size===0&&(a.O_()?a.L_():As(i)&&i.Ra.set("Unknown"))}function Jd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ja(s).Y_(e)}function u0(s,e){s.Va.Ue(e),ja(s).Z_(e)}function Wd(s){s.Va=new pb({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ja(s).start(),s.Ra.ua()}function tm(s){return As(s)&&!ja(s).x_()&&s.Ia.size>0}function As(s){return bt(s).Ea.size===0}function c0(s){s.Va=void 0}async function bS(s){s.Ra.set("Online")}async function SS(s){s.Ia.forEach(((e,i)=>{Jd(s,e)}))}async function RS(s,e){c0(s),tm(s)?(s.Ra.ha(e),Wd(s)):s.Ra.set("Unknown")}async function wS(s,e,i){if(s.Ra.set("Online"),e instanceof Xv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){ot(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await pc(s,a)}else if(e instanceof tc?s.Va.Ze(e):e instanceof Yv?s.Va.st(e):s.Va.tt(e),!i.isEqual(At.min()))try{const a=await s0(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),u0(h,v);const N=new pr(A.target,v,_,A.sequenceNumber);Jd(h,N)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ot(_s,"Failed to raise snapshot:",a),await pc(s,a)}}async function pc(s,e,i){if(!Pa(e))throw e;s.Ea.add(1),await po(s),s.Ra.set("Offline"),i||(i=()=>s0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(_s,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vc(s)}))}function h0(s,e){return e().catch((i=>pc(s,i,e)))}async function Ic(s){const e=bt(s),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jd;for(;DS(e);)try{const o=await oS(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,CS(e,o)}catch(o){await pc(e,o)}f0(e)&&d0(e)}function DS(s){return As(s)&&s.Ta.length<10}function CS(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function f0(s){return As(s)&&!wr(s).x_()&&s.Ta.length>0}function d0(s){wr(s).start()}async function NS(s){wr(s).ra()}async function xS(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function VS(s,e,i){const a=s.Ta.shift(),o=Gd.from(a,e,i);await h0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ic(s)}async function IS(s,e){e&&wr(s).X_&&await(async function(a,o){if((function(d){return db(d)&&d!==Y.ABORTED})(o.code)){const h=a.Ta.shift();wr(a).B_(),await h0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Ic(a)}})(s,e),f0(s)&&d0(s)}async function I_(s,e){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),ot(_s,"RemoteStore received new credentials");const a=As(i);i.Ea.add(3),await po(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vc(i)}async function OS(s,e){const i=bt(s);e?(i.Ea.delete(2),await Vc(i)):e||(i.Ea.add(2),await po(i),i.Ra.set("Unknown"))}function ja(s){return s.ma||(s.ma=(function(i,a,o){const h=bt(i);return h.sa(),new yS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:bS.bind(null,s),t_:SS.bind(null,s),r_:RS.bind(null,s),H_:wS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),tm(s)?Wd(s):s.Ra.set("Unknown")):(await s.ma.stop(),c0(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,a,o){const h=bt(i);return h.sa(),new _S(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:NS.bind(null,s),r_:IS.bind(null,s),ta:xS.bind(null,s),na:VS.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ic(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(_s,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new em(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(s,e){if(Li("AsyncQueue",`${e}: ${s}`),Pa(s))return new st(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=$l(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ta;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.ga=new ae(mt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ia{constructor(e,i,a,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ia(e,i,Ta.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class US{constructor(){this.queries=M_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=bt(i),h=o.queries;o.queries=M_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function M_(){return new Ts((s=>Ov(s)),Rc)}async function LS(s,e){const i=bt(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new MS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=nm(d,`Initialization of query '${pa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&im(i)}async function PS(s,e){const i=bt(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function jS(s,e){const i=bt(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&im(i)}function zS(s,e,i){const a=bt(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function im(s){s.Ca.forEach((e=>{e.next()}))}var Rd,U_;(U_=Rd||(Rd={})).Ma="default",U_.Cache="cache";class qS{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ia(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class BS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Mv(e),this.tu=new Ta(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new O_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,N)=>{const C=o.get(A),k=wc(this.query,N)?N:null,H=!!C&&this.mutatedKeys.has(C.key),W=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let K=!1;C&&k?C.data.isEqual(k.data)?H!==W&&(a.track({type:3,doc:k}),K=!0):this.su(C,k)||(a.track({type:2,doc:k}),K=!0,(v&&this.eu(k,v)>0||_&&this.eu(k,_)<0)&&(g=!0)):!C&&k?(a.track({type:0,doc:k}),K=!0):C&&!k&&(a.track({type:1,doc:C}),K=!0,(v||_)&&(g=!0)),K&&(k?(d=d.add(k),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,N)=>(function(k,H){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:K})}};return W(k)-W(H)})(A.type,N.type)||this.eu(A.doc,N.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ia(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new g0(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new m0(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rm="SyncEngine";class kS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class HS{constructor(e){this.key=e,this.hu=!1}}class GS{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ts((g=>Ov(g)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new Yd,this.Vu={},this.mu=new Map,this.fu=Va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FS(s,e,i=!0){const a=T0(s);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await p0(a,e,i,!0),o}async function QS(s,e){const i=T0(s);await p0(i,e,!0,!1)}async function p0(s,e,i,a){const o=await uS(s.localStore,ei(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await YS(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&o0(s.remoteStore,o),g}async function YS(s,e,i,a,o){s.pu=(N,C,k)=>(async function(W,K,at,lt){let ct=K.view.ru(at);ct.Cs&&(ct=await D_(W.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,ct))));const St=lt&&lt.targetChanges.get(K.targetId),ft=lt&&lt.targetMismatches.get(K.targetId)!=null,Nt=K.view.applyChanges(ct,W.isPrimaryClient,St,ft);return P_(W,K.targetId,Nt.au),Nt.snapshot})(s,N,C,k);const h=await D_(s.localStore,e,!0),d=new BS(e,h.Qs),g=d.ru(h.documents),v=go.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,v);P_(s,i,_.au);const A=new kS(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function XS(s,e,i){const a=bt(s),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Rc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await bd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Zd(a.remoteStore,o.targetId),wd(a,o.targetId)})).catch(La)):(wd(a,o.targetId),await bd(a.localStore,o.targetId,!0))}async function KS(s,e){const i=bt(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zd(i.remoteStore,a.targetId))}async function $S(s,e,i){const a=i2(s);try{const o=await(function(d,g){const v=bt(d),_=ee.now(),A=g.reduce(((k,H)=>k.add(H.key)),Mt());let N,C;return v.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let H=Pi(),W=Mt();return v.Ns.getEntries(k,A).next((K=>{H=K,H.forEach(((at,lt)=>{lt.isValidDocument()||(W=W.add(at))}))})).next((()=>v.localDocuments.getOverlayedDocuments(k,H))).next((K=>{N=K;const at=[];for(const lt of g){const ct=ob(lt,N.get(lt.key).overlayedDocument);ct!=null&&at.push(new xr(lt.key,ct,Rv(ct.value.mapValue),ni.exists(!0)))}return v.mutationQueue.addMutationBatch(k,_,at,g)})).next((K=>{C=K;const at=K.applyToLocalDocumentSet(N,W);return v.documentOverlayCache.saveOverlays(k,K.batchId,at)}))})).then((()=>({batchId:C.batchId,changes:Lv(N)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ae(Ot)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await yo(a,o.changes),await Ic(a.remoteStore)}catch(o){const h=nm(o,"Failed to persist write");i.reject(h)}}async function y0(s,e){const i=bt(s);try{const a=await aS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await yo(i,a,e)}catch(a){await La(a)}}function L_(s,e,i){const a=bt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=bt(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,N)=>{for(const C of N.Sa)C.va(g)&&(_=!0)})),_&&im(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ZS(s,e,i){const a=bt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new ae(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,At.min()));const g=Mt().add(h),v=new Nc(At.min(),new Map,new ae(Ot),d,g);await y0(a,v),a.du=a.du.remove(h),a.Au.delete(e),sm(a)}else await bd(a.localStore,e,!1).then((()=>wd(a,e,i))).catch(La)}async function JS(s,e){const i=bt(s),a=e.batch.batchId;try{const o=await sS(i.localStore,e);v0(i,a,null),_0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await yo(i,o)}catch(o){await La(o)}}async function WS(s,e,i){const a=bt(s);try{const o=await(function(d,g){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((N=>(Ht(N!==null,37113),A=N.keys(),v.mutationQueue.removeMutationBatch(_,N)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);v0(a,e,i),_0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await yo(a,o)}catch(o){await La(o)}}function _0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function v0(s,e,i){const a=bt(s);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function wd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||E0(s,a)}))}function E0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Zd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),sm(s))}function P_(s,e,i){for(const a of i)a instanceof m0?(s.Ru.addReference(a.key,e),t2(s,a)):a instanceof g0?(ot(rm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||E0(s,a.key)):vt(19791,{wu:a})}function t2(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ot(rm,"New document in limbo: "+i),s.Eu.add(a),sm(s))}function sm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new mt(Jt.fromString(e)),a=s.fu.next();s.Au.set(a,new HS(i)),s.du=s.du.insert(i,a),o0(s.remoteStore,new pr(ei(Iv(i.path)),a,"TargetPurposeLimboResolution",Tc.ce))}}async function yo(s,e,i){const a=bt(s),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Kd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const A=bt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Z.forEach(_,(C=>Z.forEach(C.Es,(k=>A.persistence.referenceDelegate.addReference(N,C.targetId,k))).next((()=>Z.forEach(C.ds,(k=>A.persistence.referenceDelegate.removeReference(N,C.targetId,k)))))))))}catch(N){if(!Pa(N))throw N;ot($d,"Failed to update sequence numbers: "+N)}for(const N of _){const C=N.targetId;if(!N.fromCache){const k=A.Ms.get(C),H=k.snapshotVersion,W=k.withLastLimboFreeSnapshotVersion(H);A.Ms=A.Ms.insert(C,W)}}})(a.localStore,h))}async function e2(s,e){const i=bt(s);if(!i.currentUser.isEqual(e)){ot(rm,"User change. New user:",e.toKey());const a=await r0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new st(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await yo(i,a.Ls)}}function n2(s,e){const i=bt(s),a=i.Au.get(e);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function T0(s){const e=bt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZS.bind(null,e),e.Pu.H_=jS.bind(null,e.eventManager),e.Pu.yu=zS.bind(null,e.eventManager),e}function i2(s){const e=bt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return rS(this.persistence,new eS,e.initialUser,this.serializer)}Cu(e){return new i0(Xd.mi,this.serializer)}Du(e){return new hS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class r2 extends yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof gc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qb(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new i0((a=>gc.mi(a,i)),this.serializer)}}class Dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>L_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=e2.bind(null,this.syncEngine),await OS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new US})()}createDatastore(e){const i=xc(e.databaseInfo.databaseId),a=(function(h){return new pS(h)})(e.databaseInfo);return(function(h,d,g,v){return new ES(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,g){return new AS(a,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>L_(this.syncEngine,i,0)),(function(){return x_.v()?new x_:new fS})())}createSyncEngine(e,i){return(function(o,h,d,g,v,_,A){const N=new GS(o,h,d,g,v,_);return A&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);ot(_s,"RemoteStore shutting down."),a.Ea.add(5),await po(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dd.provider={build:()=>new Dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class a2{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ot(Dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(Dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=nm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function id(s,e){s.asyncQueue.verifyOperationInProgress(),ot(Dr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await r0(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function j_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await l2(s);ot(Dr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>I_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>I_(e.remoteStore,o))),s._onlineComponents=e}async function l2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(Dr,"Using user provided OfflineComponentProvider");try{await id(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ra("Error using user provided cache. Falling back to memory cache: "+i),await id(s,new yc)}}else ot(Dr,"Using default OfflineComponentProvider"),await id(s,new r2(void 0));return s._offlineComponents}async function A0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(Dr,"Using user provided OnlineComponentProvider"),await j_(s,s._uninitializedComponentsProvider._online)):(ot(Dr,"Using default OnlineComponentProvider"),await j_(s,new Dd))),s._onlineComponents}function o2(s){return A0(s).then((e=>e.syncEngine))}async function u2(s){const e=await A0(s),i=e.eventManager;return i.onListen=FS.bind(null,e.syncEngine),i.onUnlisten=XS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=QS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KS.bind(null,e.syncEngine),i}function c2(s,e,i={}){const a=new Er;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,v,_){const A=new s2({next:C=>{A.Nu(),d.enqueueAndForget((()=>PS(h,N))),C.fromCache&&v.source==="server"?_.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),N=new qS(g,A,{includeMetadataChanges:!0,qa:!0});return LS(h,N)})(await u2(s),s.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firestore.googleapis.com",q_=!0;class B_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S0,this.ssl=q_}else this.host=e.host,this.ssl=e.ssl??q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jb)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b0(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new fA;switch(a.type){case"firstParty":return new pA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=z_.get(i);a&&(ot("ComponentProvider","Removing Datastore"),z_.delete(i),a.terminate())})(this),Promise.resolve()}}function h2(s,e,i,a={}){s=Da(s,Oc);const o=Md(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(zT(`https://${g}`),HT("Firestore",!0)),h.host!==S0&&h.host!==g&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:a};if(!rc(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Xe.MOCK_USER;else{_=qT(a.mockUserToken,s._app?.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(N)}s._authCredentials=new dA(new dv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new zi(this.firestore,e,this._query)}}class we{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(fo(i,we._jsonSchema))return new we(e,a||null,new mt(Jt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ee("string",we._jsonSchemaVersion),referencePath:Ee("string")};class Tr extends zi{constructor(e,i,a){super(e,i,Iv(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new mt(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function Oa(s,e,...i){if(s=ai(s),mv("collection","path",e),s instanceof Oc){const a=Jt.fromString(e,...i);return e_(a),new Tr(s,null,a)}{if(!(s instanceof we||s instanceof Tr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return e_(a),new Tr(s.firestore,null,a)}}function R0(s,e,...i){if(s=ai(s),arguments.length===1&&(e=Pd.newId()),mv("doc","path",e),s instanceof Oc){const a=Jt.fromString(e,...i);return t_(a),new we(s,null,new mt(a))}{if(!(s instanceof we||s instanceof Tr))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return t_(a),new we(s.firestore,s instanceof Tr?s.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a0(this,"async_queue_retry"),this._c=()=>{const a=nd();a&&ot(k_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=nd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pa(e))throw e;ot(k_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",G_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=em.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:G_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function G_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Mc extends Oc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new H_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function f2(s,e){const i=typeof s=="object"?s:W1(),a=typeof s=="string"?s:oc,o=X1(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=PT("firestore");h&&h2(o,...h)}return o}function w0(s){if(s._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||d2(s),s._firestoreClient}function d2(s){const e=s._freezeSettings(),i=(function(o,h,d,g){return new OA(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,b0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new a2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(He.fromBase64String(e))}catch(i){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Nn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fo(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ee("string",Nn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(fo(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Ee("string",ri._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fo(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new si(e.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Ee("string",si._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=/^__.*__$/;class g2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new mo(e,this.data,i,this.fieldTransforms)}}class D0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new xr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function C0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class lm{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _c(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C0(this.Ac)&&m2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class p2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xc(e)}Cc(e,i,a,o=!1){return new lm({Ac:e,methodName:i,Dc:a,path:ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lc(s){const e=s._freezeSettings(),i=xc(s._databaseId);return new p2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function y2(s,e,i,a,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);om("Data must be an object, but it was:",d,a);const g=x0(a,d);let v,_;if(h.merge)v=new gn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const C=Cd(e,N,i);if(!d.contains(C))throw new st(Y.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);I0(A,C)||A.push(C)}v=new gn(A),_=d.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,_=d.fieldTransforms;return new g2(new sn(g),v,_)}class Pc extends am{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pc}}function _2(s,e,i,a){const o=s.Cc(1,e,i);om("Data must be an object, but it was:",o,a);const h=[],d=sn.empty();Nr(a,((v,_)=>{const A=um(e,v,i);_=ai(_);const N=o.yc(A);if(_ instanceof Pc)h.push(A);else{const C=_o(_,N);C!=null&&(h.push(A),d.set(A,C))}}));const g=new gn(h);return new D0(d,g,o.fieldTransforms)}function v2(s,e,i,a,o,h){const d=s.Cc(1,e,i),g=[Cd(e,a,i)],v=[o];if(h.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<h.length;C+=2)g.push(Cd(e,h[C])),v.push(h[C+1]);const _=[],A=sn.empty();for(let C=g.length-1;C>=0;--C)if(!I0(_,g[C])){const k=g[C];let H=v[C];H=ai(H);const W=d.yc(k);if(H instanceof Pc)_.push(k);else{const K=_o(H,W);K!=null&&(_.push(k),A.set(k,K))}}const N=new gn(_);return new D0(A,N,d.fieldTransforms)}function N0(s,e,i,a=!1){return _o(i,s.Cc(a?4:3,e))}function _o(s,e){if(V0(s=ai(s)))return om("Unsupported field value:",e,s),x0(s,e);if(s instanceof am)return(function(a,o){if(!C0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let v=_o(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(a,o){if((a=ai(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ee.fromDate(a);return{timestampValue:mc(o.serializer,h)}}if(a instanceof ee){const h=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mc(o.serializer,h)}}if(a instanceof ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Nn)return{bytesValue:Kv(o.serializer,a._byteString)};if(a instanceof we){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Qd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof si)return(function(d,g){return{mapValue:{fields:{[bv]:{stringValue:Sv},[uc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Hd(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Ec(a)}`)})(s,e)}function x0(s,e){const i={};return yv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,((a,o)=>{const h=_o(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function V0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof ri||s instanceof Nn||s instanceof we||s instanceof am||s instanceof si)}function om(s,e,i){if(!V0(i)||!gv(i)){const a=Ec(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Cd(s,e,i){if((e=ai(e))instanceof Uc)return e._internalPath;if(typeof e=="string")return um(s,e);throw _c("Field path arguments must be of type string or ",s,!1,void 0,i)}const E2=new RegExp("[~\\*/\\[\\]]");function um(s,e,i){if(e.search(E2)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uc(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _c(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new st(Y.INVALID_ARGUMENT,g+s+v)}function I0(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(jc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class T2 extends cm{data(){return super.data()}}function jc(s,e){return typeof e=="string"?um(s,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class zc extends hm{}function fm(s,e,...i){let a=[];e instanceof hm&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof dm)).length,g=h.filter((v=>v instanceof qc)).length;if(d>1||d>0&&g>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class qc extends zc{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new qc(e,i,a)}_apply(e){const i=this._parse(e);return L0(e._query,i),new zi(e.firestore,e.converter,_d(e._query,i))}_parse(e){const i=Lc(e.firestore);return(function(h,d,g,v,_,A,N){let C;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Q_(N,A);const H=[];for(const W of N)H.push(F_(v,h,W));C={arrayValue:{values:H}}}else C=F_(v,h,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Q_(N,A),C=N0(g,d,N,A==="in"||A==="not-in");return ve.create(_,A,C)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function vc(s,e,i){const a=e,o=jc("where",s);return qc._create(o,a,i)}class dm extends hm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dm(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)L0(d,v),d=_d(d,v)})(e._query,i),new zi(e.firestore,e.converter,_d(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mm extends zc{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new mm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oo(h,d)})(e._query,this._field,this._direction);return new zi(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new Es(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function O0(s,e="asc"){const i=e,a=jc("orderBy",s);return mm._create(a,i)}class gm extends zc{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new gm(e,i,a)}_apply(e){return new zi(e.firestore,e.converter,hc(e._query,this._limit,this._limitType))}}function M0(s){return gm._create("limit",s,"F")}class pm extends zc{constructor(e,i,a){super(),this.type=e,this._docOrFields=i,this._inclusive=a}static _create(e,i,a){return new pm(e,i,a)}_apply(e){const i=b2(e,this.type,this._docOrFields,this._inclusive);return new zi(e.firestore,e.converter,(function(o,h){return new Es(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)})(e._query,i))}}function U0(...s){return pm._create("startAfter",s,!1)}function b2(s,e,i,a){if(i[0]=ai(i[0]),i[0]instanceof cm)return(function(h,d,g,v,_){if(!v)throw new st(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const A=[];for(const N of Ea(h))if(N.field.isKeyField())A.push(cc(d,v.key));else{const C=v.data.field(N.field);if(bc(C))throw new st(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(C===null){const k=N.field.canonicalString();throw new st(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}A.push(C)}return new xa(A,_)})(s._query,s.firestore._databaseId,e,i[0]._document,a);{const o=Lc(s.firestore);return(function(d,g,v,_,A,N){const C=d.explicitOrderBy;if(A.length>C.length)throw new st(Y.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let H=0;H<A.length;H++){const W=A[H];if(C[H].field.isKeyField()){if(typeof W!="string")throw new st(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!kd(d)&&W.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const K=d.path.child(Jt.fromString(W));if(!mt.isDocumentKey(K))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const at=new mt(K);k.push(cc(g,at))}else{const K=N0(v,_,W);k.push(K)}}return new xa(k,N)})(s._query,s.firestore._databaseId,o,e,i,a)}}function F_(s,e,i){if(typeof(i=ai(i))=="string"){if(i==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kd(e)&&i.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!mt.isDocumentKey(a))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return cc(s,new mt(a))}if(i instanceof we)return cc(s,i._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ec(i)}.`)}function Q_(s,e){if(!Array.isArray(s)||s.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L0(s,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class S2{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[uc].arrayValue?.values?.map((a=>de(a.doubleValue)));return new si(i)}convertGeoPoint(e){return new ri(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Sc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(so(e));default:return null}}convertTimestamp(e){const i=br(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);Ht(e0(a),9688,{name:e});const o=new ao(a.get(1),a.get(3)),h=new mt(a.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Ku{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends cm{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(jc("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Ee("string",Aa._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class ec extends Aa{data(e={}){return super.data(e)}}class ba{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ku(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new ec(this._firestore,this._userDataWriter,a.key,a,new Ku(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:w2(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}ba._jsonSchemaVersion="firestore/querySnapshot/1.0",ba._jsonSchema={type:Ee("string",ba._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class D2 extends S2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function ho(s){s=Da(s,zi);const e=Da(s.firestore,Mc),i=w0(e),a=new D2(e);return A2(s._query),c2(i,s._query).then((o=>new ba(e,a,s,o)))}function C2(s,e,i,...a){s=Da(s,we);const o=Da(s.firestore,Mc),h=Lc(o);let d;return d=typeof(e=ai(e))=="string"||e instanceof Uc?v2(h,"updateDoc",s._key,e,i,a):_2(h,"updateDoc",s._key,e),P0(o,[d.toMutation(s._key,ni.exists(!0))])}function N2(s,e){const i=Da(s.firestore,Mc),a=R0(s),o=R2(s.converter,e);return P0(i,[y2(Lc(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then((()=>a))}function P0(s,e){return(function(a,o){const h=new Er;return a.asyncQueue.enqueueAndForget((async()=>$S(await o2(a),o,h))),h.promise})(w0(s),e)}(function(e,i=!0){(function(o){Ua=o})(J1),ac(new no("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Mc(new mA(a.getProvider("auth-internal")),new yA(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),va($y,Zy,e),va($y,Zy,"esm2020")})();const j0={apiKey:"AIzaSyBYa7jjDAX53VnCYixldvrR-M_dTokmoPU",authDomain:"punjab-care.firebaseapp.com",projectId:"punjab-care",storageBucket:"punjab-care.appspot.com",messagingSenderId:"1089478038940",appId:"1:1089478038940:web:a6f65a51345dfa667ce459"};console.log("Firebase config =>",j0);const x2=iv(j0),vs=f2(x2),V2=({onNavigate:s})=>P.jsxs("footer",{className:"bg-gray-50 border-t mt-10 py-6 text-center",children:[P.jsx("button",{type:"button",onClick:()=>s("AboutUs"),className:"text-xl font-medium text-blue-600 hover:text-blue-800 transition-colors underline-offset-4 hover:underline cursor-pointer",children:"About Us"}),P.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:[" ",new Date().getFullYear()," Punjab Care. All rights reserved."]})]}),rd=({onNavigate:s})=>{const{t:e,language:i,toggleLanguage:a}=Cr(),o=h=>{s(h)};return gt.useEffect(()=>{(async()=>{try{const d=await ho(Oa(vs,"requests"));d.empty?console.log("Database connected  but no requests found yet."):d.forEach(g=>{console.log(g.id," => ",g.data())})}catch(d){console.error(d)}})()},[]),P.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[P.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:P.jsx("div",{className:"px-4 py-3",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h1",{className:"text-xl font-bold text-blue-500",children:e("Punjab Care")}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{onClick:a,className:`px-3 py-1 text-sm rounded-md ${i==="en"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"English"}),P.jsx("button",{onClick:a,className:`px-3 py-1 text-sm rounded-md ${i==="pa"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:""})]})]})})}),P.jsx("main",{className:"flex-1 flex flex-col justify-center px-4 py-8",children:P.jsxs("div",{className:"max-w-md mx-auto w-full",children:[P.jsxs("div",{className:"text-center mb-8",children:[P.jsx("div",{className:"text-4xl mb-4",children:""}),P.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e("welcome")}),P.jsx("p",{className:"text-lg text-gray-600",children:e("welcomeMessage")})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("button",{onClick:()=>o("request"),className:"w-full bg-blue-500 text-white py-4 px-6 rounded-lg text-lg font-semibold shadow-md hover:bg-blue-600 transition-colors flex items-center justify-center gap-3",children:[P.jsx("span",{children:""}),e("getHelpNow"),P.jsx("span",{children:""})]}),P.jsxs("button",{onClick:()=>o("helpline"),className:"w-full bg-white text-gray-700 py-4 px-6 rounded-lg text-lg font-semibold border-2 border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-3",children:[P.jsx("span",{children:""}),e("viewHelplines")]})]}),P.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:[P.jsx("div",{className:"flex items-center gap-2 mb-2",children:P.jsx("h3",{className:"font-semibold text-red-800",children:e("emergencyNotice")})}),P.jsx("p",{className:"text-red-700 text-sm",children:e("emergencyMessage")})]}),P.jsx("div",{className:"mt-5 text-center text-gray-500 text-xl",children:P.jsx("p",{children:e("Support Punjab  ")})})]})})]})},I2=()=>"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),nc=()=>{let s=localStorage.getItem("floodReliefSessionId");return s||(s=I2(),localStorage.setItem("floodReliefSessionId",s)),s};let O2={data:""},M2=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||O2,U2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,L2=/\/\*[^]*?\*\/|  +/g,Y_=/\n+/g,gr=(s,e)=>{let i="",a="",o="";for(let h in s){let d=s[h];h[0]=="@"?h[1]=="i"?i=h+" "+d+";":a+=h[1]=="f"?gr(d,h):h+"{"+gr(d,h[1]=="k"?"":e)+"}":typeof d=="object"?a+=gr(d,e?e.replace(/([^,])+/g,g=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,g):g?g+" "+v:v)):h):d!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=gr.p?gr.p(h,d):h+":"+d+";")}return i+(e&&o?e+"{"+o+"}":o)+a},Mi={},z0=s=>{if(typeof s=="object"){let e="";for(let i in s)e+=i+z0(s[i]);return e}return s},P2=(s,e,i,a,o)=>{let h=z0(s),d=Mi[h]||(Mi[h]=(v=>{let _=0,A=11;for(;_<v.length;)A=101*A+v.charCodeAt(_++)>>>0;return"go"+A})(h));if(!Mi[d]){let v=h!==s?s:(_=>{let A,N,C=[{}];for(;A=U2.exec(_.replace(L2,""));)A[4]?C.shift():A[3]?(N=A[3].replace(Y_," ").trim(),C.unshift(C[0][N]=C[0][N]||{})):C[0][A[1]]=A[2].replace(Y_," ").trim();return C[0]})(s);Mi[d]=gr(o?{["@keyframes "+d]:v}:v,i?"":"."+d)}let g=i&&Mi.g?Mi.g:null;return i&&(Mi.g=Mi[d]),((v,_,A,N)=>{N?_.data=_.data.replace(N,v):_.data.indexOf(v)===-1&&(_.data=A?v+_.data:_.data+v)})(Mi[d],e,a,g),d},j2=(s,e,i)=>s.reduce((a,o,h)=>{let d=e[h];if(d&&d.call){let g=d(i),v=g&&g.props&&g.props.className||/^go/.test(g)&&g;d=v?"."+v:g&&typeof g=="object"?g.props?"":gr(g,""):g===!1?"":g}return a+o+(d??"")},"");function Bc(s){let e=this||{},i=s.call?s(e.p):s;return P2(i.unshift?i.raw?j2(i,[].slice.call(arguments,1),e.p):i.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):i,M2(e.target),e.g,e.o,e.k)}let q0,Nd,xd;Bc.bind({g:1});let ji=Bc.bind({k:1});function z2(s,e,i,a){gr.p=e,q0=s,Nd=i,xd=a}function Vr(s,e){let i=this||{};return function(){let a=arguments;function o(h,d){let g=Object.assign({},h),v=g.className||o.className;i.p=Object.assign({theme:Nd&&Nd()},g),i.o=/ *go\d+/.test(v),g.className=Bc.apply(i,a)+(v?" "+v:"");let _=s;return s[0]&&(_=g.as||s,delete g.as),xd&&_[0]&&xd(g),q0(_,g)}return o}}var q2=s=>typeof s=="function",Vd=(s,e)=>q2(s)?s(e):s,B2=(()=>{let s=0;return()=>(++s).toString()})(),k2=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),H2=20,B0="default",k0=(s,e)=>{let{toastLimit:i}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,i)};case 1:return{...s,toasts:s.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:a}=e;return k0(s,{type:s.toasts.find(d=>d.id===a.id)?1:0,toast:a});case 3:let{toastId:o}=e;return{...s,toasts:s.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let h=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+h}))}}},G2=[],F2={toasts:[],pausedAt:void 0,settings:{toastLimit:H2}},Sa={},H0=(s,e=B0)=>{Sa[e]=k0(Sa[e]||F2,s),G2.forEach(([i,a])=>{i===e&&a(Sa[e])})},G0=s=>Object.keys(Sa).forEach(e=>H0(s,e)),Q2=s=>Object.keys(Sa).find(e=>Sa[e].toasts.some(i=>i.id===s)),ym=(s=B0)=>e=>{H0(e,s)},Y2=(s,e="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...i,id:i?.id||B2()}),vo=s=>(e,i)=>{let a=Y2(e,s,i);return ym(a.toasterId||Q2(a.id))({type:2,toast:a}),a.id},Be=(s,e)=>vo("blank")(s,e);Be.error=vo("error");Be.success=vo("success");Be.loading=vo("loading");Be.custom=vo("custom");Be.dismiss=(s,e)=>{let i={type:3,toastId:s};e?ym(e)(i):G0(i)};Be.dismissAll=s=>Be.dismiss(void 0,s);Be.remove=(s,e)=>{let i={type:4,toastId:s};e?ym(e)(i):G0(i)};Be.removeAll=s=>Be.remove(void 0,s);Be.promise=(s,e,i)=>{let a=Be.loading(e.loading,{...i,...i?.loading});return typeof s=="function"&&(s=s()),s.then(o=>{let h=e.success?Vd(e.success,o):void 0;return h?Be.success(h,{id:a,...i,...i?.success}):Be.dismiss(a),o}).catch(o=>{let h=e.error?Vd(e.error,o):void 0;h?Be.error(h,{id:a,...i,...i?.error}):Be.dismiss(a)}),s};var X2=ji`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,K2=ji`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$2=ji`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Z2=Vr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${K2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,J2=ji`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,W2=Vr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${J2} 1s linear infinite;
`,tR=ji`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eR=ji`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,nR=Vr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iR=Vr("div")`
  position: absolute;
`,rR=Vr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sR=ji`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aR=Vr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lR=({toast:s})=>{let{icon:e,type:i,iconTheme:a}=s;return e!==void 0?typeof e=="string"?gt.createElement(aR,null,e):e:i==="blank"?null:gt.createElement(rR,null,gt.createElement(W2,{...a}),i!=="loading"&&gt.createElement(iR,null,i==="error"?gt.createElement(Z2,{...a}):gt.createElement(nR,{...a})))},oR=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uR=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,cR="0%{opacity:0;} 100%{opacity:1;}",hR="0%{opacity:1;} 100%{opacity:0;}",fR=Vr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dR=Vr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mR=(s,e)=>{let i=s.includes("top")?1:-1,[a,o]=k2()?[cR,hR]:[oR(i),uR(i)];return{animation:e?`${ji(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ji(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};gt.memo(({toast:s,position:e,style:i,children:a})=>{let o=s.height?mR(s.position||e||"top-center",s.visible):{opacity:0},h=gt.createElement(lR,{toast:s}),d=gt.createElement(dR,{...s.ariaProps},Vd(s.message,s));return gt.createElement(fR,{className:s.className,style:{...o,...i,...s.style}},typeof a=="function"?a({icon:h,message:d}):gt.createElement(gt.Fragment,null,h,d))});z2(gt.createElement);Bc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var sd=Be;const gR=()=>{const{t:s}=Cr(),[e,i]=gt.useState({name:"",location:"",contactNumber:"",typeOfHelp:"",description:""}),[a,o]=gt.useState(!1),[h,d]=gt.useState(""),[g,v]=gt.useState(null),_=[{value:"medical",label:s("medical")},{value:"food",label:s("food")},{value:"shelter",label:s("shelter")},{value:"emergencyTransport",label:s("emergencyTransport")}],A=H=>{const{name:W,value:K}=H.target;i(at=>({...at,[W]:K}))},N=async()=>{try{if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser, please fill the detil manually");d(s("enablingGPS"));const H=await new Promise((I,b)=>{navigator.geolocation.getCurrentPosition(I,w=>{w.code===w.TIMEOUT||w.code===w.POSITION_UNAVAILABLE?(console.log("High accuracy failed, trying standard accuracy..."),navigator.geolocation.getCurrentPosition(I,b,{enableHighAccuracy:!1,timeout:15e3,maximumAge:0})):b(w)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),{latitude:W,longitude:K,accuracy:at}=H.coords;console.log(`Got position with accuracy: ${at} meters`),at>500?d(s("lowAccuracyWarning")):d(s("fetchingLocation"));const lt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${W}&lon=${K}&addressdetails=1&accept-language=${navigator.language||"en"}`);if(!lt.ok)throw new Error("Failed to fetch location details");const St=(await lt.json()).address||{};let ft="";const Nt=["village","town","city_district","city","county","state_district","state"];for(const I of Nt)if(St[I])if(ft){if(I==="village"||I==="town"||I==="city"&&!ft.includes(St[I])){ft=`${St[I]}, ${ft}`;break}}else ft=St[I];ft||(ft=`${s("near")} ${W.toFixed(4)}, ${K.toFixed(4)}`,at<1e3&&(ft+=` (${Math.round(at)}m ${s("accuracy")})`)),i(I=>({...I,location:ft,coordinates:{latitude:W.toFixed(6),longitude:K.toFixed(6),accuracy:Math.round(at)}})),d(s("locationFetched")),setTimeout(()=>d(""),3e3)}catch(H){console.error("Error getting location:",H);let W=s("locationError");H.code===H.PERMISSION_DENIED?W=s("locationPermissionDenied"):H.code===H.POSITION_UNAVAILABLE?W=s("locationUnavailable"):H.code===H.TIMEOUT&&(W=s("locationTimeout")),d(W),setTimeout(()=>d(""),5e3)}},C=()=>!e.location||!e.location.trim()?{valid:!1,error:s("locationRequired")}:/^[6-9]\d{9}$/.test(e.contactNumber)?e.typeOfHelp?{valid:!0,error:null}:{valid:!1,error:s("typeOfHelpRequired")}:{valid:!1,error:s("invalidContactNumber")||"Invalid Contact Number. Please enter a 10-digit Indian mobile number."},k=async H=>{H.preventDefault(),v(null),d("");const{valid:W,error:K}=C();if(!W){v(K),sd.error(K),setTimeout(()=>v(null),5e3);return}o(!0);try{const at=nc(),lt={...e,sessionId:at,timestamp:new Date,status:"pending"},ct=await N2(Oa(vs,"requests"),lt),St=s("requestSubmitted")||"Request submitted";d(St),sd.success(St),i({name:"",location:"",contactNumber:"",typeOfHelp:"",description:""}),setTimeout(()=>d(""),3e3)}catch(at){console.error("Request submission error:",at),console.error("Error details:",{code:at.code,message:at.message,stack:at.stack});let lt;at.code==="permission-denied"?lt=s("permissionDenied"):at.code==="unavailable"?lt=s("serviceUnavailable"):at.code==="unauthenticated"?lt=s("unauthenticated"):lt=`${s("errorSubmitting")||"Error submitting request"}: ${at.message}`,v(lt),sd.error(lt),setTimeout(()=>v(null),5e3)}finally{o(!1)}};return P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:s("requestHelp")}),g&&P.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:[P.jsx("div",{className:"font-medium",children:s("error")}),P.jsx("div",{className:"text-sm",children:g})]}),h&&P.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md",children:h}),P.jsxs("form",{onSubmit:k,className:"space-y-4",noValidate:!0,children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:s("name")}),P.jsx("input",{type:"text",name:"name",value:e.name,onChange:A,className:"w-full p-3 border border-gray-300 rounded-md",placeholder:s("name")})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:s("location")}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("input",{type:"text",name:"location",value:e.location,onChange:A,className:"flex-1 p-3 border border-gray-300 rounded-md",placeholder:s("location")}),P.jsx("button",{type:"button",onClick:N,className:"px-4 py-3 bg-blue-500 text-white rounded-md text-sm",children:s("getLocation")})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:s("contactNumber")}),P.jsx("input",{type:"tel",inputMode:"numeric",name:"contactNumber",value:e.contactNumber,onChange:H=>{const W=H.target.value.replace(/\D/g,"").slice(0,10);i(K=>({...K,contactNumber:W}))},maxLength:"10",className:"w-full p-3 border border-gray-300 rounded-md",placeholder:s("Enter 10-digit contact number")})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:s("typeOfHelp")}),P.jsxs("select",{name:"typeOfHelp",value:e.typeOfHelp,onChange:A,className:"w-full p-3 border border-gray-300 rounded-md",children:[P.jsx("option",{value:"",children:s("typeOfHelp")}),_.map(H=>P.jsx("option",{value:H.value,children:H.label},H.value))]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:s("description")}),P.jsx("textarea",{name:"description",value:e.description,onChange:A,rows:"4",className:"w-full p-3 border border-gray-300 rounded-md",placeholder:s("description")})]}),P.jsx("button",{type:"submit",disabled:a,className:"w-full bg-green-500 text-white py-3 rounded-md font-medium disabled:opacity-50",children:s(a?"loading":"submit")})]})]})},pR=()=>{const{language:s}=Cr(),[e,i]=gt.useState([]),[a,o]=gt.useState(""),[h,d]=gt.useState([]),[g,v]=gt.useState([]),[_,A]=gt.useState(!1),[N,C]=gt.useState(!1);return gt.useEffect(()=>{(async()=>{A(!0);try{const H=await ho(Oa(vs,"helplines")),W=new Set;H.forEach(K=>{const at=K.data(),lt=at.district||at.language?.en?.district||null;lt&&W.add(lt)}),i(Array.from(W).sort())}catch(H){console.error("Error fetching districts:",H)}finally{A(!1)}})()},[]),gt.useEffect(()=>{(async()=>{if(!a){d([]);return}C(!0);try{const H=fm(Oa(vs,"helplines"),vc("district","==",a)),K=(await ho(H)).docs.map(at=>({id:at.id,...at.data()}));d(K)}catch(H){console.error("Error fetching helplines:",H),d([])}finally{C(!1)}})()},[a]),gt.useEffect(()=>{const k=h.map(H=>({id:H.id,contact:H.contact||H.phone||H.contactNumber||"N/A",orgName:H.language?.[s]?.orgName||H.orgName||H.name||"N/A",districtDisplay:H.language?.[s]?.district||H.district||"",raw:H}));v(k)},[h,s]),P.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[P.jsx("h2",{className:"text-xl font-bold mb-4",children:"Helpline Numbers"}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"District"}),P.jsxs("select",{value:a,onChange:k=>o(k.target.value),className:"border rounded p-2 mb-4 w-full",children:[P.jsx("option",{value:"",children:"Select District"}),_?P.jsx("option",{children:"Loading..."}):e.map(k=>P.jsx("option",{value:k,children:k},k))]})]}),N?P.jsx("p",{className:"text-sm text-gray-600",children:"Loading helplines..."}):g.length===0&&a?P.jsx("p",{className:"text-sm text-gray-600",children:"No helplines found for this district."}):P.jsx("ul",{className:"space-y-3",children:g.map(k=>P.jsxs("li",{className:"border rounded p-3 shadow hover:shadow-md transition",children:[P.jsx("p",{className:"font-semibold",children:k.orgName}),k.districtDisplay&&P.jsx("p",{className:"text-sm text-gray-600",children:k.districtDisplay}),P.jsxs("p",{className:"text-sm",children:[" ",P.jsx("a",{href:`tel:${k.contact}`,children:k.contact})]})]},k.id))})]})},yR=()=>{const{t:s}=Cr(),[e,i]=gt.useState([]),[a,o]=gt.useState(!0),[h,d]=gt.useState(!1),[g,v]=gt.useState(null),[_,A]=gt.useState(!0),[N,C]=gt.useState(new Set),[k,H]=gt.useState(!1),[W,K]=gt.useState("all"),at=10,lt=(S=!1)=>{const O=Oa(vs,"requests"),M=[];return W!=="all"&&M.push(vc("status","==",W)),M.push(O0("timestamp","desc")),S&&g&&M.push(U0(g)),k||M.push(M0(at)),fm(O,...M)},ct=async(S=!1)=>{try{d(S);const O=lt(S),M=await ho(O),D=M.docs.map(ne=>({id:ne.id,...ne.data()}));i(S?ne=>[...ne,...D]:D),v(M.docs[M.docs.length-1]),A(!k&&M.docs.length===at)}catch(O){console.error("Error fetching requests:",O)}finally{o(!1),d(!1)}},St=S=>{C(O=>{const M=new Set(O);return M.has(S)?M.delete(S):M.add(S),M})},ft=S=>S?(S.toDate?S.toDate():new Date(S)).toLocaleString():"",Nt=S=>({medical:s("medical"),food:s("food"),shelter:s("shelter"),emergencyTransport:s("emergencyTransport")})[S]||S,I=S=>({pending:s("pending"),completed:s("completed")})[S]||S,b=S=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800"})[S]||"bg-gray-100 text-gray-800",w=S=>{K(S),v(null),A(!0),C(new Set),H(!1)};return gt.useEffect(()=>{ct()},[W]),a?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:s("viewRequests")}),P.jsx("div",{className:"text-center py-8",children:P.jsx("div",{className:"text-gray-500",children:s("loading")})})]}):P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:s("viewRequests")}),P.jsx("div",{className:"mb-4",children:P.jsx("div",{className:"flex gap-2",children:["all","pending","completed"].map(S=>P.jsx("button",{onClick:()=>w(S),className:`px-3 py-1 text-sm rounded-md ${W===S?S==="all"?"bg-blue-500 text-white":S==="pending"?"bg-yellow-500 text-white":"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:s(S)},S))})}),e.length===0?P.jsx("div",{className:"text-center py-8 text-gray-500",children:s("noRequests")}):P.jsxs("div",{className:"space-y-4",children:[e.map(S=>P.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsx("div",{className:"font-medium",children:S.name}),P.jsx("div",{className:"text-sm text-gray-500",children:ft(S.timestamp)})]}),P.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[P.jsx("div",{children:S.location}),P.jsx("div",{children:Nt(S.typeOfHelp)})]}),P.jsx("div",{className:"mb-2",children:P.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${b(S.status)}`,children:I(S.status)})}),N.has(S.id)&&P.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md text-sm",children:[P.jsxs("div",{className:"mb-2",children:[P.jsxs("strong",{children:[s("contactNumber"),":"]})," ",S.contactNumber]}),P.jsxs("div",{children:[P.jsxs("strong",{children:[s("description"),":"]})," ",S.description]}),S.completedAt&&P.jsxs("div",{className:"mt-2 text-green-600",children:[P.jsxs("strong",{children:[s("completedAt"),":"]})," ",ft(S.completedAt)]})]}),P.jsx("button",{onClick:()=>St(S.id),className:"mt-2 text-blue-600 text-sm hover:underline",children:N.has(S.id)?"Hide Details":s("clickToViewDetails")})]},S.id)),!k&&_&&P.jsx("div",{className:"flex gap-2 mt-4",children:P.jsx("button",{onClick:()=>ct(!0),disabled:h,className:"flex-1 bg-blue-500 text-white py-2 rounded-md disabled:opacity-50",children:s(h?"loading":"loadMore")})})]})]})},X_=10,_R=()=>{const{t:s}=Cr(),[e,i]=gt.useState([]),[a,o]=gt.useState(!0),[h,d]=gt.useState(!1),[g,v]=gt.useState(new Set),[_,A]=gt.useState("all"),[N,C]=gt.useState(null),[k,H]=gt.useState(!0),[W,K]=gt.useState(null),[at,lt]=gt.useState(null),[ct,St]=gt.useState({}),ft=gt.useCallback((it=!1)=>{const F=nc();if(!F)throw new Error("Session ID not found. Cannot fetch you requests");const tt=[vc("sessionId","==",F)];return _!=="all"&&tt.push(vc("status","==",_)),tt.push(O0("timestamp","desc")),it&&N&&tt.push(U0(N)),tt.push(M0(X_)),fm(Oa(vs,"requests"),...tt)},[_,N]),Nt=gt.useCallback(async(it=!1)=>{try{it?d(!0):o(!0),lt(null);const tt=`${nc()}_${_}_${it?"more":"initial"}`;if(ct[tt]&&!it){i(ct[tt].requests),C(ct[tt].lastDoc),H(ct[tt].hasMore),o(!1);return}const ht=ft(it),It=await ho(ht),x=It.docs.map(et=>({id:et.id,...et.data()}));i(it?et=>[...et,...x]:x);const J=It.docs[It.docs.length-1],rt=It.docs.length===X_;C(J),H(rt),it||St(et=>({...et,[tt]:{requests:x,lastDoc:J,hasMore:rt}}))}catch(F){console.error("Error fetching my requests:",F),lt(F.message)}finally{o(!1),d(!1)}},[ft,_,ct]),I=async it=>{try{K(it),lt(null);const F=R0(vs,"requests",it);await C2(F,{status:"completed",completedAt:new Date}),i(tt=>tt.map(ht=>ht.id===it?{...ht,status:"completed",completedAt:new Date}:ht)),St({})}catch(F){console.error("Error updating request status:",F),lt(F.message)}finally{K(null)}},b=it=>{v(F=>{const tt=new Set(F);return tt.has(it)?tt.delete(it):tt.add(it),tt})},w=it=>it?.toDate?it.toDate().toLocaleString():new Date(it).toLocaleString(),S=it=>({medical:s("medical"),food:s("food"),shelter:s("shelter"),emergencyTransport:s("emergencyTransport")})[it]||it,O=it=>({pending:s("pending"),completed:s("completed")})[it]||it,M=it=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800"})[it]||"bg-gray-100 text-gray-800",D=it=>{A(it),C(null),H(!0),v(new Set),lt(null)},ne=()=>{lt(null),Nt()};return gt.useEffect(()=>{Nt()},[_,nc]),a?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:s("myRequests")}),P.jsx("div",{className:"text-center py-8 text-gray-500",children:s("loading")})]}):P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:s("myRequests")}),at&&P.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md flex justify-between items-center",children:[P.jsxs("span",{children:[s("errorLoading"),": ",at]}),P.jsx("button",{onClick:ne,className:"text-red-800 underline text-sm",children:s("retry")})]}),P.jsx("div",{className:"mb-4 flex gap-2",children:["all","pending","completed"].map(it=>P.jsx("button",{onClick:()=>D(it),className:`px-3 py-1 text-sm rounded-md ${_===it?it==="pending"?"bg-yellow-500 text-white":it==="completed"?"bg-green-500 text-white":"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:s(it)},it))}),e.length===0?P.jsx("div",{className:"text-center py-8 text-gray-500",children:s("noRequests")}):P.jsx("div",{className:"space-y-4",children:e.map(it=>P.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsx("div",{className:"font-medium",children:it.name}),P.jsx("div",{className:"text-sm text-gray-500",children:w(it.timestamp)})]}),P.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[P.jsx("div",{children:it.location}),P.jsx("div",{children:S(it.typeOfHelp)})]}),P.jsxs("div",{className:"flex justify-between items-center mb-2",children:[P.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${M(it.status)}`,children:O(it.status)}),it.status==="pending"&&P.jsx("button",{onClick:()=>I(it.id),disabled:W===it.id,className:"px-3 py-1 text-xs bg-green-500 text-white rounded-md hover:bg-green-600 disabled:opacity-50",children:W===it.id?s("updating"):s("markCompleted")})]}),g.has(it.id)&&P.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md text-sm",children:[P.jsxs("div",{className:"mb-2",children:[P.jsxs("strong",{children:[s("contactNumber"),":"]})," ",it.contactNumber]}),P.jsxs("div",{children:[P.jsxs("strong",{children:[s("description"),":"]})," ",it.description]}),it.completedAt&&P.jsxs("div",{className:"mt-2 text-green-600",children:[P.jsxs("strong",{children:[s("completedAt"),":"]})," ",w(it.completedAt)]})]}),P.jsx("button",{onClick:()=>b(it.id),className:"mt-2 text-blue-600 text-sm hover:underline",children:g.has(it.id)?"Hide Details":s("clickToViewDetails")})]},it.id))})]})},vR=()=>{const{language:s}=Cr(),e={en:{title:"About Us",description:`We are a group of students from Punjab who started this initiative to contribute through our education and efforts. 
      This app is built for flood relief  where people in need can request help and others can step forward to support. 
      As the youth of Punjab, we stand with our motherland in every situation.`,contact:"Connect with us: punjabcare25@gmail.com"},pa:{title:" ",description:`       ,               
                                   
                     `,contact:"  : punjabcare25@gmail.com"}};return P.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[P.jsx("h2",{className:"text-xl font-bold mb-3",children:e[s].title}),P.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:e[s].description}),P.jsx("p",{className:"mt-3 font-medium text-blue-600",children:e[s].contact})]})};let ad=localStorage.getItem("ownerId");ad||(ad=crypto.randomUUID(),localStorage.setItem("ownerId",ad));const ER=()=>{const{language:s,toggleLanguage:e}=Cr();return P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{onClick:e,className:`px-3 py-1 text-sm rounded-md ${s==="en"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"English"}),P.jsx("button",{onClick:e,className:`px-3 py-1 text-sm rounded-md ${s==="pa"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:""})]})},TR=()=>{const{t:s}=Cr(),[e,i]=gt.useState("home"),a=h=>{i(h)},o=()=>{switch(e){case"home":return P.jsx(rd,{onNavigate:a});case"request":return P.jsx(gR,{});case"helpline":return P.jsx(pR,{});case"view":return P.jsx(yR,{});case"AboutUs":return P.jsx(vR,{});case"my":return P.jsx(_R,{});default:return P.jsx(rd,{onNavigate:a})}};return e==="home"?P.jsx(rd,{onNavigate:a}):P.jsxs("div",{className:"min-h-screen bg-gray-50",children:[P.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:P.jsx("div",{className:"px-4 py-3",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("div",{className:"flex items-center gap-3",children:P.jsx("button",{onClick:()=>i("home"),"aria-label":"Back to home",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-8 text-blue-500",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})})}),P.jsx(ER,{})]})})}),P.jsx("nav",{className:"bg-white border-b border-gray-200",children:P.jsx("div",{className:"px-4",children:P.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:[{id:"request",label:s("requestHelp")},{id:"helpline",label:s("helplineNumbers")},{id:"view",label:s("viewRequests")},{id:"my",label:s("myRequests")}].map(h=>P.jsx("button",{onClick:()=>i(h.id),className:`px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 ${e===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:h.label},h.id))})})}),P.jsx("main",{className:"flex-1",children:o()}),P.jsx(V2,{onNavigate:a})]})};function AR(){return P.jsx(wT,{children:P.jsx(TR,{})})}ST.createRoot(document.getElementById("root")).render(P.jsx(gt.StrictMode,{children:P.jsx(AR,{})}));
