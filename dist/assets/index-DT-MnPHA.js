(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Of={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function KE(){if(my)return zl;my=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var gy;function XE(){return gy||(gy=1,Of.exports=KE()),Of.exports}var P=XE(),Uf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function ZE(){if(py)return At;py=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,J={};function $(C,W,it){this.props=C,this.context=W,this.refs=J,this.updater=it||B}$.prototype.isReactComponent={},$.prototype.setState=function(C,W){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,W,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ut(){}ut.prototype=$.prototype;function ht(C,W,it){this.props=C,this.context=W,this.refs=J,this.updater=it||B}var ot=ht.prototype=new ut;ot.constructor=ht,Q(ot,$.prototype),ot.isPureReactComponent=!0;var bt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function I(C,W,it,tt,ct,wt){return it=wt.ref,{$$typeof:r,type:C,key:W,ref:it!==void 0?it:null,props:wt}}function b(C,W){return I(C.type,W,void 0,void 0,void 0,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function M(C){var W={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return W[it]})}var R=/\/+/g;function O(C,W){return typeof C=="object"&&C!==null&&C.key!=null?M(""+C.key):W.toString(36)}function S(){}function ee(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(S,S):(C.status="pending",C.then(function(W){C.status==="pending"&&(C.status="fulfilled",C.value=W)},function(W){C.status==="pending"&&(C.status="rejected",C.reason=W)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Ht(C,W,it,tt,ct){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case e:vt=!0;break;case A:return vt=C._init,Ht(vt(C._payload),W,it,tt,ct)}}if(vt)return ct=ct(C),vt=tt===""?"."+O(C,0):tt,bt(ct)?(it="",vt!=null&&(it=vt.replace(R,"$&/")+"/"),Ht(ct,W,it,"",function(Ln){return Ln})):ct!=null&&(D(ct)&&(ct=b(ct,it+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(R,"$&/")+"/")+vt)),W.push(ct)),1;vt=0;var Ce=tt===""?".":tt+":";if(bt(C))for(var Wt=0;Wt<C.length;Wt++)tt=C[Wt],wt=Ce+O(tt,Wt),vt+=Ht(tt,W,it,wt,ct);else if(Wt=N(C),typeof Wt=="function")for(C=Wt.call(C),Wt=0;!(tt=C.next()).done;)tt=tt.value,wt=Ce+O(tt,Wt++),vt+=Ht(tt,W,it,wt,ct);else if(wt==="object"){if(typeof C.then=="function")return Ht(ee(C),W,it,tt,ct);throw W=String(C),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return vt}function U(C,W,it){if(C==null)return C;var tt=[],ct=0;return Ht(C,tt,"","",function(wt){return W.call(it,wt,ct++)}),tt}function et(C){if(C._status===-1){var W=C._result;W=W(),W.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=W)}if(C._status===1)return C._result.default;throw C._result}var rt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ct(){}return At.Children={map:U,forEach:function(C,W,it){U(C,function(){W.apply(this,arguments)},it)},count:function(C){var W=0;return U(C,function(){W++}),W},toArray:function(C){return U(C,function(W){return W})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=$,At.Fragment=i,At.Profiler=o,At.PureComponent=ht,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ft.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,W,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=Q({},C.props),ct=C.key,wt=void 0;if(W!=null)for(vt in W.ref!==void 0&&(wt=void 0),W.key!==void 0&&(ct=""+W.key),W)!St.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(tt[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)tt.children=it;else if(1<vt){for(var Ce=Array(vt),Wt=0;Wt<vt;Wt++)Ce[Wt]=arguments[Wt+2];tt.children=Ce}return I(C.type,ct,void 0,void 0,wt,tt)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,W,it){var tt,ct={},wt=null;if(W!=null)for(tt in W.key!==void 0&&(wt=""+W.key),W)St.call(W,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ct[tt]=W[tt]);var vt=arguments.length-2;if(vt===1)ct.children=it;else if(1<vt){for(var Ce=Array(vt),Wt=0;Wt<vt;Wt++)Ce[Wt]=arguments[Wt+2];ct.children=Ce}if(C&&C.defaultProps)for(tt in vt=C.defaultProps,vt)ct[tt]===void 0&&(ct[tt]=vt[tt]);return I(C,wt,void 0,void 0,null,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=D,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},At.memo=function(C,W){return{$$typeof:_,type:C,compare:W===void 0?null:W}},At.startTransition=function(C){var W=ft.T,it={};ft.T=it;try{var tt=C(),ct=ft.S;ct!==null&&ct(it,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ct,rt)}catch(wt){rt(wt)}finally{ft.T=W}},At.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},At.use=function(C){return ft.H.use(C)},At.useActionState=function(C,W,it){return ft.H.useActionState(C,W,it)},At.useCallback=function(C,W){return ft.H.useCallback(C,W)},At.useContext=function(C){return ft.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,W){return ft.H.useDeferredValue(C,W)},At.useEffect=function(C,W,it){var tt=ft.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(C,W)},At.useId=function(){return ft.H.useId()},At.useImperativeHandle=function(C,W,it){return ft.H.useImperativeHandle(C,W,it)},At.useInsertionEffect=function(C,W){return ft.H.useInsertionEffect(C,W)},At.useLayoutEffect=function(C,W){return ft.H.useLayoutEffect(C,W)},At.useMemo=function(C,W){return ft.H.useMemo(C,W)},At.useOptimistic=function(C,W){return ft.H.useOptimistic(C,W)},At.useReducer=function(C,W,it){return ft.H.useReducer(C,W,it)},At.useRef=function(C){return ft.H.useRef(C)},At.useState=function(C){return ft.H.useState(C)},At.useSyncExternalStore=function(C,W,it){return ft.H.useSyncExternalStore(C,W,it)},At.useTransition=function(){return ft.H.useTransition()},At.version="19.1.1",At}var yy;function vd(){return yy||(yy=1,Uf.exports=ZE()),Uf.exports}var Vt=vd(),Lf={exports:{}},Bl={},Pf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function $E(){return _y||(_y=1,(function(r){function e(U,et){var rt=U.length;U.push(et);t:for(;0<rt;){var Ct=rt-1>>>1,C=U[Ct];if(0<o(C,et))U[Ct]=et,U[rt]=C,rt=Ct;else break t}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var et=U[0],rt=U.pop();if(rt!==et){U[0]=rt;t:for(var Ct=0,C=U.length,W=C>>>1;Ct<W;){var it=2*(Ct+1)-1,tt=U[it],ct=it+1,wt=U[ct];if(0>o(tt,rt))ct<C&&0>o(wt,tt)?(U[Ct]=wt,U[ct]=rt,Ct=ct):(U[Ct]=tt,U[it]=rt,Ct=it);else if(ct<C&&0>o(wt,rt))U[Ct]=wt,U[ct]=rt,Ct=ct;else break t}}return et}function o(U,et){var rt=U.sortIndex-et.sortIndex;return rt!==0?rt:U.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,x=null,N=3,B=!1,Q=!1,J=!1,$=!1,ut=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function bt(U){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=U)a(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function ft(U){if(J=!1,bt(U),!Q)if(i(v)!==null)Q=!0,St||(St=!0,O());else{var et=i(_);et!==null&&Ht(ft,et.startTime-U)}}var St=!1,I=-1,b=5,D=-1;function M(){return $?!0:!(r.unstable_now()-D<b)}function R(){if($=!1,St){var U=r.unstable_now();D=U;var et=!0;try{t:{Q=!1,J&&(J=!1,ht(I),I=-1),B=!0;var rt=N;try{e:{for(bt(U),x=i(v);x!==null&&!(x.expirationTime>U&&M());){var Ct=x.callback;if(typeof Ct=="function"){x.callback=null,N=x.priorityLevel;var C=Ct(x.expirationTime<=U);if(U=r.unstable_now(),typeof C=="function"){x.callback=C,bt(U),et=!0;break e}x===i(v)&&a(v),bt(U)}else a(v);x=i(v)}if(x!==null)et=!0;else{var W=i(_);W!==null&&Ht(ft,W.startTime-U),et=!1}}break t}finally{x=null,N=rt,B=!1}et=void 0}}finally{et?O():St=!1}}}var O;if(typeof ot=="function")O=function(){ot(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,ee=S.port2;S.port1.onmessage=R,O=function(){ee.postMessage(null)}}else O=function(){ut(R,0)};function Ht(U,et){I=ut(function(){U(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(U){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var rt=N;N=et;try{return U()}finally{N=rt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(U,et){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var rt=N;N=U;try{return et()}finally{N=rt}},r.unstable_scheduleCallback=function(U,et,rt){var Ct=r.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?Ct+rt:Ct):rt=Ct,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=rt+C,U={id:A++,callback:et,priorityLevel:U,startTime:rt,expirationTime:C,sortIndex:-1},rt>Ct?(U.sortIndex=rt,e(_,U),i(v)===null&&U===i(_)&&(J?(ht(I),I=-1):J=!0,Ht(ft,rt-Ct))):(U.sortIndex=C,e(v,U),Q||B||(Q=!0,St||(St=!0,O()))),U},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(U){var et=N;return function(){var rt=N;N=et;try{return U.apply(this,arguments)}finally{N=rt}}}})(qf)),qf}var vy;function JE(){return vy||(vy=1,Pf.exports=$E()),Pf.exports}var jf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function WE(){if(Ey)return Qe;Ey=1;var r=vd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,x=g(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:B}):A==="script"&&a.d.X(v,{crossOrigin:x,integrity:N,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var Ty;function tT(){if(Ty)return jf.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jf.exports=WE(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function eT(){if(Ay)return Bl;Ay=1;var r=JE(),e=vd(),i=tT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===s){y=!0,s=c,l=f;break}if(E===l){y=!0,l=c,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=c;break}if(E===l){y=!0,l=f,s=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case $:return"Profiler";case J:return"StrictMode";case ft:return"Suspense";case St:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ot:return(t.displayName||"Context")+".Provider";case ht:return(t._context.displayName||"Context")+".Consumer";case bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var Ht=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},Ct=[],C=-1;function W(t){return{current:t}}function it(t){0>C||(t.current=Ct[C],Ct[C]=null,C--)}function tt(t,n){C++,Ct[C]=t.current,t.current=n}var ct=W(null),wt=W(null),vt=W(null),Ce=W(null);function Wt(t,n){switch(tt(vt,n),tt(wt,t),tt(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kp(n),t=Hp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ct),tt(ct,t)}function Ln(){it(ct),it(wt),it(vt)}function Pi(t){t.memoizedState!==null&&tt(Ce,t);var n=ct.current,s=Hp(n,t.type);n!==s&&(tt(wt,t),tt(ct,s))}function li(t){wt.current===t&&(it(ct),it(wt)),Ce.current===t&&(it(Ce),Ul._currentValue=rt)}var ws=Object.prototype.hasOwnProperty,Ds=r.unstable_scheduleCallback,Cs=r.unstable_cancelCallback,Ia=r.unstable_shouldYield,fo=r.unstable_requestPaint,gn=r.unstable_now,Mc=r.unstable_getCurrentPriorityLevel,Ma=r.unstable_ImmediatePriority,yr=r.unstable_UserBlockingPriority,Ns=r.unstable_NormalPriority,Oc=r.unstable_LowPriority,_r=r.unstable_IdlePriority,Oa=r.log,mo=r.unstable_setDisableYieldValue,le=null,Gt=null;function rn(t){if(typeof Oa=="function"&&mo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(le,t)}catch{}}var He=Math.clz32?Math.clz32:xs,go=Math.log,Uc=Math.LN2;function xs(t){return t>>>=0,t===0?32:31-(go(t)/Uc|0)|0}var Vs=256,Is=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vr(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Nn(l):(y&=E,y!==0?c=Nn(y):s||(s=E&~t,s!==0&&(c=Nn(s))))):(E=l&~f,E!==0?c=Nn(E):y!==0?c=Nn(y):s||(s=l&~t,s!==0&&(c=Nn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Ms(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ua(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(){var t=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),t}function Pa(){var t=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),t}function oi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qa(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var F=31-He(s),X=1<<F;E[F]=0,w[F]=-1;var k=z[F];if(k!==null)for(z[F]=null,F=0;F<k.length;F++){var H=k[F];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Pn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function ja(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-He(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ji(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:oy(t.type))}function po(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var ie=Math.random().toString(36).slice(2),Te="__reactFiber$"+ie,me="__reactProps$"+ie,pn="__reactContainer$"+ie,za="__reactEvents$"+ie,Lc="__reactListeners$"+ie,zi="__reactHandles$"+ie,yo="__reactResources$"+ie,Os="__reactMarker$"+ie;function Bi(t){delete t[Te],delete t[me],delete t[za],delete t[Lc],delete t[zi]}function ci(t){var n=t[Te];if(n)return n;for(var s=t.parentNode;s;){if(n=s[pn]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Yp(t);t!==null;){if(s=t[Te])return s;t=Yp(t)}return n}t=s,s=t.parentNode}return null}function qn(t){if(t=t[Te]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[yo];return n||(n=t[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Os]=!0}var Ba=new Set,Tr={};function xn(t,n){hi(t,n),hi(t+"Capture",n)}function hi(t,n){for(Tr[t]=n,t=0;t<n.length;t++)Ba.add(n[t])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Us={};function Eo(t){return ws.call(Us,t)?!0:ws.call(vo,t)?!1:_o.test(t)?Us[t]=!0:(vo[t]=!0,!1)}function ki(t,n,s){if(Eo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function zn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ue(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Ls,To;function fi(t){if(Ls===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ls=n&&n[1]||"",To=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+t+To}var Ar=!1;function br(t,n){if(!t||Ar)return"";Ar=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var k=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){k=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){k=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),z=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===z.length)for(l=w.length-1,c=z.length-1;1<=l&&0<=c&&w[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==z[c]){var F=`
`+w[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Ar=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?fi(s):""}function ka(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return br(t.type,!1);case 11:return br(t.type.render,!1);case 1:return br(t.type,!0);case 31:return fi("Activity");default:return""}}function Sr(t){try{var n="";do n+=ka(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ha(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pc(t){var n=Ha(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Rr(t){t._valueTracker||(t._valueTracker=Pc(t))}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Ha(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qc=/[\n"\\]/g;function ge(t){return t.replace(qc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,s,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Hi(t,y,Ze(n)):s!=null?Hi(t,y,Ze(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function qs(t,n,s,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Ze(s):"",n=n!=null?""+Ze(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Hi(t,n,s){n==="number"&&Ps(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function di(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ze(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n,s){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Ze(s):""}function js(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ht(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ze(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||zs.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Qa(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Ao(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ao(t,f,n[f])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wr(t){return zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,pi=null;function Ya(t){var n=qn(t);if(n&&(t=n.stateNode)){var s=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(a(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ga(l)}break t;case"textarea":Yt(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&di(t,!!s.multiple,n,!1)}}}var Bn=!1;function bo(t,n,s){if(Bn)return t(n,s);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(gi!==null||pi!==null)&&(pu(),gi&&(n=gi,t=pi,pi=gi=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function Bs(t,n){var s=t.stateNode;if(s===null)return null;var l=s[me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Vn)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{vn=!1}var kn=null,Gi=null,yi=null;function Ka(){if(yi)return yi;var t,n=Gi,s=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return yi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Xa(){return!1}function Ne(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Xa,this.isPropagationStopped=Xa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=Ne(Bt),Hs=A({},Bt,{view:0,detail:0}),So=Ne(Hs),Cr,Nr,Qn,Gs=A({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Cr=t.screenX-Qn.screenX,Nr=t.screenY-Qn.screenY):Nr=Cr=0,Qn=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),En=Ne(Gs),Ro=A({},Gs,{dataTransfer:0}),Bc=Ne(Ro),Qs=A({},Hs,{relatedTarget:0}),xr=Ne(Qs),Za=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=Ne(Za),wo=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ir=Ne(wo),kc=A({},Bt,{data:0}),$a=Ne(kc),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Co[t])?!!n[t]:!1}function Ys(){return Ja}var No=A({},Hs,{key:function(t){if(t.key){var n=Fs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Do[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mr=Ne(No),xo=A({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Ne(xo),_i=A({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),Vo=Ne(_i),Io=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mo=Ne(Io),Oo=A({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=Ne(Oo),$e=A({},Bt,{newState:0,oldState:0}),Uo=Ne($e),Lo=[9,13,27,32],Fn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Fn||u&&8<u&&11>=u),T=" ",q=!1;function G(t,n){switch(t){case"keyup":return Lo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ae(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(q=!0,T);case"textInput":return t=n.data,t===T&&q?null:t;default:return null}}function Ut(t,n){if(Ot)return t==="compositionend"||!Fn&&G(t,n)?(t=Ka(),yi=Gi=kn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function vi(t,n,s,l){gi?pi?pi.push(l):pi=[l]:gi=l,n=Au(n,"onChange"),0<n.length&&(s=new Dr("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Le=null,Yn=null;function tl(t){Pp(t,0)}function Po(t){var n=jn(t);if(Ga(n))return t}function sm(t,n){if(t==="change")return n}var rm=!1;if(Vn){var Hc;if(Vn){var Gc="oninput"in document;if(!Gc){var am=document.createElement("div");am.setAttribute("oninput","return;"),Gc=typeof am.oninput=="function"}Hc=Gc}else Hc=!1;rm=Hc&&(!document.documentMode||9<document.documentMode)}function lm(){Le&&(Le.detachEvent("onpropertychange",om),Yn=Le=null)}function om(t){if(t.propertyName==="value"&&Po(Yn)){var n=[];vi(n,Yn,t,_n(t)),bo(tl,n)}}function S0(t,n,s){t==="focusin"?(lm(),Le=n,Yn=s,Le.attachEvent("onpropertychange",om)):t==="focusout"&&lm()}function R0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(Yn)}function w0(t,n){if(t==="click")return Po(n)}function D0(t,n){if(t==="input"||t==="change")return Po(n)}function C0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:C0;function el(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ws.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,n){var s=um(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=um(s)}}function hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ps(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Ps(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var N0=Vn&&"documentMode"in document&&11>=document.documentMode,Ur=null,Fc=null,nl=null,Yc=!1;function dm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yc||Ur==null||Ur!==Ps(l)||(l=Ur,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Au(Fc,"onSelect"),0<l.length&&(n=new Dr("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ur)))}function Ks(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Lr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Kc={},mm={};Vn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Xs(t){if(Kc[t])return Kc[t];if(!Lr[t])return t;var n=Lr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in mm)return Kc[t]=n[s];return t}var gm=Xs("animationend"),pm=Xs("animationiteration"),ym=Xs("animationstart"),x0=Xs("transitionrun"),V0=Xs("transitionstart"),I0=Xs("transitioncancel"),_m=Xs("transitionend"),vm=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function In(t,n){vm.set(t,n),xn(n,[t])}var Em=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var s=Em.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Sr(n)},Em.set(t,n),n)}return{value:t,source:n,stack:Sr(n)}}var An=[],Pr=0,Zc=0;function qo(){for(var t=Pr,n=Zc=Pr=0;n<t;){var s=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Tm(s,c,f)}}function jo(t,n,s,l){An[Pr++]=t,An[Pr++]=n,An[Pr++]=s,An[Pr++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,s,l){return jo(t,n,s,l),zo(t)}function qr(t,n){return jo(t,null,null,n),zo(t)}function Tm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function zo(t){if(50<Dl)throw Dl=0,sf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var jr={};function M0(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,s,l){return new M0(t,n,s,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,n){var s=t.alternate;return s===null?(s=on(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Am(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")Jc(t)&&(y=1);else if(typeof t=="string")y=UE(t,s,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=on(31,s,n,c),t.elementType=D,t.lanes=f,t;case Q:return Zs(s.children,c,f,n);case J:y=8,c|=24;break;case $:return t=on(12,s,n,c|2),t.elementType=$,t.lanes=f,t;case ft:return t=on(13,s,n,c),t.elementType=ft,t.lanes=f,t;case St:return t=on(19,s,n,c),t.elementType=St,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:case ot:y=10;break t;case ht:y=9;break t;case bt:y=11;break t;case I:y=14;break t;case b:y=16,l=null;break t}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=on(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Zs(t,n,s,l){return t=on(7,t,l,n),t.lanes=s,t}function Wc(t,n,s){return t=on(6,t,null,n),t.lanes=s,t}function th(t,n,s){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zr=[],Br=0,ko=null,Ho=0,bn=[],Sn=0,$s=null,Ti=1,Ai="";function Js(t,n){zr[Br++]=Ho,zr[Br++]=ko,ko=t,Ho=n}function bm(t,n,s){bn[Sn++]=Ti,bn[Sn++]=Ai,bn[Sn++]=$s,$s=t;var l=Ti;t=Ai;var c=32-He(l)-1;l&=~(1<<c),s+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ti=1<<32-He(n)+c|s<<c|l,Ai=f+t}else Ti=1<<f|s<<c|l,Ai=t}function eh(t){t.return!==null&&(Js(t,1),bm(t,1,0))}function nh(t){for(;t===ko;)ko=zr[--Br],zr[Br]=null,Ho=zr[--Br],zr[Br]=null;for(;t===$s;)$s=bn[--Sn],bn[Sn]=null,Ai=bn[--Sn],bn[Sn]=null,Ti=bn[--Sn],bn[Sn]=null}var Je=null,oe=null,zt=!1,Ws=null,Kn=!1,ih=Error(a(519));function tr(t){var n=Error(a(418,""));throw rl(Tn(n,t)),ih}function Sm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Te]=t,n[me]=l,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<Nl.length;s++)xt(Nl[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),qs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Rr(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),js(n,l.value,l.defaultValue,l.children),Rr(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Bp(n.textContent,s)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=bu),n=!0):n=!1,n||tr(t)}function Rm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Je=Je.return}}function il(t){if(t!==Je)return!1;if(!zt)return Rm(t),zt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ef(t.type,t.memoizedProps)),s=!s),s&&oe&&tr(t),Rm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){oe=On(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,as(t.type)?(t=Sf,Sf=null,oe=t):oe=n):oe=Je?On(t.stateNode.nextSibling):null;return!0}function sl(){oe=Je=null,zt=!1}function wm(){var t=Ws;return t!==null&&(en===null?en=t:en.push.apply(en,t),Ws=null),t}function rl(t){Ws===null?Ws=[t]:Ws.push(t)}var sh=W(null),er=null,bi=null;function Qi(t,n,s){tt(sh,n._currentValue),n._currentValue=s}function Si(t){t._currentValue=sh.current,it(sh)}function rh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ah(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),rh(f.return,s,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),rh(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&ah(n,t,s,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function nr(t){er=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Dm(er,t)}function Qo(t,n){return er===null&&nr(t),Dm(t,n)}function Dm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},bi===null){if(t===null)throw Error(a(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return s}var O0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},U0=r.unstable_scheduleCallback,L0=r.unstable_NormalPriority,Se={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new O0,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&U0(L0,function(){t.controller.abort()})}var ol=null,oh=0,kr=0,Hr=null;function P0(t,n){if(ol===null){var s=ol=[];oh=0,kr=hf(),Hr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return oh++,n.then(Cm,Cm),n}function Cm(){if(--oh===0&&ol!==null){Hr!==null&&(Hr.status="fulfilled");var t=ol;ol=null,kr=0,Hr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function q0(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Nm=U.S;U.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&P0(t,n),Nm!==null&&Nm(t,n)};var ir=W(null);function uh(){var t=ir.current;return t!==null?t:te.pooledCache}function Fo(t,n){n===null?tt(ir,ir.current):tt(ir,n.pool)}function xm(){var t=uh();return t===null?null:{parent:Se._currentValue,pool:t}}var ul=Error(a(460)),Vm=Error(a(474)),Yo=Error(a(542)),ch={then:function(){}};function Im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function Mm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Ko,Ko),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t}throw cl=n,ul}}var cl=null;function Om(){if(cl===null)throw Error(a(459));var t=cl;return cl=null,t}function Um(t){if(t===ul||t===Yo)throw Error(a(483))}var Fi=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=zo(t),Tm(t,null,s),n}return jo(t,l,n,s),zo(t)}function hl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ja(t,s)}}function dh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var mh=!1;function fl(){if(mh){var t=Hr;if(t!==null)throw t}}function dl(t,n,s,l){mh=!1;var c=t.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,z=w.next;w.next=null,y===null?f=z:y.next=z,y=w;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;y=0,F=z=w=null,E=f;do{var k=E.lane&-536870913,H=k!==E.lane;if(H?(Lt&k)===k:(l&k)===k){k!==0&&k===kr&&(mh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,gt=E;k=n;var Zt=s;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){X=_t.call(Zt,X,k);break t}X=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,k=typeof _t=="function"?_t.call(Zt,X,k):_t,k==null)break t;X=A({},X,k);break t;case 2:Fi=!0}}k=E.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[k]:H.push(k))}else H={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=H,w=X):F=F.next=H,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(w=X),c.baseState=w,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ns|=y,t.lanes=y,t.memoizedState=X}}function Lm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Pm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Lm(s[t],n)}var Gr=W(null),Xo=W(0);function qm(t,n){t=Vi,tt(Xo,t),tt(Gr,n),Vi=t|n.baseLanes}function gh(){tt(Xo,Vi),tt(Gr,Gr.current)}function ph(){Vi=Xo.current,it(Gr),it(Xo)}var Xi=0,Rt=null,Kt=null,pe=null,Zo=!1,Qr=!1,sr=!1,$o=0,ml=0,Fr=null,j0=0;function he(){throw Error(a(321))}function yh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ln(t[s],n[s]))return!1;return!0}function _h(t,n,s,l,c,f){return Xi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Tg:Ag,sr=!1,f=s(l,c),sr=!1,Qr&&(f=zm(n,s,l,c)),jm(t),f}function jm(t){U.H=iu;var n=Kt!==null&&Kt.next!==null;if(Xi=0,pe=Kt=Rt=null,Zo=!1,ml=0,Fr=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Go(t)&&(Ve=!0))}function zm(t,n,s,l){Rt=t;var c=0;do{if(Qr&&(Fr=null),ml=0,Qr=!1,25<=c)throw Error(a(301));if(c+=1,pe=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=F0,f=n(s,l)}while(Qr);return f}function z0(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function vh(){var t=$o!==0;return $o=0,t}function Eh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Th(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}Xi=0,pe=Kt=Rt=null,Qr=!1,ml=$o=0,Fr=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Rt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Kt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=pe===null?Rt.memoizedState:pe.next;if(n!==null)pe=n,Kt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?Rt.memoizedState=pe=t:pe=pe.next=t}return pe}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,Fr===null&&(Fr=[]),t=Mm(Fr,t,n),n=Rt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Tg:Ag),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ot)return Ge(t)}throw Error(a(438,String(t)))}function bh(t){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ah(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function Ri(t,n){return typeof n=="function"?n(t):n}function Wo(t){var n=ye();return Sh(n,Kt,t)}function Sh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,w=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Lt&X)===X:(Xi&X)===X){var k=z.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===kr&&(F=!0);else if((Xi&k)===k){z=z.next,k===kr&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=X,y=f):w=w.next=X,Rt.lanes|=k,ns|=k;X=z.action,sr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else k={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=k,y=f):w=w.next=k,Rt.lanes|=X,ns|=X;z=z.next}while(z!==null&&z!==n);if(w===null?y=f:w.next=E,!ln(f,t.memoizedState)&&(Ve=!0,F&&(s=Hr,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Bm(t,n,s){var l=Rt,c=ye(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!ln((Kt||c).memoizedState,s);y&&(c.memoizedState=s,Ve=!0),c=c.queue;var E=Gm.bind(null,l,c,t);if(pl(2048,8,E,[t]),c.getSnapshot!==n||y||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Yr(9,tu(),Hm.bind(null,l,c,s,n),null),te===null)throw Error(a(349));f||(Xi&124)!==0||km(l,n,s)}return s}function km(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Ah(),Rt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Hm(t,n,s,l){n.value=s,n.getSnapshot=l,Qm(n)&&Fm(t)}function Gm(t,n,s){return s(function(){Qm(n)&&Fm(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ln(t,s)}catch{return!0}}function Fm(t){var n=qr(t,2);n!==null&&dn(n,t,2)}function wh(t){var n=We();if(typeof t=="function"){var s=t;if(t=s(),sr){rn(!0);try{s()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},n}function Ym(t,n,s,l){return t.baseState=s,Sh(t,Kt,typeof l=="function"?l:Ri)}function B0(t,n,s,l,c){if(nu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};U.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Km(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Km(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=U.T,y={};U.T=y;try{var E=s(c,l),w=U.S;w!==null&&w(y,E),Xm(t,n,E)}catch(z){Dh(t,n,z)}finally{U.T=f}}else try{f=s(c,l),Xm(t,n,f)}catch(z){Dh(t,n,z)}}function Xm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Zm(t,n,l)},function(l){return Dh(t,n,l)}):Zm(t,n,s)}function Zm(t,n,s){n.status="fulfilled",n.value=s,$m(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Km(t,s)))}function Dh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,$m(n),n=n.next;while(n!==l)}t.action=null}function $m(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jm(t,n){return n}function Wm(t,n){if(zt){var s=te.formState;if(s!==null){t:{var l=Rt;if(zt){if(oe){e:{for(var c=oe,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=On(c.nextSibling),l=c.data==="F!";break t}}tr(l)}l=!1}l&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:n},s.queue=l,s=_g.bind(null,Rt,l),l.dispatch=s,l=wh(!1),f=Ih.bind(null,Rt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=B0.bind(null,Rt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function tg(t){var n=ye();return eg(n,Kt,t)}function eg(t,n,s){if(n=Sh(t,n,Jm)[0],t=Wo(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(y){throw y===ul?Yo:y}else l=n;n=ye();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Yr(9,tu(),k0.bind(null,c,s),null)),[l,f,t]}function k0(t,n){t.action=n}function ng(t){var n=ye(),s=Kt;if(s!==null)return eg(n,s,t);ye(),n=n.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Yr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Ah(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function tu(){return{destroy:void 0,resource:void 0}}function ig(){return ye().memoizedState}function eu(t,n,s,l){var c=We();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Yr(1|n,tu(),s,l)}function pl(t,n,s,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&yh(l,Kt.memoizedState.deps)?c.memoizedState=Yr(n,f,s,l):(Rt.flags|=t,c.memoizedState=Yr(1|n,f,s,l))}function sg(t,n){eu(8390656,8,t,n)}function rg(t,n){pl(2048,8,t,n)}function ag(t,n){return pl(4,2,t,n)}function lg(t,n){return pl(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ug(t,n,s){s=s!=null?s.concat([t]):null,pl(4,4,og.bind(null,n,t),s)}function Ch(){}function cg(t,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function hg(t,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=t(),sr){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[l,n],l}function Nh(t,n,s){return s===void 0||(Xi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=mp(),Rt.lanes|=t,ns|=t,s)}function fg(t,n,s,l){return ln(s,n)?s:Gr.current!==null?(t=Nh(t,s,l),ln(t,n)||(Ve=!0),t):(Xi&42)===0?(Ve=!0,t.memoizedState=s):(t=mp(),Rt.lanes|=t,ns|=t,n)}function dg(t,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=U.T,E={};U.T=E,Ih(t,!1,n,s);try{var w=c(),z=U.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=q0(w,l);yl(t,n,F,fn(t))}else yl(t,n,l,fn(t))}catch(X){yl(t,n,{then:function(){},status:"rejected",reason:X},fn())}finally{et.p=f,U.T=y}}function H0(){}function xh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=mg(t).queue;dg(t,c,n,rt,s===null?H0:function(){return gg(t),s(l)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:rt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function gg(t){var n=mg(t).next.queue;yl(t,n,{},fn())}function Vh(){return Ge(Ul)}function pg(){return ye().memoizedState}function yg(){return ye().memoizedState}function G0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=fn();t=Yi(s);var l=Ki(n,t,s);l!==null&&(dn(l,n,s),hl(l,n,s)),n={cache:lh()},t.payload=n;return}n=n.return}}function Q0(t,n,s){var l=fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},nu(t)?vg(n,s):(s=$c(t,n,s,l),s!==null&&(dn(s,t,l),Eg(s,n,l)))}function _g(t,n,s){var l=fn();yl(t,n,s,l)}function yl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(nu(t))vg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return jo(t,n,c,0),te===null&&qo(),!1}catch{}finally{}if(s=$c(t,n,c,l),s!==null)return dn(s,t,l),Eg(s,n,l),!0}return!1}function Ih(t,n,s,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(n)throw Error(a(479))}else n=$c(t,s,l,2),n!==null&&dn(n,t,2)}function nu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function vg(t,n){Qr=Zo=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Eg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ja(t,s)}}var iu={readContext:Ge,use:Jo,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Tg={readContext:Ge,use:Jo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:sg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,eu(4194308,4,og.bind(null,n,t),s)},useLayoutEffect:function(t,n){return eu(4194308,4,t,n)},useInsertionEffect:function(t,n){eu(4,2,t,n)},useMemo:function(t,n){var s=We();n=n===void 0?null:n;var l=t();if(sr){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=We();if(s!==void 0){var c=s(n);if(sr){rn(!0);try{s(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Q0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,s=_g.bind(null,Rt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Ch,useDeferredValue:function(t,n){var s=We();return Nh(s,t,n)},useTransition:function(){var t=wh(!1);return t=dg.bind(null,Rt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Rt,c=We();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Lt&124)!==0||km(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,sg(Gm.bind(null,l,f,t),[t]),l.flags|=2048,Yr(9,tu(),Hm.bind(null,l,f,s,n),null),s},useId:function(){var t=We(),n=te.identifierPrefix;if(zt){var s=Ai,l=Ti;s=(l&~(1<<32-He(l)-1)).toString(32)+s,n=""+n+"R"+s,s=$o++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=j0++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Vh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ih.bind(null,Rt,!0,s),s.dispatch=n,[t,n]},useMemoCache:bh,useCacheRefresh:function(){return We().memoizedState=G0.bind(null,Rt)}},Ag={readContext:Ge,use:Jo,useCallback:cg,useContext:Ge,useEffect:rg,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:hg,useReducer:Wo,useRef:ig,useState:function(){return Wo(Ri)},useDebugValue:Ch,useDeferredValue:function(t,n){var s=ye();return fg(s,Kt.memoizedState,t,n)},useTransition:function(){var t=Wo(Ri)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Bm,useId:pg,useHostTransitionStatus:Vh,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var s=ye();return Ym(s,Kt,t,n)},useMemoCache:bh,useCacheRefresh:yg},F0={readContext:Ge,use:Jo,useCallback:cg,useContext:Ge,useEffect:rg,useImperativeHandle:ug,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:hg,useReducer:Rh,useRef:ig,useState:function(){return Rh(Ri)},useDebugValue:Ch,useDeferredValue:function(t,n){var s=ye();return Kt===null?Nh(s,t,n):fg(s,Kt.memoizedState,t,n)},useTransition:function(){var t=Rh(Ri)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Bm,useId:pg,useHostTransitionStatus:Vh,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var s=ye();return Kt!==null?Ym(s,Kt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:bh,useCacheRefresh:yg},Kr=null,_l=0;function su(t){var n=_l;return _l+=1,Kr===null&&(Kr=[]),Mm(Kr,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function bg(t){var n=t._init;return n(t._payload)}function Sg(t){function n(L,V){if(t){var j=L.deletions;j===null?(L.deletions=[V],L.flags|=16):j.push(V)}}function s(L,V){if(!t)return null;for(;V!==null;)n(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function c(L,V){return L=Ei(L,V),L.index=0,L.sibling=null,L}function f(L,V,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<V?(L.flags|=67108866,V):j):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function y(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,V,j,K){return V===null||V.tag!==6?(V=Wc(j,L.mode,K),V.return=L,V):(V=c(V,j),V.return=L,V)}function w(L,V,j,K){var lt=j.type;return lt===Q?F(L,V,j.props.children,K,j.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&bg(lt)===V.type)?(V=c(V,j.props),vl(V,j),V.return=L,V):(V=Bo(j.type,j.key,j.props,null,L.mode,K),vl(V,j),V.return=L,V)}function z(L,V,j,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=th(j,L.mode,K),V.return=L,V):(V=c(V,j.children||[]),V.return=L,V)}function F(L,V,j,K,lt){return V===null||V.tag!==7?(V=Zs(j,L.mode,K,lt),V.return=L,V):(V=c(V,j),V.return=L,V)}function X(L,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Wc(""+V,L.mode,j),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return j=Bo(V.type,V.key,V.props,null,L.mode,j),vl(j,V),j.return=L,j;case B:return V=th(V,L.mode,j),V.return=L,V;case b:var K=V._init;return V=K(V._payload),X(L,V,j)}if(Ht(V)||O(V))return V=Zs(V,L.mode,j,null),V.return=L,V;if(typeof V.then=="function")return X(L,su(V),j);if(V.$$typeof===ot)return X(L,Qo(L,V),j);ru(L,V)}return null}function k(L,V,j,K){var lt=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return lt!==null?null:E(L,V,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return j.key===lt?w(L,V,j,K):null;case B:return j.key===lt?z(L,V,j,K):null;case b:return lt=j._init,j=lt(j._payload),k(L,V,j,K)}if(Ht(j)||O(j))return lt!==null?null:F(L,V,j,K,null);if(typeof j.then=="function")return k(L,V,su(j),K);if(j.$$typeof===ot)return k(L,V,Qo(L,j),K);ru(L,j)}return null}function H(L,V,j,K,lt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(j)||null,E(V,L,""+K,lt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return L=L.get(K.key===null?j:K.key)||null,w(V,L,K,lt);case B:return L=L.get(K.key===null?j:K.key)||null,z(V,L,K,lt);case b:var Dt=K._init;return K=Dt(K._payload),H(L,V,j,K,lt)}if(Ht(K)||O(K))return L=L.get(j)||null,F(V,L,K,lt,null);if(typeof K.then=="function")return H(L,V,j,su(K),lt);if(K.$$typeof===ot)return H(L,V,j,Qo(V,K),lt);ru(V,K)}return null}function _t(L,V,j,K){for(var lt=null,Dt=null,dt=V,pt=V=0,Me=null;dt!==null&&pt<j.length;pt++){dt.index>pt?(Me=dt,dt=null):Me=dt.sibling;var jt=k(L,dt,j[pt],K);if(jt===null){dt===null&&(dt=Me);break}t&&dt&&jt.alternate===null&&n(L,dt),V=f(jt,V,pt),Dt===null?lt=jt:Dt.sibling=jt,Dt=jt,dt=Me}if(pt===j.length)return s(L,dt),zt&&Js(L,pt),lt;if(dt===null){for(;pt<j.length;pt++)dt=X(L,j[pt],K),dt!==null&&(V=f(dt,V,pt),Dt===null?lt=dt:Dt.sibling=dt,Dt=dt);return zt&&Js(L,pt),lt}for(dt=l(dt);pt<j.length;pt++)Me=H(dt,L,pt,j[pt],K),Me!==null&&(t&&Me.alternate!==null&&dt.delete(Me.key===null?pt:Me.key),V=f(Me,V,pt),Dt===null?lt=Me:Dt.sibling=Me,Dt=Me);return t&&dt.forEach(function(hs){return n(L,hs)}),zt&&Js(L,pt),lt}function gt(L,V,j,K){if(j==null)throw Error(a(151));for(var lt=null,Dt=null,dt=V,pt=V=0,Me=null,jt=j.next();dt!==null&&!jt.done;pt++,jt=j.next()){dt.index>pt?(Me=dt,dt=null):Me=dt.sibling;var hs=k(L,dt,jt.value,K);if(hs===null){dt===null&&(dt=Me);break}t&&dt&&hs.alternate===null&&n(L,dt),V=f(hs,V,pt),Dt===null?lt=hs:Dt.sibling=hs,Dt=hs,dt=Me}if(jt.done)return s(L,dt),zt&&Js(L,pt),lt;if(dt===null){for(;!jt.done;pt++,jt=j.next())jt=X(L,jt.value,K),jt!==null&&(V=f(jt,V,pt),Dt===null?lt=jt:Dt.sibling=jt,Dt=jt);return zt&&Js(L,pt),lt}for(dt=l(dt);!jt.done;pt++,jt=j.next())jt=H(dt,L,pt,jt.value,K),jt!==null&&(t&&jt.alternate!==null&&dt.delete(jt.key===null?pt:jt.key),V=f(jt,V,pt),Dt===null?lt=jt:Dt.sibling=jt,Dt=jt);return t&&dt.forEach(function(YE){return n(L,YE)}),zt&&Js(L,pt),lt}function Zt(L,V,j,K){if(typeof j=="object"&&j!==null&&j.type===Q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case N:t:{for(var lt=j.key;V!==null;){if(V.key===lt){if(lt=j.type,lt===Q){if(V.tag===7){s(L,V.sibling),K=c(V,j.props.children),K.return=L,L=K;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&bg(lt)===V.type){s(L,V.sibling),K=c(V,j.props),vl(K,j),K.return=L,L=K;break t}s(L,V);break}else n(L,V);V=V.sibling}j.type===Q?(K=Zs(j.props.children,L.mode,K,j.key),K.return=L,L=K):(K=Bo(j.type,j.key,j.props,null,L.mode,K),vl(K,j),K.return=L,L=K)}return y(L);case B:t:{for(lt=j.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){s(L,V.sibling),K=c(V,j.children||[]),K.return=L,L=K;break t}else{s(L,V);break}else n(L,V);V=V.sibling}K=th(j,L.mode,K),K.return=L,L=K}return y(L);case b:return lt=j._init,j=lt(j._payload),Zt(L,V,j,K)}if(Ht(j))return _t(L,V,j,K);if(O(j)){if(lt=O(j),typeof lt!="function")throw Error(a(150));return j=lt.call(j),gt(L,V,j,K)}if(typeof j.then=="function")return Zt(L,V,su(j),K);if(j.$$typeof===ot)return Zt(L,V,Qo(L,j),K);ru(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(s(L,V.sibling),K=c(V,j),K.return=L,L=K):(s(L,V),K=Wc(j,L.mode,K),K.return=L,L=K),y(L)):s(L,V)}return function(L,V,j,K){try{_l=0;var lt=Zt(L,V,j,K);return Kr=null,lt}catch(dt){if(dt===ul||dt===Yo)throw dt;var Dt=on(29,dt,null,L.mode);return Dt.lanes=K,Dt.return=L,Dt}finally{}}}var Xr=Sg(!0),Rg=Sg(!1),Rn=W(null),Xn=null;function Zi(t){var n=t.alternate;tt(Re,Re.current&1),tt(Rn,t),Xn===null&&(n===null||Gr.current!==null||n.memoizedState!==null)&&(Xn=t)}function wg(t){if(t.tag===22){if(tt(Re,Re.current),tt(Rn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else $i()}function $i(){tt(Re,Re.current),tt(Rn,Rn.current)}function wi(t){it(Rn),Xn===t&&(Xn=null),it(Re)}var Re=W(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||bf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Mh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Oh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=fn(),c=Yi(l);c.payload=n,s!=null&&(c.callback=s),n=Ki(t,c,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=fn(),c=Yi(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Ki(t,c,l),n!==null&&(dn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=fn(),l=Yi(s);l.tag=2,n!=null&&(l.callback=n),n=Ki(t,l,s),n!==null&&(dn(n,t,s),hl(n,t,s))}};function Dg(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!el(s,l)||!el(c,f):!0}function Cg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function rr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ng(t){lu(t)}function xg(t){console.error(t)}function Vg(t){lu(t)}function ou(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(t,n,s){return s=Yi(s),s.tag=3,s.payload={element:null},s.callback=function(){ou(t,n)},s}function Mg(t){return t=Yi(t),t.tag=3,t}function Og(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ig(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ig(n,s,l),typeof c!="function"&&(is===null?is=new Set([this]):is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Y0(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&al(n,s,c,!0),s=Rn.current,s!==null){switch(s.tag){case 13:return Xn===null?af():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===ch?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return s.flags|=65536,l===ch?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),of(t,l,c)),!1}throw Error(a(435,s.tag))}return of(t,l,c),af(),!1}if(zt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(a(422),{cause:l}),rl(Tn(t,s)))):(l!==ih&&(n=Error(a(423),{cause:l}),rl(Tn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,s),c=Uh(t.stateNode,l,c),dh(t,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,s),wl===null?wl=[f]:wl.push(f),ue!==4&&(ue=2),n===null)return!0;l=Tn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Uh(s.stateNode,l,t),dh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(is===null||!is.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Mg(c),Og(c,t,s,l),dh(s,c),!1}s=s.return}while(s!==null);return!1}var Ug=Error(a(461)),Ve=!1;function Pe(t,n,s,l){n.child=t===null?Rg(n,null,s,l):Xr(n,t.child,s,l)}function Lg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return nr(n),l=_h(t,n,s,y,f,c),E=vh(),t!==null&&!Ve?(Eh(t,n,c),Di(t,n,c)):(zt&&E&&eh(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Pg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qg(t,n,f,l,c)):(t=Bo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hh(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:el,s(y,l)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=Ei(f,l),t.ref=n.ref,t.return=n,n.child=t}function qg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Hh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Di(t,n,c)}return Lh(t,n,s,l,c)}function jg(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return zg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?qm(n,f):gh(),wg(n);else return n.lanes=n.childLanes=536870912,zg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Fo(n,f.cachePool),qm(n,f),$i(),n.memoizedState=null):(t!==null&&Fo(n,null),gh(),$i());return Pe(t,n,c,s),n.child}function zg(t,n,s,l){var c=uh();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Fo(n,null),gh(),wg(n),t!==null&&al(t,n,l,!0),null}function uu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Lh(t,n,s,l,c){return nr(n),s=_h(t,n,s,l,void 0,c),l=vh(),t!==null&&!Ve?(Eh(t,n,c),Di(t,n,c)):(zt&&l&&eh(n),n.flags|=1,Pe(t,n,s,c),n.child)}function Bg(t,n,s,l,c,f){return nr(n),n.updateQueue=null,s=zm(n,l,s,c),jm(t),l=vh(),t!==null&&!Ve?(Eh(t,n,f),Di(t,n,f)):(zt&&l&&eh(n),n.flags|=1,Pe(t,n,s,f),n.child)}function kg(t,n,s,l,c){if(nr(n),n.stateNode===null){var f=jr,y=s.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):jr,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Mh(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Oh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=rr(s,E);f.props=w;var z=f.context,F=s.contextType;y=jr,typeof F=="object"&&F!==null&&(y=Ge(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Cg(n,f,l,y),Fi=!1;var k=n.memoizedState;f.state=k,dl(n,l,f,c),fl(),z=n.memoizedState,E||k!==z||Fi?(typeof X=="function"&&(Mh(n,s,X,l),z=n.memoizedState),(w=Fi||Dg(n,s,w,l,k,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),y=n.memoizedProps,F=rr(s,y),f.props=F,X=n.pendingProps,k=f.context,z=s.contextType,w=jr,typeof z=="object"&&z!==null&&(w=Ge(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||k!==w)&&Cg(n,f,l,w),Fi=!1,k=n.memoizedState,f.state=k,dl(n,l,f,c),fl();var H=n.memoizedState;y!==X||k!==H||Fi||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(Mh(n,s,E,l),H=n.memoizedState),(F=Fi||Dg(n,s,F,l,k,H,w)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=w,l=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,c),n.child=Xr(n,null,s,c)):Pe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function Hg(t,n,s,l){return sl(),n.flags|=256,Pe(t,n,s,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:xm()}}function jh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=wn),t}function Gg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Zi(n):$i(),zt){var E=oe,w;if(w=E){t:{for(w=E,E=Kn;w.nodeType!==8;){if(!E){E=null;break t}if(w=On(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:$s!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},w=on(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Je=n,oe=null,w=!0):w=!1}w||tr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return bf(E)?n.lanes=32:n.lanes=536870912,null;wi(n)}return E=l.children,l=l.fallback,c?($i(),c=n.mode,E=cu({mode:"hidden",children:E},c),l=Zs(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=qh(s),c.childLanes=jh(t,y,s),n.memoizedState=Ph,l):(Zi(n),zh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Zi(n),n.flags&=-257,n=Bh(t,n,s)):n.memoizedState!==null?($i(),n.child=t.child,n.flags|=128,n=null):($i(),c=l.fallback,E=n.mode,l=cu({mode:"visible",children:l.children},E),c=Zs(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xr(n,t.child,null,s),l=n.child,l.memoizedState=qh(s),l.childLanes=jh(t,y,s),n.memoizedState=Ph,n=c);else if(Zi(n),bf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(a(419)),l.stack="",l.digest=y,rl({value:l,source:null,stack:null}),n=Bh(t,n,s)}else if(Ve||al(t,n,s,!1),y=(s&t.childLanes)!==0,Ve||y){if(y=te,y!==null&&(l=s&-s,l=(l&42)!==0?1:qi(l),l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,qr(t,l),dn(y,t,l),Ug;E.data==="$?"||af(),n=Bh(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,oe=On(E.nextSibling),Je=n,zt=!0,Ws=null,Kn=!1,t!==null&&(bn[Sn++]=Ti,bn[Sn++]=Ai,bn[Sn++]=$s,Ti=t.id,Ai=t.overflow,$s=n),n=zh(n,l.children),n.flags|=4096);return n}return c?($i(),c=l.fallback,E=n.mode,w=t.child,z=w.sibling,l=Ei(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?c=Ei(z,c):(c=Zs(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=qh(s):(w=E.cachePool,w!==null?(z=Se._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=xm(),E={baseLanes:E.baseLanes|s,cachePool:w}),c.memoizedState=E,c.childLanes=jh(t,y,s),n.memoizedState=Ph,l):(Zi(n),s=t.child,t=s.sibling,s=Ei(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function zh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bh(t,n,s){return Xr(n,t.child,null,s),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rh(t.return,n,s)}function kh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function Fg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,s),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qg(t,s,n);else if(t.tag===19)Qg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(tt(Re,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&au(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),kh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}kh(n,!0,s,null,f);break;case"together":kh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ns|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(al(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Ei(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ei(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Hh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function K0(t,n,s){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),Qi(n,Se,t.memoizedState.cache),sl();break;case 27:case 5:Pi(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gg(t,n,s):(Zi(n),t=Di(t,n,s),t!==null?t.sibling:null);Zi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(al(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Fg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,jg(t,n,s);case 24:Qi(n,Se,t.memoizedState.cache)}return Di(t,n,s)}function Yg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Hh(t,s)&&(n.flags&128)===0)return Ve=!1,K0(t,n,s);Ve=(t.flags&131072)!==0}else Ve=!1,zt&&(n.flags&1048576)!==0&&bm(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Jc(l)?(t=rr(l,t),n.tag=1,n=kg(null,n,l,t,s)):(n.tag=0,n=Lh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===bt){n.tag=11,n=Lg(null,n,l,t,s);break t}else if(c===I){n.tag=14,n=Pg(null,n,l,t,s);break t}}throw n=ee(l)||l,Error(a(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=rr(l,n.pendingProps),kg(t,n,l,c,s);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),dl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,Qi(n,Se,l),l!==f.cache&&ah(n,[Se],s,!0),fl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,l,s);break t}else if(l!==c){c=Tn(Error(a(424)),n),rl(c),n=Hg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=On(t.firstChild),Je=n,zt=!0,Ws=null,Kn=!0,s=Rg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(sl(),l===c){n=Di(t,n,s);break t}Pe(t,n,l,s)}n=n.child}return n;case 26:return uu(t,n),t===null?(s=$p(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,t=n.pendingProps,l=Su(vt.current).createElement(s),l[Te]=n,l[me]=t,je(l,s,t),ce(l),n.stateNode=l):n.memoizedState=$p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&zt&&(l=n.stateNode=Kp(n.type,n.pendingProps,vt.current),Je=n,Kn=!0,c=oe,as(n.type)?(Sf=c,oe=On(l.firstChild)):oe=c),Pe(t,n,n.pendingProps.children,s),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=oe)&&(l=AE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Je=n,oe=On(l.firstChild),Kn=!1,c=!0):c=!1),c||tr(n)),Pi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Ef(c,f)?l=null:y!==null&&Ef(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=_h(t,n,z0,null,null,s),Ul._currentValue=c),uu(t,n),Pe(t,n,l,s),n.child;case 6:return t===null&&zt&&((t=s=oe)&&(s=bE(s,n.pendingProps,Kn),s!==null?(n.stateNode=s,Je=n,oe=null,t=!0):t=!1),t||tr(n)),null;case 13:return Gg(t,n,s);case 4:return Wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,s):Pe(t,n,l,s),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,s);case 7:return Pe(t,n,n.pendingProps,s),n.child;case 8:return Pe(t,n,n.pendingProps.children,s),n.child;case 12:return Pe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Pe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,nr(n),c=Ge(c),l=l(c),n.flags|=1,Pe(t,n,l,s),n.child;case 14:return Pg(t,n,n.type,n.pendingProps,s);case 15:return qg(t,n,n.type,n.pendingProps,s);case 19:return Fg(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=cu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ei(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return jg(t,n,s);case 24:return nr(n),l=Ge(Se),t===null?(c=uh(),c===null&&(c=te,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},hh(n),Qi(n,Se,c)):((t.lanes&s)!==0&&(fh(t,n),dl(n,null,null,s),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,Se,l)):(l=f.cache,Qi(n,Se,l),l!==c.cache&&ah(n,[Se],s,!0))),Pe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ci(t){t.flags|=4}function Kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ny(n)){if(n=Rn.current,n!==null&&((Lt&4194048)===Lt?Xn!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==Xn))throw cl=ch,Vm;t.flags|=8192}}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pa():536870912,t.lanes|=n,Wr|=n)}function El(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function X0(t,n,s){var l=n.pendingProps;switch(nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Se),Ln(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(il(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wm())),re(n),null;case 26:return s=n.memoizedState,t===null?(Ci(n),s!==null?(re(n),Kg(n,s)):(re(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Ci(n),re(n),Kg(n,s)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),re(n),n.flags&=-16777217),null;case 27:li(n),s=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}t=ct.current,il(n)?Sm(n):(t=Kp(c,l,s),n.stateNode=t,Ci(n))}return re(n),null;case 5:if(li(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(t=ct.current,il(n))Sm(n);else{switch(c=Su(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[Te]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(je(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,il(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Bp(t.nodeValue,s)),t||tr(n)}else t=Su(t).createTextNode(l),t[Te]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=il(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Te]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=wm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),hu(n,n.updateQueue),re(n),null;case 4:return Ln(),t===null&&gf(n.stateNode.containerInfo),re(n),null;case 10:return Si(n.type),re(n),null;case 19:if(it(Re),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)El(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,El(c,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Am(s,t),s=s.sibling;return tt(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>mu&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304)}else{if(!l)if(t=au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),El(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return re(n),null}else 2*gn()-c.renderingStartTime>mu&&s!==536870912&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Re.current,tt(Re,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return wi(n),ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&hu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&it(ir),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Si(Se),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Z0(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Se),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Re),null;case 4:return Ln(),null;case 10:return Si(n.type),null;case 22:case 23:return wi(n),ph(),t!==null&&it(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Se),null;case 25:return null;default:return null}}function Xg(t,n){switch(nh(n),n.tag){case 3:Si(Se),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:wi(n);break;case 19:it(Re);break;case 10:Si(n.type);break;case 22:case 23:wi(n),ph(),t!==null&&it(ir);break;case 24:Si(Se)}}function Tl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(E){$t(n,n.return,E)}}function Ji(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var w=s,z=E;try{z()}catch(F){$t(c,w,F)}}}l=l.next}while(l!==f)}}catch(F){$t(n,n.return,F)}}function Zg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Pm(n,s)}catch(l){$t(t,t.return,l)}}}function $g(t,n,s){s.props=rr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){$t(t,n,l)}}function Al(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){$t(t,n,c)}}function Zn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){$t(t,n,c)}else s.current=null}function Jg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){$t(t,t.return,c)}}function Gh(t,n,s){try{var l=t.stateNode;yE(l,t.type,s,n),l[me]=n}catch(c){$t(t,t.return,c)}}function Wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&as(t.type)||t.tag===4}function Qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&as(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=bu));else if(l!==4&&(l===27&&as(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,s),t=t.sibling;t!==null;)Fh(t,n,s),t=t.sibling}function fu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&as(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(fu(t,n,s),t=t.sibling;t!==null;)fu(t,n,s),t=t.sibling}function tp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,l,s),n[Te]=t,n[me]=s}catch(f){$t(t,t.return,f)}}var Ni=!1,fe=!1,Yh=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function $0(t,n){if(t=t.containerInfo,_f=xu,t=fm(t),Qc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,w=-1,z=0,F=0,X=t,k=null;e:for(;;){for(var H;X!==s||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(w=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)k=X,X=H;for(;;){if(X===t)break e;if(k===s&&++z===c&&(E=y),k===f&&++F===l&&(w=y),(H=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=H}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(vf={focusedElem:t,selectionRange:s},xu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var _t=rr(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){$t(s,s.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Af(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function np(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(t,s),l&4&&Tl(5,s);break;case 1:if(Wi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(s,s.return,y)}else{var c=rr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(s,s.return,y)}}l&64&&Zg(s),l&512&&Al(s,s.return);break;case 3:if(Wi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Pm(t,n)}catch(y){$t(s,s.return,y)}}break;case 27:n===null&&l&4&&tp(s);case 26:case 5:Wi(t,s),n===null&&l&4&&Jg(s),l&512&&Al(s,s.return);break;case 12:Wi(t,s);break;case 13:Wi(t,s),l&4&&rp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=aE.bind(null,s),SE(t,s))));break;case 22:if(l=s.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||fe,c=Ni;var f=fe;Ni=l,(fe=n)&&!f?ts(t,s,(s.subtreeFlags&8772)!==0):Wi(t,s),Ni=c,fe=f}break;case 30:break;default:Wi(t,s)}}function ip(t){var n=t.alternate;n!==null&&(t.alternate=null,ip(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,tn=!1;function xi(t,n,s){for(s=s.child;s!==null;)sp(t,n,s),s=s.sibling}function sp(t,n,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(le,s)}catch{}switch(s.tag){case 26:fe||Zn(s,n),xi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:fe||Zn(s,n);var l=se,c=tn;as(s.type)&&(se=s.stateNode,tn=!1),xi(t,n,s),Vl(s.stateNode),se=l,tn=c;break;case 5:fe||Zn(s,n);case 6:if(l=se,c=tn,se=null,xi(t,n,s),se=l,tn=c,se!==null)if(tn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{se.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:se!==null&&(tn?(t=se,Fp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),jl(t)):Fp(se,s.stateNode));break;case 4:l=se,c=tn,se=s.stateNode.containerInfo,tn=!0,xi(t,n,s),se=l,tn=c;break;case 0:case 11:case 14:case 15:fe||Ji(2,s,n),fe||Ji(4,s,n),xi(t,n,s);break;case 1:fe||(Zn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&$g(s,n,l)),xi(t,n,s);break;case 21:xi(t,n,s);break;case 22:fe=(l=fe)||s.memoizedState!==null,xi(t,n,s),fe=l;break;default:xi(t,n,s)}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(s){$t(n,n.return,s)}}function J0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ep),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ep),n;default:throw Error(a(435,t.tag))}}function Kh(t,n){var s=J0(t);n.forEach(function(l){var c=lE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(as(E.type)){se=E.stateNode,tn=!1;break t}break;case 5:se=E.stateNode,tn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(se===null)throw Error(a(160));sp(f,y,c),se=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ap(n,t),n=n.sibling}var Mn=null;function ap(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(Ji(3,t,t.return),Tl(3,t),Ji(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(fe||s===null||Zn(s,s.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Mn;if(un(n,t),cn(t),l&512&&(fe||s===null||Zn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Os]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,l,s),f[Te]=t,ce(f),l=f;break t;case"link":var y=ty("link","href",c).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),je(f,l,s),c.head.appendChild(f);break;case"meta":if(y=ty("meta","content",c).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=c.createElement(l),je(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=t,ce(f),l=f}t.stateNode=l}else ey(c,t.type,t.stateNode);else t.stateNode=Wp(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?ey(c,t.type,t.stateNode):Wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(fe||s===null||Zn(s,s.return)),s!==null&&l&4&&Gh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(fe||s===null||Zn(s,s.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(H){$t(t,t.return,H)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(H){$t(t,t.return,H)}}break;case 3:if(Du=null,c=Mn,Mn=Ru(n.containerInfo),un(n,t),Mn=c,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(H){$t(t,t.return,H)}Yh&&(Yh=!1,lp(t));break;case 4:l=Mn,Mn=Ru(t.stateNode.containerInfo),un(n,t),cn(t),Mn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tf=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 22:c=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,z=Ni,F=fe;if(Ni=z||c,fe=F||w,un(n,t),fe=F,Ni=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||w||Ni||fe||ar(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(H){$t(w,w.return,H)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(H){$t(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Kh(t,s))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Wg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Qh(t);fu(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(yn(y,""),s.flags&=-33);var E=Qh(t);fu(t,E,y);break;case 3:case 4:var w=s.stateNode.containerInfo,z=Qh(t);Fh(t,z,w);break;default:throw Error(a(161))}}catch(F){$t(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)np(t,n.alternate,n),n=n.sibling}function ar(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ji(4,n,n.return),ar(n);break;case 1:Zn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$g(n,n.return,s),ar(n);break;case 27:Vl(n.stateNode);case 26:case 5:Zn(n,n.return),ar(n);break;case 22:n.memoizedState===null&&ar(n);break;case 30:ar(n);break;default:ar(n)}t=t.sibling}}function ts(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ts(c,f,s),Tl(4,f);break;case 1:if(ts(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Lm(w[c],E)}catch(z){$t(l,l.return,z)}}s&&y&64&&Zg(f),Al(f,f.return);break;case 27:tp(f);case 26:case 5:ts(c,f,s),s&&l===null&&y&4&&Jg(f),Al(f,f.return);break;case 12:ts(c,f,s);break;case 13:ts(c,f,s),s&&y&4&&rp(c,f);break;case 22:f.memoizedState===null&&ts(c,f,s),Al(f,f.return);break;case 30:break;default:ts(c,f,s)}n=n.sibling}}function Xh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ll(s))}function Zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function $n(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)op(t,n,s,l),n=n.sibling}function op(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,s,l),c&2048&&Tl(9,n);break;case 1:$n(t,n,s,l);break;case 3:$n(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){$n(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else $n(t,n,s,l);break;case 13:$n(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,s,l):bl(t,n):f._visibility&2?$n(t,n,s,l):(f._visibility|=2,Zr(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Xh(y,n);break;case 24:$n(t,n,s,l),c&2048&&Zh(n.alternate,n);break;default:$n(t,n,s,l)}}function Zr(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=s,w=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Zr(f,y,E,w,c),Tl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Zr(f,y,E,w,c):bl(f,y):(F._visibility|=2,Zr(f,y,E,w,c)),c&&z&2048&&Xh(y.alternate,y);break;case 24:Zr(f,y,E,w,c),c&&z&2048&&Zh(y.alternate,y);break;default:Zr(f,y,E,w,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:bl(s,l),c&2048&&Xh(l.alternate,l);break;case 24:bl(s,l),c&2048&&Zh(l.alternate,l);break;default:bl(s,l)}n=n.sibling}}var Sl=8192;function $r(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 26:$r(t),t.flags&Sl&&t.memoizedState!==null&&PE(Mn,t.memoizedState,t.memoizedProps);break;case 5:$r(t);break;case 3:case 4:var n=Mn;Mn=Ru(t.stateNode.containerInfo),$r(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Sl,Sl=16777216,$r(t),Sl=n):$r(t));break;default:$r(t)}}function cp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,fp(l,t)}cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Rl(t);break;default:Rl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,fp(l,t)}cp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ji(8,n,n.return),du(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function fp(t,n){for(;Ie!==null;){var s=Ie;switch(s.tag){case 0:case 11:case 15:Ji(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ie=l;else t:for(s=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(ip(l),l===s){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var W0={getCacheForType:function(t){var n=Ge(Se),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},tE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Nt=null,Lt=0,Ft=0,hn=null,es=!1,Jr=!1,$h=!1,Vi=0,ue=0,ns=0,lr=0,Jh=0,wn=0,Wr=0,wl=null,en=null,Wh=!1,tf=0,mu=1/0,gu=null,is=null,qe=0,ss=null,ta=null,ea=0,ef=0,nf=null,dp=null,Dl=0,sf=null;function fn(){if((Qt&2)!==0&&Lt!==0)return Lt&-Lt;if(U.T!==null){var t=kr;return t!==0?t:hf()}return ji()}function mp(){wn===0&&(wn=(Lt&536870912)===0||zt?La():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,s){(t===te&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(na(t,0),rs(t,Lt,wn,!1)),ui(t,s),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(lr|=s),ue===4&&rs(t,Lt,wn,!1)),Jn(t))}function gp(t,n,s){if((Qt&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Ms(t,n),c=l?iE(t,n):lf(t,n,!0),f=l;do{if(c===0){Jr&&!l&&rs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!eE(s)){c=lf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=wl;var w=E.current.memoizedState.isDehydrated;if(w&&(na(E,y).flags|=256),y=lf(E,y,!1),y!==2){if($h&&!w){E.errorRecoveryDisabledLanes|=f,lr|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){na(t,0),rs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:rs(l,n,wn,!es);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=tf+300-gn(),10<c)){if(rs(l,n,wn,!es),vr(l,0,!0)!==0)break t;l.timeoutHandle=Gp(pp.bind(null,l,s,en,gu,Wh,n,wn,lr,Wr,es,f,2,-0,0),c);break t}pp(l,s,en,gu,Wh,n,wn,lr,Wr,es,f,0,-0,0)}}break}while(!0);Jn(t)}function pp(t,n,s,l,c,f,y,E,w,z,F,X,k,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:LE},up(n),X=qE(),X!==null)){t.cancelPendingCommit=X(bp.bind(null,t,n,f,s,l,c,y,E,w,F,1,k,H)),rs(t,f,y,!z);return}bp(t,n,f,s,l,c,y,E,w)}function eE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rs(t,n,s,l){n&=~Jh,n&=~lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&Pn(t,s,n)}function pu(){return(Qt&6)===0?(Cl(0),!1):!0}function rf(){if(Nt!==null){if(Ft===0)var t=Nt.return;else t=Nt,bi=er=null,Th(t),Kr=null,_l=0,t=Nt;for(;t!==null;)Xg(t.alternate,t),t=t.return;Nt=null}}function na(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,vE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),rf(),te=t,Nt=s=Ei(t.current,null),Lt=n,Ft=0,hn=null,es=!1,Jr=Ms(t,n),$h=!1,Wr=wn=Jh=lr=ns=ue=0,en=wl=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,qo(),s}function yp(t,n){Rt=null,U.H=iu,n===ul||n===Yo?(n=Om(),Ft=3):n===Vm?(n=Om(),Ft=4):Ft=n===Ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Nt===null&&(ue=1,ou(t,Tn(n,t.current)))}function _p(){var t=U.H;return U.H=iu,t===null?iu:t}function vp(){var t=U.A;return U.A=W0,t}function af(){ue=4,es||(Lt&4194048)!==Lt&&Rn.current!==null||(Jr=!0),(ns&134217727)===0&&(lr&134217727)===0||te===null||rs(te,Lt,wn,!1)}function lf(t,n,s){var l=Qt;Qt|=2;var c=_p(),f=vp();(te!==t||Lt!==n)&&(gu=null,na(t,n)),n=!1;var y=ue;t:do try{if(Ft!==0&&Nt!==null){var E=Nt,w=hn;switch(Ft){case 8:rf(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=Ft;if(Ft=0,hn=null,ia(t,E,w,z),s&&Jr){y=0;break t}break;default:z=Ft,Ft=0,hn=null,ia(t,E,w,z)}}nE(),y=ue;break}catch(F){yp(t,F)}while(!0);return n&&t.shellSuspendCounter++,bi=er=null,Qt=l,U.H=c,U.A=f,Nt===null&&(te=null,Lt=0,qo()),y}function nE(){for(;Nt!==null;)Ep(Nt)}function iE(t,n){var s=Qt;Qt|=2;var l=_p(),c=vp();te!==t||Lt!==n?(gu=null,mu=gn()+500,na(t,n)):Jr=Ms(t,n);t:do try{if(Ft!==0&&Nt!==null){n=Nt;var f=hn;e:switch(Ft){case 1:Ft=0,hn=null,ia(t,n,f,1);break;case 2:case 9:if(Im(f)){Ft=0,hn=null,Tp(n);break}n=function(){Ft!==2&&Ft!==9||te!==t||(Ft=7),Jn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Im(f)?(Ft=0,hn=null,Tp(n)):(Ft=0,hn=null,ia(t,n,f,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(!y||ny(y)){Ft=0,hn=null;var w=E.sibling;if(w!==null)Nt=w;else{var z=E.return;z!==null?(Nt=z,yu(z)):Nt=null}break e}}Ft=0,hn=null,ia(t,n,f,5);break;case 6:Ft=0,hn=null,ia(t,n,f,6);break;case 8:rf(),ue=6;break t;default:throw Error(a(462))}}sE();break}catch(F){yp(t,F)}while(!0);return bi=er=null,U.H=l,U.A=c,Qt=s,Nt!==null?0:(te=null,Lt=0,qo(),ue)}function sE(){for(;Nt!==null&&!Ia();)Ep(Nt)}function Ep(t){var n=Yg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?yu(t):Nt=n}function Tp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Bg(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Bg(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Th(n);default:Xg(s,n),n=Nt=Am(n,Vi),n=Yg(s,n,Vi)}t.memoizedProps=t.pendingProps,n===null?yu(t):Nt=n}function ia(t,n,s,l){bi=er=null,Th(n),Kr=null,_l=0;var c=n.return;try{if(Y0(t,c,n,s,Lt)){ue=1,ou(t,Tn(s,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;ue=1,ou(t,Tn(s,t.current)),Nt=null;return}n.flags&32768?(zt||l===1?t=!0:Jr||(Lt&536870912)!==0?t=!1:(es=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ap(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){Ap(n,es);return}t=n.return;var s=X0(n.alternate,n,Vi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ue===0&&(ue=5)}function Ap(t,n){do{var s=Z0(t.alternate,t);if(s!==null){s.flags&=32767,Nt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=s}while(t!==null);ue=6,Nt=null}function bp(t,n,s,l,c,f,y,E,w){t.cancelPendingCommit=null;do _u();while(qe!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Zc,qa(t,s,f,y,E,w),t===te&&(Nt=te=null,Lt=0),ta=n,ss=t,ea=s,ef=f,nf=c,dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oE(Ns,function(){return Cp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,c=et.p,et.p=2,y=Qt,Qt|=4;try{$0(t,n,s)}finally{Qt=y,et.p=c,U.T=l}}qe=1,Sp(),Rp(),wp()}}function Sp(){if(qe===1){qe=0;var t=ss,n=ta,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var l=et.p;et.p=2;var c=Qt;Qt|=4;try{ap(n,t);var f=vf,y=fm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&hm(E.ownerDocument.documentElement,E)){if(w!==null&&Qc(E)){var z=w.start,F=w.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var H=k.getSelection(),_t=E.textContent.length,gt=Math.min(w.start,_t),Zt=w.end===void 0?gt:Math.min(w.end,_t);!H.extend&&gt>Zt&&(y=Zt,Zt=gt,gt=y);var L=cm(E,gt),V=cm(E,Zt);if(L&&V&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var j=X.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),gt>Zt?(H.addRange(j),H.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}xu=!!_f,vf=_f=null}finally{Qt=c,et.p=l,U.T=s}}t.current=n,qe=2}}function Rp(){if(qe===2){qe=0;var t=ss,n=ta,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var l=et.p;et.p=2;var c=Qt;Qt|=4;try{np(t,n.alternate,n)}finally{Qt=c,et.p=l,U.T=s}}qe=3}}function wp(){if(qe===4||qe===3){qe=0,fo();var t=ss,n=ta,s=ea,l=dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,ta=ss=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(is=null),Er(s),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,c=et.p,et.p=2,U.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{U.T=n,et.p=c}}(ea&3)!==0&&_u(),Jn(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===sf?Dl++:(Dl=0,sf=t):Dl=0,Cl(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function _u(t){return Sp(),Rp(),wp(),Cp()}function Cp(){if(qe!==5)return!1;var t=ss,n=ef;ef=0;var s=Er(ea),l=U.T,c=et.p;try{et.p=32>s?32:s,U.T=null,s=nf,nf=null;var f=ss,y=ea;if(qe=0,ta=ss=null,ea=0,(Qt&6)!==0)throw Error(a(331));var E=Qt;if(Qt|=4,hp(f.current),op(f,f.current,y,s),Qt=E,Cl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{et.p=c,U.T=l,Dp(t,n)}}function Np(t,n,s){n=Tn(s,n),n=Uh(t.stateNode,n,2),t=Ki(t,n,2),t!==null&&(ui(t,2),Jn(t))}function $t(t,n,s){if(t.tag===3)Np(t,t,s);else for(;n!==null;){if(n.tag===3){Np(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){t=Tn(s,t),s=Mg(2),l=Ki(n,s,2),l!==null&&(Og(s,l,n,t),ui(l,2),Jn(l));break}}n=n.return}}function of(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new tE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||($h=!0,c.add(s),t=rE.bind(null,t,n,s),n.then(t,t))}function rE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,te===t&&(Lt&s)===s&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>gn()-tf?(Qt&2)===0&&na(t,0):Jh|=s,Wr===Lt&&(Wr=0)),Jn(t)}function xp(t,n){n===0&&(n=Pa()),t=qr(t,n),t!==null&&(ui(t,n),Jn(t))}function aE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),xp(t,s)}function lE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),xp(t,s)}function oE(t,n){return Ds(t,n)}var vu=null,sa=null,uf=!1,Eu=!1,cf=!1,or=0;function Jn(t){t!==sa&&t.next===null&&(sa===null?vu=sa=t:sa=sa.next=t),Eu=!0,uf||(uf=!0,cE())}function Cl(t,n){if(!cf&&Eu){cf=!0;do for(var s=!1,l=vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Op(l,f))}else f=Lt,f=vr(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ms(l,f)||(s=!0,Op(l,f));l=l.next}while(s);cf=!1}}function uE(){Vp()}function Vp(){Eu=uf=!1;var t=0;or!==0&&(_E()&&(t=or),or=0);for(var n=gn(),s=null,l=vu;l!==null;){var c=l.next,f=Ip(l,n);f===0?(l.next=null,s===null?vu=c:s.next=c,c===null&&(sa=s)):(s=l,(t!==0||(f&3)!==0)&&(Eu=!0)),l=c}Cl(t)}function Ip(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,w=c[y];w===-1?((E&s)===0||(E&l)!==0)&&(c[y]=Ua(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,s=Lt,s=vr(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cs(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ms(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Cs(l),Er(s)){case 2:case 8:s=yr;break;case 32:s=Ns;break;case 268435456:s=_r;break;default:s=Ns}return l=Mp.bind(null,t),s=Ds(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Cs(l),t.callbackPriority=2,t.callbackNode=null,2}function Mp(t,n){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(_u()&&t.callbackNode!==s)return null;var l=Lt;return l=vr(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gp(t,l,n),Ip(t,gn()),t.callbackNode!=null&&t.callbackNode===s?Mp.bind(null,t):null)}function Op(t,n){if(_u())return null;gp(t,n,!0)}function cE(){EE(function(){(Qt&6)!==0?Ds(Ma,uE):Vp()})}function hf(){return or===0&&(or=La()),or}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wr(""+t)}function Lp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function hE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Up((c[me]||null).action),y=l.submitter;y&&(n=(n=y[me]||null)?Up(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Dr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var w=y?Lp(c,y):new FormData(c);xh(s,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?Lp(c,y):new FormData(c),xh(s,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var ff=0;ff<Xc.length;ff++){var df=Xc[ff],fE=df.toLowerCase(),dE=df[0].toUpperCase()+df.slice(1);In(fE,"on"+dE)}In(gm,"onAnimationEnd"),In(pm,"onAnimationIteration"),In(ym,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(x0,"onTransitionRun"),In(V0,"onTransitionStart"),In(I0,"onTransitionCancel"),In(_m,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Pp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=w}else for(y=0;y<l.length;y++){if(E=l[y],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=w}}}}function xt(t,n){var s=n[za];s===void 0&&(s=n[za]=new Set);var l=t+"__bubble";s.has(l)||(qp(n,t,2,!1),s.add(l))}function mf(t,n,s){var l=0;n&&(l|=4),qp(s,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[Tu]){t[Tu]=!0,Ba.forEach(function(s){s!=="selectionchange"&&(mE.has(s)||mf(s,!1,t),mf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,mf("selectionchange",!1,n))}}function qp(t,n,s,l){switch(oy(n)){case 2:var c=BE;break;case 8:c=kE;break;default:c=Nf}s=c.bind(null,n,s,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function pf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=f=y;continue t}E=E.parentNode}}l=l.return}bo(function(){var z=f,F=_n(s),X=[];t:{var k=vm.get(t);if(k!==void 0){var H=Dr,_t=t;switch(t){case"keypress":if(Hn(s)===0)break t;case"keydown":case"keyup":H=Mr;break;case"focusin":_t="focus",H=xr;break;case"focusout":_t="blur",H=xr;break;case"beforeblur":case"afterblur":H=xr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Vo;break;case gm:case pm:case ym:H=Vr;break;case _m:H=Mo;break;case"scroll":case"scrollend":H=So;break;case"wheel":H=Or;break;case"copy":case"cut":case"paste":H=Ir;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wa;break;case"toggle":case"beforetoggle":H=Uo}var gt=(n&4)!==0,Zt=!gt&&(t==="scroll"||t==="scrollend"),L=gt?k!==null?k+"Capture":null:k;gt=[];for(var V=z,j;V!==null;){var K=V;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||L===null||(K=Bs(V,L),K!=null&&gt.push(xl(V,K,j))),Zt)break;V=V.return}0<gt.length&&(k=new H(k,_t,null,s,F),X.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&s!==mi&&(_t=s.relatedTarget||s.fromElement)&&(ci(_t)||_t[pn]))break t;if((H||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,H?(_t=s.relatedTarget||s.toElement,H=z,_t=_t?ci(_t):null,_t!==null&&(Zt=h(_t),gt=_t.tag,_t!==Zt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(H=null,_t=z),H!==_t)){if(gt=En,K="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Wa,K="onPointerLeave",L="onPointerEnter",V="pointer"),Zt=H==null?k:jn(H),j=_t==null?k:jn(_t),k=new gt(K,V+"leave",H,s,F),k.target=Zt,k.relatedTarget=j,K=null,ci(F)===z&&(gt=new gt(L,V+"enter",_t,s,F),gt.target=j,gt.relatedTarget=Zt,K=gt),Zt=K,H&&_t)e:{for(gt=H,L=_t,V=0,j=gt;j;j=ra(j))V++;for(j=0,K=L;K;K=ra(K))j++;for(;0<V-j;)gt=ra(gt),V--;for(;0<j-V;)L=ra(L),j--;for(;V--;){if(gt===L||L!==null&&gt===L.alternate)break e;gt=ra(gt),L=ra(L)}gt=null}else gt=null;H!==null&&jp(X,k,H,gt,!1),_t!==null&&Zt!==null&&jp(X,Zt,_t,gt,!0)}}t:{if(k=z?jn(z):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var lt=sm;else if(be(k))if(rm)lt=D0;else{lt=R0;var Dt=S0}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Fa(z.elementType)&&(lt=sm):lt=w0;if(lt&&(lt=lt(t,z))){vi(X,lt,s,F);break t}Dt&&Dt(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Hi(k,"number",k.value)}switch(Dt=z?jn(z):window,t){case"focusin":(be(Dt)||Dt.contentEditable==="true")&&(Ur=Dt,Fc=z,nl=null);break;case"focusout":nl=Fc=Ur=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,dm(X,s,F);break;case"selectionchange":if(N0)break;case"keydown":case"keyup":dm(X,s,F)}var dt;if(Fn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?G(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(p&&s.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(dt=Ka()):(kn=F,Gi="value"in kn?kn.value:kn.textContent,Ot=!0)),Dt=Au(z,pt),0<Dt.length&&(pt=new $a(pt,t,null,s,F),X.push({event:pt,listeners:Dt}),dt?pt.data=dt:(dt=nt(s),dt!==null&&(pt.data=dt)))),(dt=m?Ae(t,s):Ut(t,s))&&(pt=Au(z,"onBeforeInput"),0<pt.length&&(Dt=new $a("onBeforeInput","beforeinput",null,s,F),X.push({event:Dt,listeners:pt}),Dt.data=dt)),hE(X,t,z,s,F)}Pp(X,n)})}function xl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Au(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bs(t,s),c!=null&&l.unshift(xl(t,c,f)),c=Bs(t,n),c!=null&&l.push(xl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jp(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||z===null||(w=z,c?(z=Bs(s,f),z!=null&&y.unshift(xl(s,z,w))):c||(z=Bs(s,f),z!=null&&y.push(xl(s,z,w)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var gE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(gE,`
`).replace(pE,"")}function Bp(t,n){return n=zp(n),zp(t)===n}function bu(){}function Xt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,s,l);break;case"style":Qa(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=wr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=wr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=bu);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=wr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),ki(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=jc.get(s)||s,ki(t,s,l))}}function yf(t,n,s,l,c,f){switch(s){case"style":Qa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[me]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ki(t,s,l)}}}function je(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,f,y,s,null)}}c&&Xt(t,n,"srcSet",s.srcSet,s,null),l&&Xt(t,n,"src",s.src,s,null);return;case"input":xt("invalid",t);var E=f=y=c=null,w=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":y=F;break;case"checked":w=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Xt(t,n,l,F,s,null)}}qs(t,f,E,w,z,y,c,!1),Rr(t);return;case"select":xt("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?di(t,!!l,n,!1):s!=null&&di(t,!!l,s,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(t,n,y,E,s,null)}js(t,l,c,f),Rr(t);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,s,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)xt(Nl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,z,l,s,null)}return;default:if(Fa(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&yf(t,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(t,n,E,l,s,null))}function yE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,w=null,z=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(H)||Xt(t,n,H,null,l,X)}}for(var k in l){var H=l[k];if(X=s[k],l.hasOwnProperty(k)&&(H!=null||X!=null))switch(k){case"type":f=H;break;case"name":c=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&Xt(t,n,k,H,l,X)}}an(t,y,E,w,z,F,f,c);return;case"select":H=y=E=k=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=s[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,s=y,l=H,k!=null?di(t,!!s,k,!1):!!l!=!!s&&(n!=null?di(t,!!s,n,!0):di(t,!!s,s?[]:"",!1));return;case"textarea":H=k=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(t,n,y,c,l,f)}Yt(t,k,H);return;case"option":for(var _t in s)if(k=s[_t],s.hasOwnProperty(_t)&&k!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Xt(t,n,_t,null,l,k)}for(w in l)if(k=l[w],H=s[w],l.hasOwnProperty(w)&&k!==H&&(k!=null||H!=null))switch(w){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(t,n,w,k,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)k=s[gt],s.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&Xt(t,n,gt,null,l,k);for(z in l)if(k=l[z],H=s[z],l.hasOwnProperty(z)&&k!==H&&(k!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Xt(t,n,z,k,l,H)}return;default:if(Fa(n)){for(var Zt in s)k=s[Zt],s.hasOwnProperty(Zt)&&k!==void 0&&!l.hasOwnProperty(Zt)&&yf(t,n,Zt,void 0,l,k);for(F in l)k=l[F],H=s[F],!l.hasOwnProperty(F)||k===H||k===void 0&&H===void 0||yf(t,n,F,k,l,H);return}}for(var L in s)k=s[L],s.hasOwnProperty(L)&&k!=null&&!l.hasOwnProperty(L)&&Xt(t,n,L,null,l,k);for(X in l)k=l[X],H=s[X],!l.hasOwnProperty(X)||k===H||k==null&&H==null||Xt(t,n,X,k,l,H)}var _f=null,vf=null;function Su(t){return t.nodeType===9?t:t.ownerDocument}function kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function _E(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(TE)}:Gp;function TE(t){setTimeout(function(){throw t})}function as(t){return t==="head"}function Fp(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var y=t.ownerDocument;if(s&1&&Vl(y.documentElement),s&2&&Vl(y.body),s&4)for(s=y.head,Vl(s),y=s.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Os]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);jl(n)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Af(s),Bi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function AE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Os])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function bE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=On(t.nextSibling),t===null))return null;return t}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function SE(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Sf=null;function Yp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Kp(t,n,s){switch(n=Su(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var Dn=new Map,Xp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=et.d;et.d={f:RE,r:wE,D:DE,C:CE,L:NE,m:xE,X:IE,S:VE,M:ME};function RE(){var t=Ii.f(),n=pu();return t||n}function wE(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?gg(n):Ii.r(t)}var aa=typeof document>"u"?null:document;function Zp(t,n,s){var l=aa;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Xp.has(c)||(Xp.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),je(n,"link",t),ce(n),l.head.appendChild(n)))}}function DE(t){Ii.D(t),Zp("dns-prefetch",t,null)}function CE(t,n){Ii.C(t,n),Zp("preconnect",t,n)}function NE(t,n,s){Ii.L(t,n,s);var l=aa;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ge(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ge(s.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=la(t);break;case"script":f=oa(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),je(n,"link",t),ce(n),l.head.appendChild(n)))}}function xE(t,n){Ii.m(t,n);var s=aa;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=oa(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ml(f)))return}l=s.createElement("link"),je(l,"link",t),ce(l),s.head.appendChild(l)}}}function VE(t,n,s){Ii.S(t,n,s);var l=aa;if(l&&t){var c=Xe(l).hoistableStyles,f=la(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Il(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Dn.get(f))&&Rf(t,s);var w=y=l.createElement("link");ce(w),je(w,"link",t),w._p=new Promise(function(z,F){w.onload=z,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function IE(t,n){Ii.X(t,n);var s=aa;if(s&&t){var l=Xe(s).hoistableScripts,c=oa(t),f=l.get(c);f||(f=s.querySelector(Ml(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&wf(t,n),f=s.createElement("script"),ce(f),je(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ME(t,n){Ii.M(t,n);var s=aa;if(s&&t){var l=Xe(s).hoistableScripts,c=oa(t),f=l.get(c);f||(f=s.querySelector(Ml(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&wf(t,n),f=s.createElement("script"),ce(f),je(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $p(t,n,s,l){var c=(c=vt.current)?Ru(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=la(s.href),s=Xe(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=la(s.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Il(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Dn.set(t,s),f||OE(c,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oa(s),s=Xe(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function la(t){return'href="'+ge(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function OE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",s),ce(n),t.head.appendChild(n))}function oa(t){return'[src="'+ge(t)+'"]'}function Ml(t){return"script[async]"+t}function Wp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(s.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),je(l,"style",c),wu(l,s.precedence,t),n.instance=l;case"stylesheet":c=la(s.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=Jp(s),(c=Dn.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),je(f,"link",l),n.state.loading|=4,wu(f,s.precedence,t),n.instance=f;case"script":return f=oa(s.src),(c=t.querySelector(Ml(f)))?(n.instance=c,ce(c),c):(l=s,(c=Dn.get(f))&&(l=A({},s),wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),je(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,s.precedence,t));return n.instance}function wu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function ty(t,n,s){if(Du===null){var l=new Map,c=Du=new Map;c.set(s,l)}else c=Du,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Os]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ey(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function UE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function LE(){}function PE(t,n,s){if(Ol===null)throw Error(a(475));var l=Ol;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=la(s.href),f=t.querySelector(Il(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,s=Jp(s),(c=Dn.get(c))&&Rf(s,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),je(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function qE(){if(Ol===null)throw Error(a(475));var t=Ol;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function Df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(jE,t),Nu=null,Cu.call(t))}function jE(t,n){if(!(n.state.loading&4)){var s=Nu.get(t);if(s)var l=s.get(null);else{s=new Map,Nu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ot,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function zE(t,n,s,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function iy(t,n,s,l,c,f,y,E,w,z,F,X){return t=new zE(t,n,s,y,E,w,z,X),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},hh(f),t}function sy(t){return t?(t=jr,t):jr}function ry(t,n,s,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ki(t,l,n),s!==null&&(dn(s,t,n),hl(s,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Cf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function ly(t){if(t.tag===13){var n=qr(t,67108864);n!==null&&dn(n,t,67108864),Cf(t,67108864)}}var xu=!0;function BE(t,n,s,l){var c=U.T;U.T=null;var f=et.p;try{et.p=2,Nf(t,n,s,l)}finally{et.p=f,U.T=c}}function kE(t,n,s,l){var c=U.T;U.T=null;var f=et.p;try{et.p=8,Nf(t,n,s,l)}finally{et.p=f,U.T=c}}function Nf(t,n,s,l){if(xu){var c=xf(l);if(c===null)pf(t,n,l,Vu,s),uy(t,l);else if(GE(c,t,n,s,l))l.stopPropagation();else if(uy(t,l),n&4&&-1<HE.indexOf(t)){for(;c!==null;){var f=qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Nn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-He(y);E.entanglements[1]|=w,y&=~w}Jn(f),(Qt&6)===0&&(mu=gn()+500,Cl(0))}}break;case 13:E=qr(f,2),E!==null&&dn(E,f,2),pu(),Cf(f,2)}if(f=xf(l),f===null&&pf(t,n,l,Vu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else pf(t,n,l,null,s)}}function xf(t){return t=_n(t),Vf(t)}var Vu=null;function Vf(t){if(Vu=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vu=t,null}function oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mc()){case Ma:return 2;case yr:return 8;case Ns:case Oc:return 32;case _r:return 268435456;default:return 32}default:return 32}}var If=!1,ls=null,os=null,us=null,Ll=new Map,Pl=new Map,cs=[],HE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(t,n){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function ql(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&ly(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function GE(t,n,s,l,c){switch(n){case"focusin":return ls=ql(ls,t,n,s,l,c),!0;case"dragenter":return os=ql(os,t,n,s,l,c),!0;case"mouseover":return us=ql(us,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Ll.set(f,ql(Ll.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Pl.set(f,ql(Pl.get(f)||null,t,n,s,l,c)),!0}return!1}function cy(t){var n=ci(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,po(t.priority,function(){if(s.tag===13){var l=fn();l=qi(l);var c=qr(s,l);c!==null&&dn(c,s,l),Cf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=xf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);mi=l,s.target.dispatchEvent(l),mi=null}else return n=qn(s),n!==null&&ly(n),t.blockedOn=s,!1;n.shift()}return!0}function hy(t,n,s){Iu(t)&&s.delete(n)}function QE(){If=!1,ls!==null&&Iu(ls)&&(ls=null),os!==null&&Iu(os)&&(os=null),us!==null&&Iu(us)&&(us=null),Ll.forEach(hy),Pl.forEach(hy)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QE)))}var Ou=null;function fy(t){Ou!==t&&(Ou=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ou===t&&(Ou=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vf(l||s)===null)continue;break}var f=qn(s);f!==null&&(t.splice(n,3),n-=3,xh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function jl(t){function n(w){return Mu(w,t)}ls!==null&&Mu(ls,t),os!==null&&Mu(os,t),us!==null&&Mu(us,t),Ll.forEach(n),Pl.forEach(n);for(var s=0;s<cs.length;s++){var l=cs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cs.length&&(s=cs[0],s.blockedOn===null);)cy(s),s.blockedOn===null&&cs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[me]||null;if(typeof f=="function")y||fy(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[me]||null)E=y.formAction;else if(Vf(c)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),fy(s)}}}function Mf(t){this._internalRoot=t}Uu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=fn();ry(s,l,t,n,null,null)},Uu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),pu(),n[pn]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ji();t={blockedOn:null,target:t,priority:n};for(var s=0;s<cs.length&&n!==0&&n<cs[s].priority;s++);cs.splice(s,0,t),s===0&&cy(t)}};var dy=e.version;if(dy!=="19.1.1")throw Error(a(527,dy,"19.1.1"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var FE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{le=Lu.inject(FE),Gt=Lu}catch{}}return Bl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Ng,f=xg,y=Vg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=iy(t,1,!1,null,null,s,l,c,f,y,E,null),t[pn]=n.current,gf(t),new Mf(n)},Bl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Ng,y=xg,E=Vg,w=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=iy(t,1,!0,n,s??null,l,c,f,y,E,w,z),n.context=sy(null),s=n.current,l=fn(),l=qi(l),c=Yi(l),c.callback=null,Ki(s,c,l),s=l,n.current.lanes=s,ui(n,s),Jn(n),t[pn]=n.current,gf(t),new Uu(n)},Bl.version="19.1.1",Bl}var by;function nT(){if(by)return Lf.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=eT(),Lf.exports}var iT=nT();const U_=Vt.createContext(),dr=()=>{const r=Vt.useContext(U_);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r},sT={en:{requestHelp:"Request Help",helplineNumbers:"Helpline Numbers",viewRequests:"View Requests",myRequests:"My Requests",backToHome:"Back to Home",welcome:"Punjab Stands Together",welcomeMessage:"Do you need help or want to help? Use the buttons below to request assistance or offer support!",getHelpNow:"Get Help Now",viewHelplines:"View Helplines",viewAllRequests:"View All Requests",emergencyNotice:"Emergency Notice",emergencyMessage:"If you are in immediate danger, call emergency services first",footerText:"Simple, mobile-focused layout for everyone",name:"Name",location:"Location",contactNumber:"Contact Number",typeOfHelp:"Type of Help",description:"Description",submit:"Submit",getLocation:"Get My Location",nameRequired:"Name is required",locationRequired:"Location is required",contactNumberRequired:"Contact number is required",typeOfHelpRequired:"Please select a type of help",descriptionRequired:"Description is required",medical:"Medical",food:"Food",shelter:"Shelter",emergencyTransport:"Emergency Transport",governmentHelplines:"Government Helplines",ngoHelplines:"NGO & Helping Groups",selectDistrict:"Select District",helplinesFor:"Helplines for",selectDistrictToView:"Please select a district to view helplines",selectDistrictMessage:"Choose your district from the dropdown above to see available helplines",noHelplinesFound:"No helplines found for this district",noHelplinesMessage:"Please check back later or contact emergency services directly",government:"Government",ngo:"NGO",address:"Address",availableHours:"Available Hours",clickToViewDetails:"Click to View Details",loadMore:"Load More",loadAll:"Load All",noRequests:"No requests found",all:"All",pending:"Pending",completed:"Completed",markCompleted:"Mark Completed",completedAt:"Completed At",updating:"Updating...",errorLoading:"Error loading data",retry:"Retry",error:"Error",permissionDenied:"Permission denied. Please check your Firebase configuration.",serviceUnavailable:"Service temporarily unavailable. Please try again later.",unauthenticated:"Authentication required. Please refresh the page.",requestSubmitted:"Request submitted successfully",errorSubmitting:"Error submitting request",locationError:"Error getting location. Please ensure location services are enabled and try again.",enablingGPS:"Enabling GPS for better accuracy...",fetchingLocation:"Fetching your location...",locationFetched:"Location fetched successfully",lowAccuracyWarning:"Warning: Low GPS accuracy. Try moving to an open area for better results.",locationPermissionDenied:"Location permission denied. Please enable it in your browser settings.",locationUnavailable:"Unable to retrieve location. Please check your device settings.",locationTimeout:"Location request timed out. Please try again in an open area.",near:"Near",accuracy:"accuracy",loading:"Loading..."},pa:{requestHelp:"  ",helplineNumbers:" ",viewRequests:" ",myRequests:" ",backToHome:"  ",welcome:"   ",welcomeMessage:"                        !",getHelpNow:"   ",viewHelplines:" ",viewAllRequests:"  ",emergencyNotice:" ",emergencyMessage:"     ,       ",footerText:"  , - ",name:"",location:"",contactNumber:" ",typeOfHelp:"  ",description:"",submit:" ",getLocation:"   ",nameRequired:"  ",locationRequired:"  ",contactNumberRequired:"   ",typeOfHelpRequired:"     ",descriptionRequired:"  ",medical:"",food:"",shelter:"",emergencyTransport:" ",governmentHelplines:" ",ngoHelplines:"     ",selectDistrict:" ",helplinesFor:"",selectDistrictToView:"    ",selectDistrictMessage:"          ",noHelplinesFound:"      ",noHelplinesMessage:"            ",government:"",ngo:"",address:"",availableHours:" ",clickToViewDetails:"    ",loadMore:"  ",loadAll:"  ",noRequests:"   ",all:"",pending:"",completed:" ",markCompleted:" ",completedAt:" ",updating:"   ...",errorLoading:"    ",retry:"  ",error:"",permissionDenied:"      Firebase   ",serviceUnavailable:"             ",unauthenticated:"        ",requestSubmitted:"     ",errorSubmitting:"    ",locationError:"    .             ",enablingGPS:"   GPS     ...",fetchingLocation:"      ...",locationFetched:"    ",lowAccuracyWarning:": GPS          ",locationPermissionDenied:"             ",locationUnavailable:"            ",locationTimeout:"               ",near:"",accuracy:"",loading:"   ...",gpsEnabled:"   ",gpsDisabled:"    ",locationServicesEnabled:"    ",locationServicesDisabled:"     ",highAccuracy:" ",mediumAccuracy:" ",lowAccuracy:" "}},rT=({children:r})=>{const[e,i]=Vt.useState("en"),a=h=>sT[e][h]||h,o=()=>{i(e==="en"?"pa":"en")};return P.jsx(U_.Provider,{value:{language:e,t:a,toggleLanguage:o},children:r})},aT=()=>{};var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},lT=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,x=(h&3)<<4|g>>4;let N=(g&15)<<2|_>>6,B=_&63;v||(B=64,d||(N=64)),a.push(i[A],i[x],i[N],i[B])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const x=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||x==null)throw new oT;const N=h<<2|g>>4;if(a.push(N),_!==64){const B=g<<4&240|_>>2;if(a.push(B),x!==64){const Q=_<<6&192|x;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uT=function(r){const e=L_(r);return P_.encodeByteArray(e,!0)},Xu=function(r){return uT(r).replace(/\./g,"")},cT=function(r){try{return P_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=()=>hT().__FIREBASE_DEFAULTS__,dT=()=>{if(typeof process>"u"||typeof Sy>"u")return;const r=Sy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cT(r[1]);return e&&JSON.parse(e)},Ed=()=>{try{return aT()||fT()||dT()||mT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gT=r=>Ed()?.emulatorHosts?.[r],pT=r=>{const e=gT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},q_=()=>Ed()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xu(JSON.stringify(i)),Xu(JSON.stringify(d)),""].join(".")}const Ql={};function ET(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function TT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Ry=!1;function AT(r,e){if(typeof window>"u"||typeof document>"u"||!Td(window.location.host)||Ql[r]===e||Ql[r]||Ry)return;Ql[r]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=ET().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Ry=!0,d()},N}function A(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function x(){const N=TT(a),B=i("text"),Q=document.getElementById(B)||document.createElement("span"),J=i("learnmore"),$=document.getElementById(J)||document.createElement("a"),ut=i("preprendIcon"),ht=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ot=N.element;g(ot),A($,J);const bt=_();v(ht,ut),ot.append(ht,Q,$,bt),document.body.appendChild(ot)}h?(Q.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){const r=Ed()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RT(){return!ST()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function DT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="FirebaseError";class Da extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=CT,Object.setPrototypeOf(this,Da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j_.prototype.create)}}class j_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?NT(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Da(o,g,a)}}function NT(r,e){return r.replace(xT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const xT=/\{\$([^}]+)}/g;function Zu(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(wy(h)&&wy(d)){if(!Zu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function wy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r){return r&&r._delegate?r._delegate:r}class Xl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new yT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MT(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:IT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IT(r){return r===ur?void 0:r}function MT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new VT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const UT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},LT=qt.INFO,PT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},qT=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=PT[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z_{constructor(e){this.name=e,this._logLevel=LT,this._logHandler=qT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const jT=(r,e)=>e.some(i=>r instanceof i);let Dy,Cy;function zT(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BT(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,Zf=new WeakMap,k_=new WeakMap,zf=new WeakMap,Ad=new WeakMap;function kT(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ds(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&B_.set(i,r)}).catch(()=>{}),Ad.set(e,r),e}function HT(r){if(Zf.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Zf.set(r,e)}let $f={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Zf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||k_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ds(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function GT(r){$f=r($f)}function QT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Bf(this),e,...i);return k_.set(a,e.sort?e.sort():[e]),ds(a)}:BT().includes(r)?function(...e){return r.apply(Bf(this),e),ds(B_.get(this))}:function(...e){return ds(r.apply(Bf(this),e))}}function FT(r){return typeof r=="function"?QT(r):(r instanceof IDBTransaction&&HT(r),jT(r,zT())?new Proxy(r,$f):r)}function ds(r){if(r instanceof IDBRequest)return kT(r);if(zf.has(r))return zf.get(r);const e=FT(r);return e!==r&&(zf.set(r,e),Ad.set(e,r)),e}const Bf=r=>Ad.get(r);function YT(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=ds(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ds(d.result),v.oldVersion,v.newVersion,ds(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const KT=["get","getKey","getAll","getAllKeys","count"],XT=["put","add","delete","clear"],kf=new Map;function Ny(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=XT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||KT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return kf.set(e,h),h}GT(r=>({...r,get:(e,i,a)=>Ny(e,i)||r.get(e,i,a),has:(e,i)=>!!Ny(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($T(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function $T(r){return r.getComponent()?.type==="VERSION"}const Jf="@firebase/app",xy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new z_("@firebase/app"),JT="@firebase/app-compat",WT="@firebase/analytics-compat",t1="@firebase/analytics",e1="@firebase/app-check-compat",n1="@firebase/app-check",i1="@firebase/auth",s1="@firebase/auth-compat",r1="@firebase/database",a1="@firebase/data-connect",l1="@firebase/database-compat",o1="@firebase/functions",u1="@firebase/functions-compat",c1="@firebase/installations",h1="@firebase/installations-compat",f1="@firebase/messaging",d1="@firebase/messaging-compat",m1="@firebase/performance",g1="@firebase/performance-compat",p1="@firebase/remote-config",y1="@firebase/remote-config-compat",_1="@firebase/storage",v1="@firebase/storage-compat",E1="@firebase/firestore",T1="@firebase/ai",A1="@firebase/firestore-compat",b1="firebase",S1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",R1={[Jf]:"fire-core",[JT]:"fire-core-compat",[t1]:"fire-analytics",[WT]:"fire-analytics-compat",[n1]:"fire-app-check",[e1]:"fire-app-check-compat",[i1]:"fire-auth",[s1]:"fire-auth-compat",[r1]:"fire-rtdb",[a1]:"fire-data-connect",[l1]:"fire-rtdb-compat",[o1]:"fire-fn",[u1]:"fire-fn-compat",[c1]:"fire-iid",[h1]:"fire-iid-compat",[f1]:"fire-fcm",[d1]:"fire-fcm-compat",[m1]:"fire-perf",[g1]:"fire-perf-compat",[p1]:"fire-rc",[y1]:"fire-rc-compat",[_1]:"fire-gcs",[v1]:"fire-gcs-compat",[E1]:"fire-fst",[A1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[b1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,w1=new Map,td=new Map;function Vy(r,e){try{r.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ju(r){const e=r.name;if(td.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,r);for(const i of $u.values())Vy(i,r);for(const i of w1.values())Vy(i,r);return!0}function D1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function C1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new j_("app","Firebase",N1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=S1;function H_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Wf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(i||(i=q_()),!i)throw ms.create("no-options");const h=$u.get(o);if(h){if(Zu(i,h.options)&&Zu(a,h.config))return h;throw ms.create("duplicate-app",{appName:o})}const d=new OT(o);for(const v of td.values())d.addComponent(v);const g=new x1(i,a,d);return $u.set(o,g),g}function I1(r=Wf){const e=$u.get(r);if(!e&&r===Wf&&q_())return H_();if(!e)throw ms.create("no-app",{appName:r});return e}function da(r,e,i){let a=R1[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(d.join(" "));return}Ju(new Xl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebase-heartbeat-database",O1=1,Zl="firebase-heartbeat-store";let Hf=null;function G_(){return Hf||(Hf=YT(M1,O1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ms.create("idb-open",{originalErrorMessage:r.message})})),Hf}async function U1(r){try{const i=(await G_()).transaction(Zl),a=await i.objectStore(Zl).get(Q_(r));return await i.done,a}catch(e){if(e instanceof Da)Mi.warn(e.message);else{const i=ms.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(i.message)}}}async function Iy(r,e){try{const a=(await G_()).transaction(Zl,"readwrite");await a.objectStore(Zl).put(e,Q_(r)),await a.done}catch(i){if(i instanceof Da)Mi.warn(i.message);else{const a=ms.create("idb-set",{originalErrorMessage:i?.message});Mi.warn(a.message)}}}function Q_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1024,P1=30;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new z1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=My();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>P1){const o=B1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=My(),{heartbeatsToSend:i,unsentEntries:a}=j1(this._heartbeatsCache.heartbeats),o=Xu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mi.warn(e),""}}}function My(){return new Date().toISOString().substring(0,10)}function j1(r,e=L1){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Oy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Oy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class z1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?DT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await U1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Oy(r){return Xu(JSON.stringify({version:2,heartbeats:r})).length}function B1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(r){Ju(new Xl("platform-logger",e=>new ZT(e),"PRIVATE")),Ju(new Xl("heartbeat",e=>new q1(e),"PRIVATE")),da(Jf,xy,r),da(Jf,xy,"esm2020"),da("fire-js","")}k1("");var H1="firebase",G1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(H1,G1,"app");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,F_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function D(){}D.prototype=b.prototype,I.D=b.prototype,I.prototype=new D,I.prototype.constructor=I,I.C=function(M,R,O){for(var S=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)S[ee-2]=arguments[ee];return b.prototype[R].apply(M,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,D){D||(D=0);var M=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)M[R]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(R=0;16>R;++R)M[R]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=I.g[0],D=I.g[1],R=I.g[2];var O=I.g[3],S=b+(O^D&(R^O))+M[0]+3614090360&4294967295;b=D+(S<<7&4294967295|S>>>25),S=O+(R^b&(D^R))+M[1]+3905402710&4294967295,O=b+(S<<12&4294967295|S>>>20),S=R+(D^O&(b^D))+M[2]+606105819&4294967295,R=O+(S<<17&4294967295|S>>>15),S=D+(b^R&(O^b))+M[3]+3250441966&4294967295,D=R+(S<<22&4294967295|S>>>10),S=b+(O^D&(R^O))+M[4]+4118548399&4294967295,b=D+(S<<7&4294967295|S>>>25),S=O+(R^b&(D^R))+M[5]+1200080426&4294967295,O=b+(S<<12&4294967295|S>>>20),S=R+(D^O&(b^D))+M[6]+2821735955&4294967295,R=O+(S<<17&4294967295|S>>>15),S=D+(b^R&(O^b))+M[7]+4249261313&4294967295,D=R+(S<<22&4294967295|S>>>10),S=b+(O^D&(R^O))+M[8]+1770035416&4294967295,b=D+(S<<7&4294967295|S>>>25),S=O+(R^b&(D^R))+M[9]+2336552879&4294967295,O=b+(S<<12&4294967295|S>>>20),S=R+(D^O&(b^D))+M[10]+4294925233&4294967295,R=O+(S<<17&4294967295|S>>>15),S=D+(b^R&(O^b))+M[11]+2304563134&4294967295,D=R+(S<<22&4294967295|S>>>10),S=b+(O^D&(R^O))+M[12]+1804603682&4294967295,b=D+(S<<7&4294967295|S>>>25),S=O+(R^b&(D^R))+M[13]+4254626195&4294967295,O=b+(S<<12&4294967295|S>>>20),S=R+(D^O&(b^D))+M[14]+2792965006&4294967295,R=O+(S<<17&4294967295|S>>>15),S=D+(b^R&(O^b))+M[15]+1236535329&4294967295,D=R+(S<<22&4294967295|S>>>10),S=b+(R^O&(D^R))+M[1]+4129170786&4294967295,b=D+(S<<5&4294967295|S>>>27),S=O+(D^R&(b^D))+M[6]+3225465664&4294967295,O=b+(S<<9&4294967295|S>>>23),S=R+(b^D&(O^b))+M[11]+643717713&4294967295,R=O+(S<<14&4294967295|S>>>18),S=D+(O^b&(R^O))+M[0]+3921069994&4294967295,D=R+(S<<20&4294967295|S>>>12),S=b+(R^O&(D^R))+M[5]+3593408605&4294967295,b=D+(S<<5&4294967295|S>>>27),S=O+(D^R&(b^D))+M[10]+38016083&4294967295,O=b+(S<<9&4294967295|S>>>23),S=R+(b^D&(O^b))+M[15]+3634488961&4294967295,R=O+(S<<14&4294967295|S>>>18),S=D+(O^b&(R^O))+M[4]+3889429448&4294967295,D=R+(S<<20&4294967295|S>>>12),S=b+(R^O&(D^R))+M[9]+568446438&4294967295,b=D+(S<<5&4294967295|S>>>27),S=O+(D^R&(b^D))+M[14]+3275163606&4294967295,O=b+(S<<9&4294967295|S>>>23),S=R+(b^D&(O^b))+M[3]+4107603335&4294967295,R=O+(S<<14&4294967295|S>>>18),S=D+(O^b&(R^O))+M[8]+1163531501&4294967295,D=R+(S<<20&4294967295|S>>>12),S=b+(R^O&(D^R))+M[13]+2850285829&4294967295,b=D+(S<<5&4294967295|S>>>27),S=O+(D^R&(b^D))+M[2]+4243563512&4294967295,O=b+(S<<9&4294967295|S>>>23),S=R+(b^D&(O^b))+M[7]+1735328473&4294967295,R=O+(S<<14&4294967295|S>>>18),S=D+(O^b&(R^O))+M[12]+2368359562&4294967295,D=R+(S<<20&4294967295|S>>>12),S=b+(D^R^O)+M[5]+4294588738&4294967295,b=D+(S<<4&4294967295|S>>>28),S=O+(b^D^R)+M[8]+2272392833&4294967295,O=b+(S<<11&4294967295|S>>>21),S=R+(O^b^D)+M[11]+1839030562&4294967295,R=O+(S<<16&4294967295|S>>>16),S=D+(R^O^b)+M[14]+4259657740&4294967295,D=R+(S<<23&4294967295|S>>>9),S=b+(D^R^O)+M[1]+2763975236&4294967295,b=D+(S<<4&4294967295|S>>>28),S=O+(b^D^R)+M[4]+1272893353&4294967295,O=b+(S<<11&4294967295|S>>>21),S=R+(O^b^D)+M[7]+4139469664&4294967295,R=O+(S<<16&4294967295|S>>>16),S=D+(R^O^b)+M[10]+3200236656&4294967295,D=R+(S<<23&4294967295|S>>>9),S=b+(D^R^O)+M[13]+681279174&4294967295,b=D+(S<<4&4294967295|S>>>28),S=O+(b^D^R)+M[0]+3936430074&4294967295,O=b+(S<<11&4294967295|S>>>21),S=R+(O^b^D)+M[3]+3572445317&4294967295,R=O+(S<<16&4294967295|S>>>16),S=D+(R^O^b)+M[6]+76029189&4294967295,D=R+(S<<23&4294967295|S>>>9),S=b+(D^R^O)+M[9]+3654602809&4294967295,b=D+(S<<4&4294967295|S>>>28),S=O+(b^D^R)+M[12]+3873151461&4294967295,O=b+(S<<11&4294967295|S>>>21),S=R+(O^b^D)+M[15]+530742520&4294967295,R=O+(S<<16&4294967295|S>>>16),S=D+(R^O^b)+M[2]+3299628645&4294967295,D=R+(S<<23&4294967295|S>>>9),S=b+(R^(D|~O))+M[0]+4096336452&4294967295,b=D+(S<<6&4294967295|S>>>26),S=O+(D^(b|~R))+M[7]+1126891415&4294967295,O=b+(S<<10&4294967295|S>>>22),S=R+(b^(O|~D))+M[14]+2878612391&4294967295,R=O+(S<<15&4294967295|S>>>17),S=D+(O^(R|~b))+M[5]+4237533241&4294967295,D=R+(S<<21&4294967295|S>>>11),S=b+(R^(D|~O))+M[12]+1700485571&4294967295,b=D+(S<<6&4294967295|S>>>26),S=O+(D^(b|~R))+M[3]+2399980690&4294967295,O=b+(S<<10&4294967295|S>>>22),S=R+(b^(O|~D))+M[10]+4293915773&4294967295,R=O+(S<<15&4294967295|S>>>17),S=D+(O^(R|~b))+M[1]+2240044497&4294967295,D=R+(S<<21&4294967295|S>>>11),S=b+(R^(D|~O))+M[8]+1873313359&4294967295,b=D+(S<<6&4294967295|S>>>26),S=O+(D^(b|~R))+M[15]+4264355552&4294967295,O=b+(S<<10&4294967295|S>>>22),S=R+(b^(O|~D))+M[6]+2734768916&4294967295,R=O+(S<<15&4294967295|S>>>17),S=D+(O^(R|~b))+M[13]+1309151649&4294967295,D=R+(S<<21&4294967295|S>>>11),S=b+(R^(D|~O))+M[4]+4149444226&4294967295,b=D+(S<<6&4294967295|S>>>26),S=O+(D^(b|~R))+M[11]+3174756917&4294967295,O=b+(S<<10&4294967295|S>>>22),S=R+(b^(O|~D))+M[2]+718787259&4294967295,R=O+(S<<15&4294967295|S>>>17),S=D+(O^(R|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+O&4294967295}a.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var D=b-this.blockSize,M=this.B,R=this.h,O=0;O<b;){if(R==0)for(;O<=D;)o(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<b;)if(M[R++]=I.charCodeAt(O++),R==this.blockSize){o(this,M),R=0;break}}else for(;O<b;)if(M[R++]=I[O++],R==this.blockSize){o(this,M),R=0;break}}this.h=R,this.o+=b},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var D=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=D&255,D/=256;for(this.u(I),I=Array(16),b=D=0;4>b;++b)for(var M=0;32>M;M+=8)I[D++]=this.g[b]>>>M&255;return I};function h(I,b){var D=g;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=b(I)}function d(I,b){this.h=b;for(var D=[],M=!0,R=I.length-1;0<=R;R--){var O=I[R]|0;M&&O==b||(D[R]=O,M=!1)}this.g=D}var g={};function v(I){return-128<=I&&128>I?h(I,function(b){return new d([b|0],0>b?-1:0)}):new d([I|0],0>I?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(0>I)return $(_(-I));for(var b=[],D=1,M=0;I>=D;M++)b[M]=I/D|0,D*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return $(A(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(b,8)),M=x,R=0;R<I.length;R+=8){var O=Math.min(8,I.length-R),S=parseInt(I.substring(R,R+O),b);8>O?(O=_(Math.pow(b,O)),M=M.j(O).add(_(S))):(M=M.j(D),M=M.add(_(S)))}return M}var x=v(0),N=v(1),B=v(16777216);r=d.prototype,r.m=function(){if(J(this))return-$(this).m();for(var I=0,b=1,D=0;D<this.g.length;D++){var M=this.i(D);I+=(0<=M?M:4294967296+M)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(Q(this))return"0";if(J(this))return"-"+$(this).toString(I);for(var b=_(Math.pow(I,6)),D=this,M="";;){var R=bt(D,b).g;D=ut(D,R.j(b));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(I);if(D=R,Q(D))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function Q(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function J(I){return I.h==-1}r.l=function(I){return I=ut(this,I),J(I)?-1:Q(I)?0:1};function $(I){for(var b=I.g.length,D=[],M=0;M<b;M++)D[M]=~I.g[M];return new d(D,~I.h).add(N)}r.abs=function(){return J(this)?$(this):this},r.add=function(I){for(var b=Math.max(this.g.length,I.g.length),D=[],M=0,R=0;R<=b;R++){var O=M+(this.i(R)&65535)+(I.i(R)&65535),S=(O>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);M=S>>>16,O&=65535,S&=65535,D[R]=S<<16|O}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ut(I,b){return I.add($(b))}r.j=function(I){if(Q(this)||Q(I))return x;if(J(this))return J(I)?$(this).j($(I)):$($(this).j(I));if(J(I))return $(this.j($(I)));if(0>this.l(B)&&0>I.l(B))return _(this.m()*I.m());for(var b=this.g.length+I.g.length,D=[],M=0;M<2*b;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<I.g.length;R++){var O=this.i(M)>>>16,S=this.i(M)&65535,ee=I.i(R)>>>16,Ht=I.i(R)&65535;D[2*M+2*R]+=S*Ht,ht(D,2*M+2*R),D[2*M+2*R+1]+=O*Ht,ht(D,2*M+2*R+1),D[2*M+2*R+1]+=S*ee,ht(D,2*M+2*R+1),D[2*M+2*R+2]+=O*ee,ht(D,2*M+2*R+2)}for(M=0;M<b;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=b;M<2*b;M++)D[M]=0;return new d(D,0)};function ht(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ot(I,b){this.g=I,this.h=b}function bt(I,b){if(Q(b))throw Error("division by zero");if(Q(I))return new ot(x,x);if(J(I))return b=bt($(I),b),new ot($(b.g),$(b.h));if(J(b))return b=bt(I,$(b)),new ot($(b.g),b.h);if(30<I.g.length){if(J(I)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var D=N,M=b;0>=M.l(I);)D=ft(D),M=ft(M);var R=St(D,1),O=St(M,1);for(M=St(M,2),D=St(D,2);!Q(M);){var S=O.add(M);0>=S.l(I)&&(R=R.add(D),O=S),M=St(M,1),D=St(D,1)}return b=ut(I,R.j(b)),new ot(R,b)}for(R=x;0<=I.l(b);){for(D=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=_(D),S=O.j(b);J(S)||0<S.l(I);)D-=M,O=_(D),S=O.j(b);Q(O)&&(O=N),R=R.add(O),I=ut(I,S)}return new ot(R,I)}r.A=function(I){return bt(this,I).h},r.and=function(I){for(var b=Math.max(this.g.length,I.g.length),D=[],M=0;M<b;M++)D[M]=this.i(M)&I.i(M);return new d(D,this.h&I.h)},r.or=function(I){for(var b=Math.max(this.g.length,I.g.length),D=[],M=0;M<b;M++)D[M]=this.i(M)|I.i(M);return new d(D,this.h|I.h)},r.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),D=[],M=0;M<b;M++)D[M]=this.i(M)^I.i(M);return new d(D,this.h^I.h)};function ft(I){for(var b=I.g.length+1,D=[],M=0;M<b;M++)D[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(D,I.h)}function St(I,b){var D=b>>5;b%=32;for(var M=I.g.length-D,R=[],O=0;O<M;O++)R[O]=0<b?I.i(O+D)>>>b|I.i(O+D+1)<<32-b:I.i(O+D);return new d(R,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,F_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,gs=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y_,kl,K_,Hu,ed,X_,Z_,$_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var q=u[T];if(!(q in p))break t;p=p[q]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,q={next:function(){if(!T&&p<u.length){var G=p++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function x(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,T),u.apply(m,q)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:x,N.apply(null,arguments)}function B(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Q(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,q,G){for(var nt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)nt[Ot-2]=arguments[Ot];return m.prototype[q].apply(T,nt)}}function J(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const q=u.length||0,G=T.length||0;u.length=q+G;for(let nt=0;nt<G;nt++)u[q+nt]=T[nt]}else u.push(T)}}class ut{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ht(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var ft=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function St(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let p,T;for(let q=1;q<arguments.length;q++){T=arguments[q];for(p in T)u[p]=T[p];for(let G=0;G<D.length;G++)p=D[G],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function R(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function O(u){g.setTimeout(()=>{throw u},0)}function S(){var u=Ct;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ee{constructor(){this.h=this.g=null}add(m,p){const T=Ht.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Ht=new ut(()=>new U,u=>u.reset());class U{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,rt=!1,Ct=new ee,C=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(W)}};var W=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(p){O(p)}var m=Ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}rt=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function wt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ft){t:{try{bt(m.nodeName);var q=!0;break t}catch{}q=!1}q||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Q(wt,tt);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Ln(u,m,p,T,q){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=q,this.key=++Wt,this.da=this.fa=!1}function Pi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,p,T,q){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var nt=Ds(u,m,T,q);return-1<nt?(m=u[nt],p||(m.fa=!1)):(m=new Ln(m,this.src,G,!!T,q),m.fa=p,u.push(m)),m};function ws(u,m){var p=m.type;if(p in u.g){var T=u.g[p],q=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=q)&&Array.prototype.splice.call(T,q,1),G&&(Pi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ds(u,m,p,T){for(var q=0;q<u.length;++q){var G=u[q];if(!G.da&&G.listener==m&&G.capture==!!p&&G.ha==T)return q}return-1}var Cs="closure_lm_"+(1e6*Math.random()|0),Ia={};function fo(u,m,p,T,q){if(Array.isArray(m)){for(var G=0;G<m.length;G++)fo(u,m[G],p,T,q);return null}return p=mo(p),u&&u[Ce]?u.K(m,p,_(T)?!!T.capture:!1,q):gn(u,m,p,!1,T,q)}function gn(u,m,p,T,q,G){if(!m)throw Error("Invalid event type");var nt=_(q)?!!q.capture:!!q,Ot=_r(u);if(Ot||(u[Cs]=Ot=new li(u)),p=Ot.add(m,p,T,nt,G),p.proxy)return p;if(T=Mc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(q=nt),q===void 0&&(q=!1),u.addEventListener(m.toString(),T,q);else if(u.attachEvent)u.attachEvent(Ns(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Mc(){function u(p){return m.call(u.src,u.listener,p)}const m=Oc;return u}function Ma(u,m,p,T,q){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ma(u,m[G],p,T,q);else T=_(T)?!!T.capture:!!T,p=mo(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],p=Ds(G,p,T,q),-1<p&&(Pi(G[p]),Array.prototype.splice.call(G,p,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=_r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ds(m,p,T,q)),(p=-1<u?m[u]:null)&&yr(p))}function yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])ws(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ns(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=_r(m))?(ws(p,u),p.h==0&&(p.src=null,m[Cs]=null)):Pi(u)}}}function Ns(u){return u in Ia?Ia[u]:Ia[u]="on"+u}function Oc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&yr(u),u=p.call(T,m)}return u}function _r(u){return u=u[Cs],u instanceof li?u:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(u){return typeof u=="function"?u:(u[Oa]||(u[Oa]=function(m){return u.handleEvent(m)}),u[Oa])}function le(){it.call(this),this.i=new li(this),this.M=this,this.F=null}Q(le,it),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(u,m,p,T){Ma(this,u,m,p,T)};function Gt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var q=m;m=new tt(T,u),M(m,q)}if(q=!0,p)for(var G=p.length-1;0<=G;G--){var nt=m.g=p[G];q=rn(nt,T,!0,m)&&q}if(nt=m.g=u,q=rn(nt,T,!0,m)&&q,q=rn(nt,T,!1,m)&&q,p)for(G=0;G<p.length;G++)nt=m.g=p[G],q=rn(nt,T,!1,m)&&q}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Pi(p[T]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},le.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,G=0;G<m.length;++G){var nt=m[G];if(nt&&!nt.da&&nt.capture==p){var Ot=nt.listener,Ae=nt.ha||nt.src;nt.fa&&ws(u.i,nt),q=Ot.call(Ae,T)!==!1&&q}}return q&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function go(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(u){it.call(this),this.h=u,this.g={}}Q(xs,it);var Vs=[];function Is(u){St(u.g,function(m,p){this.g.hasOwnProperty(p)&&yr(m)},u),u.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Is(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,vr=g.JSON.parse,Ms=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ua(){}Ua.prototype.h=null;function La(u){return u.h||(u.h=u.i())}function Pa(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){tt.call(this,"d")}Q(ui,tt);function qa(){tt.call(this,"c")}Q(qa,tt);var Pn={},ja=null;function qi(){return ja=ja||new le}Pn.La="serverreachability";function Er(u){tt.call(this,Pn.La,u)}Q(Er,tt);function ji(u){const m=qi();Gt(m,new Er(m))}Pn.STAT_EVENT="statevent";function po(u,m){tt.call(this,Pn.STAT_EVENT,u),this.stat=m}Q(po,tt);function ie(u){const m=qi();Gt(m,new po(m,u))}Pn.Ma="timingevent";function Te(u,m){tt.call(this,Pn.Ma,u),this.size=m}Q(Te,tt);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function za(u,m,p,T,q,G){u.info(function(){if(u.g)if(G)for(var nt="",Ot=G.split("&"),Ae=0;Ae<Ot.length;Ae++){var Ut=Ot[Ae].split("=");if(1<Ut.length){var xe=Ut[0];Ut=Ut[1];var be=xe.split("_");nt=2<=be.length&&be[1]=="type"?nt+(xe+"="+Ut+"&"):nt+(xe+"=redacted&")}}else nt=null;else nt=G;return"XMLHTTP REQ ("+T+") [attempt "+q+"]: "+m+`
`+p+`
`+nt})}function Lc(u,m,p,T,q,G,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+q+"]: "+m+`
`+p+`
`+G+" "+nt})}function zi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Os(u,p)+(T?" "+T:"")})}function yo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Os(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var q=T[1];if(Array.isArray(q)&&!(1>q.length)){var G=q[0];if(G!="noop"&&G!="stop"&&G!="close")for(var nt=1;nt<q.length;nt++)q[nt]=""}}}}return Nn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}Q(jn,Ua),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Ba={},Tr={};function xn(u,m,p){u.L=1,u.v=js(an(m)),u.m=p,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),Us(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ya(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=Mo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Uc(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Vs[0]=q.toString()),q=Vs);for(var G=0;G<q.length;G++){var nt=fo(p,q[G],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),za(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const be=En(this.g);var m=this.g.Ba();const vi=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||be!=4||m==7||(m==8||0>=vi?ji(3):ji(2)),ki(this);var p=this.g.Z();this.X=p;e:if(_o(this)){var T=Ro(this.g);u="";var q=T.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),zn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==q-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,Lc(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ae=this.g;if((Ot=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Ot)){var Ut=Ot;break e}}Ut=null}if(p=Ut)zi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ls(this,p);else{this.o=!1,this.s=3,ie(12),Ue(this),zn(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<nt.length;)if(Le=vo(this,nt),Le==Tr){be==4&&(this.s=4,ie(14),p=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Ba){this.s=4,ie(15),zi(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else zi(this.i,this.l,Le,null),Ls(this,Le);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||nt.length!=0||this.h.h||(this.s=1,ie(16),p=!1),this.o=this.o&&p,!p)zi(this.i,this.l,nt,"[Invalid Chunked Response]"),Ue(this),zn(this);else if(0<nt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Ys(xe),xe.M=!0,ie(11))}}else zi(this.i,this.l,nt,null),Ls(this,nt);be==4&&Ue(this),this.o&&!this.J&&(be==4?xo(this.j,this):(this.o=!1,Us(this)))}else Bc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Ue(this),zn(this)}}}catch{}finally{}};function _o(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function vo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Tr:(p=Number(m.substring(p,T)),isNaN(p)?Ba:(T+=1,T+p>m.length?Tr:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Us(u){u.S=Date.now()+u.I,Eo(u,u.I)}function Eo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(N(u.ba,u),m)}function ki(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yo(this.i,this.A),this.L!=2&&(ji(),ie(17)),Ue(this),this.s=2,zn(this)):Eo(this,this.S-u)};function zn(u){u.j.G==0||u.J||xo(u.j,u)}function Ue(u){ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Is(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ls(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||ka(p.h,u))){if(!u.K&&ka(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var q=T;if(q[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Mr(p),Vr(p);else break t;Ja(p),ie(18)}}else p.za=q[1],0<p.za-p.T&&37500>q[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(N(p.Za,p),6e3));if(1>=br(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((u.K||p.g==u)&&Mr(p),!ht(m))for(q=p.Da.g.parse(m),m=0;m<q.length;m++){let Ut=q[m];if(p.T=Ut[0],Ut=Ut[1],p.G==2)if(Ut[0]=="c"){p.K=Ut[1],p.ia=Ut[2];const xe=Ut[3];xe!=null&&(p.la=xe,p.j.info("VER="+p.la));const be=Ut[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const vi=Ut[5];vi!=null&&typeof vi=="number"&&0<vi&&(T=1.5*vi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const Yn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var G=T.h;G.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Sr(G,G.h),G.h=null))}if(T.D){const tl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.ya=tl,Yt(T.I,T.D,tl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var nt=u;if(T.qa=Io(T,T.J?T.ia:null,T.W),nt.K){Ze(T.h,nt);var Ot=nt,Ae=T.L;Ae&&(Ot.I=Ae),Ot.B&&(ki(Ot),Us(Ot)),T.g=nt}else Co(T);0<p.i.length&&Ir(p)}else Ut[0]!="stop"&&Ut[0]!="close"||_i(p,7);else p.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?_i(p,7):Za(p):Ut[0]!="noop"&&p.l&&p.l.ta(Ut),p.v=0)}}ji(4)}catch{}}var To=class{constructor(u,m){this.g=u,this.map=m}};function fi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ar(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function br(u){return u.h?1:u.g?u.g.size:0}function ka(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sr(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fi.prototype.cancel=function(){if(this.i=Ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ha(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return J(u.i)}function Pc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Rr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ga(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Rr(u),T=Pc(u),q=T.length,G=0;G<q;G++)m.call(void 0,T[G],p&&p[G],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),q=null;if(0<=T){var G=u[p].substring(0,T);q=u[p].substring(T+1)}else G=u[p];m(G,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,qs(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var m=u.i,p=new mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),di(this,p),this.m=u.m}else u&&(m=String(u).match(Ps))?(this.h=!1,qs(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Hi(this,m[4]),this.l=yn(m[5]||"",!0),di(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(zs(m,Qa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(zs(m,Qa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(zs(p,p.charAt(0)=="/"?jc:Fa,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",zs(p,wr)),u.join("")};function an(u){return new ge(u)}function qs(u,m,p){u.j=p?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,p){m instanceof mi?(u.i=m,bo(u.i,u.h)):(p||(m=zs(m,zc)),u.i=new mi(m,u.h))}function Yt(u,m,p){u.i.set(m,p)}function js(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ao),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ao(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qa=/[#\/\?@]/g,Fa=/[#\?:]/g,jc=/[#\?]/g,zc=/[#\?@]/g,wr=/#/g;function mi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&qc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=mi.prototype,r.add=function(u,m){_n(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function gi(u,m){_n(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pi(u,m){return _n(u),m=Bn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(q){u.call(m,q,T,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const q=u[T];for(let G=0;G<q.length;G++)p.push(m[T])}return p},r.V=function(u){_n(this);let m=[];if(typeof u=="string")pi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Bn(this,u),pi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ya(u,m,p){gi(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),J(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const G=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var q=G;nt[T]!==""&&(q+="="+encodeURIComponent(String(nt[T]))),u.push(q)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function bo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(p,T){var q=T.toLowerCase();T!=q&&(gi(this,T),Ya(this,q,p))},u)),u.j=m}function Bs(u,m){const p=new pn;if(g.Image){const T=new Image;T.onload=B(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=B(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=B(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=B(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new pn,T=new AbortController,q=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(q),G.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),T(p)}catch{}}function ks(){this.g=new Ms}function kn(u,m,p){const T=p||"";try{Ga(u,function(q,G){let nt=q;_(q)&&(nt=Nn(q)),m.push(T+G+"="+encodeURIComponent(nt))})}catch(q){throw m.push(T+"type="+encodeURIComponent("_badmap")),q}}function Gi(u){this.l=u.Ub||null,this.j=u.eb||!1}Q(Gi,Ua),Gi.prototype.g=function(){return new yi(this.l,this.j)},Gi.prototype.i=(function(u){return function(){return u}})({});function yi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(yi,le),r=yi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Ka(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},r.Qa=function(u){this.g&&(this.response=u,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xa(u){let m="";return St(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ne(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Xa(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Yt(u,m,p))}function Bt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(Bt,le);var Dr=/^https?$/i,Hs=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?La(this.o):La(qn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){So(this,G);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var q in T)p.set(q,T[q]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())p.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(G=>G.toLowerCase()=="content-type"),q=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Hs,m,void 0))||T||q||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,nt]of p)this.g.setRequestHeader(G,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){So(this,G)}};function So(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Cr(u),Qn(u)}function Cr(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Nr(this):this.bb())},r.bb=function(){Nr(this)};function Nr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)He(u.Ea,0,u);else if(Gt(u,"readystatechange"),En(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=nt===0){var q=String(u.D).match(Ps)[1]||null;!q&&g.self&&g.self.location&&(q=g.self.location.protocol.slice(0,-1)),T=!Dr.test(q?q.toLowerCase():"")}p=T}if(p)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var G=2<En(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Cr(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Gs(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Gs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vr(m)}};function Ro(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ht(u[T]))continue;var p=R(u[T]);const q=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const G=m[q]||[];m[q]=G,G.push(p)}I(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function xr(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,u),this.cb=Qs("retryDelaySeedMs",1e4,u),this.Wa=Qs("forwardChannelMaxRetries",2,u),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(u&&u.concurrentRequestLimit),this.Da=new ks,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){ie(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Io(this,null,this.W),Ir(this)};function Za(u){if(wo(u),u.G==3){var m=u.U++,p=an(u.I);if(Yt(p,"SID",u.K),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),Fs(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=js(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Mo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Us(m)}Vo(u)}function Vr(u){u.g&&(Ys(u),u.g.cancel(),u.g=null)}function wo(u){Vr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Mr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ir(u){if(!Ar(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),rt||(et(),rt=!0),Ct.add(m,u),u.B=0}}function kc(u,m){return br(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(N(u.Ga,u,m),Wa(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Xe(this,this.j,u);let G=this.o;if(this.S&&(G?(G=b(G),M(G,this.S)):G=this.S),this.m!==null||this.O||(q.H=G,G=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Do(this,q,m),p=an(this.I),Yt(p,"RID",u),Yt(p,"CVER",22),this.D&&Yt(p,"X-HTTP-Session-Id",this.D),Fs(this,p),G&&(this.O?m="headers="+encodeURIComponent(String(Xa(G)))+"&"+m:this.m&&Ne(p,this.m,G)),Sr(this.h,q),this.Ua&&Yt(p,"TYPE","init"),this.P?(Yt(p,"$req",m),Yt(p,"SID","null"),q.T=!0,xn(q,p,null)):xn(q,p,m),this.G=2}}else this.G==3&&(u?$a(this,u):this.i.length==0||Ar(this.h)||$a(this))};function $a(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Yt(T,"SID",u.K),Yt(T,"RID",p),Yt(T,"AID",u.T),Fs(u,T),u.m&&u.o&&Ne(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Do(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sr(u.h,p),xn(p,T,m)}function Fs(u,m){u.H&&St(u.H,function(p,T){Yt(m,T,p)}),u.l&&Ga({},function(p,T){Yt(m,T,p)})}function Do(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var q=u.i;let G=-1;for(;;){const nt=["count="+p];G==-1?0<p?(G=q[0].g,nt.push("ofs="+G)):G=0:nt.push("ofs="+G);let Ot=!0;for(let Ae=0;Ae<p;Ae++){let Ut=q[Ae].g;const xe=q[Ae].map;if(Ut-=G,0>Ut)G=Math.max(0,q[Ae].g-100),Ot=!1;else try{kn(xe,nt,"req"+Ut+"_")}catch{T&&T(xe)}}if(Ot){T=nt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Co(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),rt||(et(),rt=!0),Ct.add(m,u),u.v=0}}function Ja(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(N(u.Fa,u),Wa(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,No(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Vr(this),No(this))};function Ys(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function No(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),Fs(u,m),u.m&&u.o&&Ne(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=js(an(m)),p.m=null,p.P=!0,hi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,Vr(this),Ja(this),ie(19))};function Mr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function xo(u,m){var p=null;if(u.g==m){Mr(u),Ys(u),u.g=null;var T=2}else if(ka(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var q=u.B;T=qi(),Gt(T,new Te(T,p)),Ir(u)}else Co(u);else if(q=m.s,q==3||q==0&&0<m.X||!(T==1&&kc(u,m)||T==2&&Ja(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),q){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Wa(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const q=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||qs(T,"https"),js(T),q?Bs(T.toString(),p):Vn(T.toString(),p)}else ie(2);u.G=0,u.l&&u.l.sa(m),Vo(u),wo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Vo(u){if(u.G=0,u.ka=[],u.l){const m=Ha(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function Io(u,m,p){var T=p instanceof ge?an(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),Hi(T,T.s);else{var q=g.location;T=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var G=new ge(null);T&&qs(G,T),m&&(G.g=m),q&&Hi(G,q),p&&(G.l=p),T=G}return p=u.D,m=u.ya,p&&m&&Yt(T,p,m),Yt(T,"VER",u.la),Fs(u,T),T}function Mo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Gi({eb:p})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oo(){}r=Oo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Or(){}Or.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){le.call(this),this.g=new xr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ht(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ht(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fn(this)}Q($e,le),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Za(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Nn(u),u=p);m.i.push(new To(m.Ya++,u)),m.G==3&&Ir(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Za(this.g),delete this.g,$e.aa.N.call(this)};function Uo(u){ui.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Q(Uo,ui);function Lo(){qa.call(this),this.status=1}Q(Lo,qa);function Fn(u){this.g=u}Q(Fn,Oo),Fn.prototype.ua=function(){Gt(this.g,"a")},Fn.prototype.ta=function(u){Gt(this.g,new Uo(u))},Fn.prototype.sa=function(u){Gt(this.g,new Lo)},Fn.prototype.ra=function(){Gt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,$_=function(){return new Or},Z_=function(){return qi()},X_=Pn,ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Hu=Bi,ci.COMPLETE="complete",K_=ci,Pa.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",le.prototype.listen=le.prototype.K,kl=Pa,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Y_=Bt}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",Py="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new z_("@firebase/firestore");function ua(){return hr.logLevel}function at(r,...e){if(hr.logLevel<=qt.DEBUG){const i=e.map(bd);hr.debug(`Firestore (${Ca}): ${r}`,...i)}}function Oi(r,...e){if(hr.logLevel<=qt.ERROR){const i=e.map(bd);hr.error(`Firestore (${Ca}): ${r}`,...i)}}function _a(r,...e){if(hr.logLevel<=qt.WARN){const i=e.map(bd);hr.warn(`Firestore (${Ca}): ${r}`,...i)}}function bd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,J_(r,a,i)}function J_(r,e,i){let a=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Oi(a),new Error(a)}function kt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||J_(e,o,a)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Da{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class F1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Y1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ps,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ps)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new W_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class K1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new K1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,C1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=$1(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function It(r,e){return r<e?-1:r>e?1:0}function nd(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return Gf(o)===Gf(h)?It(o,h):Gf(o)?1:-1}return It(r.length,e.length)}const J1=55296,W1=57343;function Gf(r){const e=r.charCodeAt(0);return e>=J1&&e<=W1}function va(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&yt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),o=Wn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class Jt extends Wn{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const tA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return tA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new Be([jy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Jt.fromString(e))}static fromName(e){return new mt(Jt.fromString(e).popFirst(5))}static empty(){return new mt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(r,e,i){if(!i)throw new st(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function eA(r,e,i,a){if(e===!0&&a===!0)throw new st(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function zy(r){if(!mt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function By(r){if(mt.isDocumentKey(r))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ev(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Ea(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(r);throw new st(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e){const i={typeString:r};return e&&(i.value=e),i}function ro(r,e){if(!ev(r))throw new st(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new st(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,Hy=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Hy);return new ne(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ky)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ro(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ee("string",ne._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ne(0,0))}static max(){return new Et(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function nA(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new _s(o,mt.empty(),e)}function iA(r){return new _s(r.readTime,r.key,$l)}class _s{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _s(Et.min(),mt.empty(),$l)}static max(){return new _s(Et.max(),mt.empty(),$l)}}function sA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:It(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==rA)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===h&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function lA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=-1;function mc(r){return r==null}function Wu(r){return r===0&&1/r==-1/0}function oA(r){return typeof r=="number"&&Number.isInteger(r)&&!Wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="";function uA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Gy(e)),e=cA(r.get(i),e);return Gy(e)}function cA(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case nv:i+="";break;default:i+=h}}return i}function Gy(r){return r+nv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ss(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function iv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new ze(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new De(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new mn([])}unionWith(e){let i=new De(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new sv("Invalid base64 string: "+h):h}})(e);return new ke(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const hA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(r){if(kt(!!r,39018),typeof r=="string"){let e=0;const i=hA.exec(r);if(kt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Es(r){return typeof r=="string"?ke.fromBase64String(r):ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="server_timestamp",av="__type__",lv="__previous_value__",ov="__local_write_time__";function gc(r){return(r?.mapValue?.fields||{})[av]?.stringValue===rv}function pc(r){const e=r.mapValue.fields[lv];return gc(e)?pc(e):e}function Jl(r){const e=vs(r.mapValue.fields[ov].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,i,a,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const tc="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__type__",dA="__max__",ju={mapValue:{}},cv="__vector__",ec="value";function Ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gc(r)?4:gA(r)?9007199254740991:mA(r)?10:11:yt(28295,{value:r})}function ai(r,e){if(r===e)return!0;const i=Ts(r);if(i!==Ts(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=vs(o.timestampValue),g=vs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Es(o.bytesValue).isEqual(Es(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return va(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Qy(d)!==Qy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ai(d[v],g[v])))return!1;return!0})(r,e);default:return yt(52216,{left:r})}}function to(r,e){return(r.values||[]).find((i=>ai(i,e)))!==void 0}function Ta(r,e){if(r===e)return 0;const i=Ts(r),a=Ts(e);if(i!==a)return It(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return Yy(r.timestampValue,e.timestampValue);case 4:return Yy(Jl(r),Jl(e));case 5:return nd(r.stringValue,e.stringValue);case 6:return(function(h,d){const g=Es(h),v=Es(d);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=It(g[_],v[_]);if(A!==0)return A}return It(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=It(de(h.latitude),de(d.latitude));return g!==0?g:It(de(h.longitude),de(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Ky(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},v=d.fields||{},_=g[ec]?.arrayValue,A=v[ec]?.arrayValue,x=It(_?.values?.length||0,A?.values?.length||0);return x!==0?x:Ky(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ju.mapValue&&d===ju.mapValue)return 0;if(h===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let x=0;x<v.length&&x<A.length;++x){const N=nd(v[x],A[x]);if(N!==0)return N;const B=Ta(g[v[x]],_[A[x]]);if(B!==0)return B}return It(v.length,A.length)})(r.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function Yy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return It(r,e);const i=vs(r),a=vs(e),o=It(i.seconds,a.seconds);return o!==0?o:It(i.nanos,a.nanos)}function Ky(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ta(i[o],a[o]);if(h)return h}return It(i.length,a.length)}function Aa(r){return id(r)}function id(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=vs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Es(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=id(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Gu(r){switch(Ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Gu(e):16;case 5:return 2*r.stringValue.length;case 6:return Es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Gu(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ss(a.fields,((h,d)=>{o+=h.length+Gu(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function nc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sd(r){return!!r&&"integerValue"in r}function wd(r){return!!r&&"arrayValue"in r}function Xy(r){return!!r&&"nullValue"in r}function Zy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qu(r){return!!r&&"mapValue"in r}function mA(r){return(r?.mapValue?.fields||{})[uv]?.stringValue===cv}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ss(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Fl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(r.arrayValue.values[i]);return e}return{...r}}function gA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Be.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Fl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ss(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new sn(Fl(this.value))}}function hv(r){const e=[];return Ss(r.fields,((i,a)=>{const o=new Be([i]);if(Qu(a)){const h=hv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),sn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ke(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i){this.position=e,this.inclusive=i}}function $y(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Ta(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Jy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function pA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{}class ve extends fv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new _A(e,i,a):i==="array-contains"?new TA(e,a):i==="in"?new AA(e,a):i==="not-in"?new bA(e,a):i==="array-contains-any"?new SA(e,a):new ve(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new vA(e,a):new EA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ta(i,this.value)):i!==null&&Ts(this.value)===Ts(i)&&this.matchesComparison(Ta(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends fv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Un(e,i)}matches(e){return dv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dv(r){return r.op==="and"}function mv(r){return yA(r)&&dv(r)}function yA(r){for(const e of r.filters)if(e instanceof Un)return!1;return!0}function rd(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Aa(r.value);if(mv(r))return r.filters.map((e=>rd(e))).join(",");{const e=r.filters.map((i=>rd(i))).join(",");return`${r.op}(${e})`}}function gv(r,e){return r instanceof ve?(function(a,o){return o instanceof ve&&a.op===o.op&&a.field.isEqual(o.field)&&ai(a.value,o.value)})(r,e):r instanceof Un?(function(a,o){return o instanceof Un&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&gv(d,o.filters[g])),!0):!1})(r,e):void yt(19439)}function pv(r){return r instanceof ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Aa(i.value)}`})(r):r instanceof Un?(function(i){return i.op.toString()+" {"+i.getFilters().map(pv).join(" ,")+"}"})(r):"Filter"}class _A extends ve{constructor(e,i,a){super(e,i,a),this.key=mt.fromName(a.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class vA extends ve{constructor(e,i){super(e,"in",i),this.keys=yv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class EA extends ve{constructor(e,i){super(e,"not-in",i),this.keys=yv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function yv(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class TA extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return wd(i)&&to(i.arrayValue,this.value)}}class AA extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&to(this.value.arrayValue,i)}}class bA extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!to(this.value.arrayValue,i)}}class SA extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>to(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Wy(r,e=null,i=[],a=[],o=null,h=null,d=null){return new RA(r,e,i,a,o,h,d)}function Dd(r){const e=Tt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Aa(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Aa(a))).join(",")),e.Te=i}return e.Te}function Cd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!pA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Jy(r.startAt,e.startAt)&&Jy(r.endAt,e.endAt)}function ad(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wA(r,e,i,a,o,h,d,g){return new mr(r,e,i,a,o,h,d,g)}function _v(r){return new mr(r)}function t_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Nd(r){return r.collectionGroup!==null}function ma(r){const e=Tt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new De(Be.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new eo(h,a))})),i.has(Be.keyField().canonicalString())||e.Ie.push(new eo(Be.keyField(),a))}return e.Ie}function ti(r){const e=Tt(r);return e.Ee||(e.Ee=DA(e,ma(r))),e.Ee}function DA(r,e){if(r.limitType==="F")return Wy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new eo(o.field,h)}));const i=r.endAt?new ba(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ba(r.startAt.position,r.startAt.inclusive):null;return Wy(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function ld(r,e){const i=r.filters.concat([e]);return new mr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function ic(r,e,i){return new mr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function yc(r,e){return Cd(ti(r),ti(e))&&r.limitType===e.limitType}function vv(r){return`${Dd(ti(r))}|lt:${r.limitType}`}function ca(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>pv(o))).join(", ")}]`),mc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Aa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Aa(o))).join(",")),`Target(${a})`})(ti(r))}; limitType=${r.limitType})`}function _c(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of ma(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const _=$y(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,ma(a),o)||a.endAt&&!(function(d,g,v){const _=$y(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,ma(a),o))})(r,e)}function CA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ev(r){return(e,i)=>{let a=!1;for(const o of ma(r)){const h=NA(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function NA(r,e,i){const a=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Ta(v,_):yt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return iv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new ae(mt.comparator);function Ui(){return xA}const Tv=new ae(mt.comparator);function Hl(...r){let e=Tv;for(const i of r)e=e.insert(i.key,i);return e}function Av(r){let e=Tv;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function cr(){return Yl()}function bv(){return Yl()}function Yl(){return new gr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const VA=new ae(mt.comparator),IA=new De(mt.comparator);function Mt(...r){let e=IA;for(const i of r)e=e.add(i);return e}const MA=new De(It);function OA(){return MA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function Sv(r){return{integerValue:""+r}}function UA(r,e){return oA(e)?Sv(e):xd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function LA(r,e,i){return r instanceof sc?(function(o,h){const d={fields:{[av]:{stringValue:rv},[ov]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&gc(h)&&(h=pc(h)),h&&(d.fields[lv]=h),{mapValue:d}})(i,e):r instanceof no?wv(r,e):r instanceof io?Dv(r,e):(function(o,h){const d=Rv(o,h),g=e_(d)+e_(o.Ae);return sd(d)&&sd(o.Ae)?Sv(g):xd(o.serializer,g)})(r,e)}function PA(r,e,i){return r instanceof no?wv(r,e):r instanceof io?Dv(r,e):i}function Rv(r,e){return r instanceof rc?(function(a){return sd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class sc extends vc{}class no extends vc{constructor(e){super(),this.elements=e}}function wv(r,e){const i=Cv(e);for(const a of r.elements)i.some((o=>ai(o,a)))||i.push(a);return{arrayValue:{values:i}}}class io extends vc{constructor(e){super(),this.elements=e}}function Dv(r,e){let i=Cv(e);for(const a of r.elements)i=i.filter((o=>!ai(o,a)));return{arrayValue:{values:i}}}class rc extends vc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function e_(r){return de(r.integerValue||r.doubleValue)}function Cv(r){return wd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qA(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof no&&o instanceof no||a instanceof io&&o instanceof io?va(a.elements,o.elements,ai):a instanceof rc&&o instanceof rc?ai(a.Ae,o.Ae):a instanceof sc&&o instanceof sc})(r.transform,e.transform)}class jA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ec{}function Nv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vv(r.key,ei.none()):new ao(r.key,r.data,ei.none());{const i=r.data,a=sn.empty();let o=new De(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Rs(r.key,a,new mn(o.toArray()),ei.none())}}function zA(r,e,i){r instanceof ao?(function(o,h,d){const g=o.value.clone(),v=i_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Rs?(function(o,h,d){if(!Fu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=i_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(xv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(r,e,i,a){return r instanceof ao?(function(h,d,g,v){if(!Fu(h.precondition,d))return g;const _=h.value.clone(),A=s_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Rs?(function(h,d,g,v){if(!Fu(h.precondition,d))return g;const _=s_(h.fieldTransforms,v,d),A=d.data;return A.setAll(xv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(r,e,i,a):(function(h,d,g){return Fu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function BA(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=Rv(a.transform,o||null);h!=null&&(i===null&&(i=sn.empty()),i.set(a.field,h))}return i||null}function n_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&va(a,o,((h,d)=>qA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ao extends Ec{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends Ec{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function xv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function i_(r,e,i){const a=new Map;kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,PA(d,g,i[o]))}return a}function s_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,LA(h,d,e))}return a}class Vv extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&zA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=bv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Nv(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,((i,a)=>n_(i,a)))&&va(this.baseMutations,e.baseMutations,((i,a)=>n_(i,a)))}}class Vd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){kt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return VA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Vd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Pt;function FA(r){switch(r){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function Iv(r){if(r===void 0)return Oi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case _e.OK:return Y.OK;case _e.CANCELLED:return Y.CANCELLED;case _e.UNKNOWN:return Y.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Y.INTERNAL;case _e.UNAVAILABLE:return Y.UNAVAILABLE;case _e.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case _e.NOT_FOUND:return Y.NOT_FOUND;case _e.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case _e.ABORTED:return Y.ABORTED;case _e.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case _e.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:r})}}(Pt=_e||(_e={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new gs([4294967295,4294967295],0);function r_(r){const e=YA().encode(r),i=new F_;return i.update(e),new Uint8Array(i.digest())}function a_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new gs([i,a],0),new gs([o,h],0)]}class Id{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(a<0)throw new Gl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=gs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(gs.fromNumber(a)));return o.compare(KA)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=r_(e),[a,o]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Id(h,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=r_(e),[a,o]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Tc(Et.min(),o,new ae(It),Ui(),Mt())}}class lo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lo(a,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Mv{constructor(e,i){this.targetId=e,this.Ce=i}}class Ov{constructor(e,i,a=ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class l_{constructor(){this.ve=0,this.Fe=o_(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:h})}})),new lo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=o_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=zu(),this.He=zu(),this.Ye=new ae(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ad(h))if(a===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,Et.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Es(a).toUint8Array()}catch(v){if(v instanceof sv)return _a("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Id(d,o,h)}catch(v){return _a(v instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&ad(g.target)){const v=new mt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Mt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Tc(e,i,this.Ye,this.je,a);return this.je=Ui(),this.Je=zu(),this.He=zu(),this.Ye=new ae(It),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new l_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new De(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new De(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zu(){return new ae(mt.comparator)}function o_(){return new ae(mt.comparator)}const ZA={asc:"ASCENDING",desc:"DESCENDING"},$A={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JA={and:"AND",or:"OR"};class WA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function od(r,e){return r.useProto3Json||mc(e)?e:{value:e}}function ac(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tb(r,e){return ac(r,e.toTimestamp())}function ni(r){return kt(!!r,49232),Et.fromTimestamp((function(i){const a=vs(i);return new ne(a.seconds,a.nanos)})(r))}function Md(r,e){return ud(r,e).canonicalString()}function ud(r,e){const i=(function(o){return new Jt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Lv(r){const e=Jt.fromString(r);return kt(Bv(e),10190,{key:e.toString()}),e}function cd(r,e){return Md(r.databaseId,e.path)}function Qf(r,e){const i=Lv(e);if(i.get(1)!==r.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(qv(i))}function Pv(r,e){return Md(r.databaseId,e)}function eb(r){const e=Lv(r);return e.length===4?Jt.emptyPath():qv(e)}function hd(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qv(r){return kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u_(r,e,i){return{name:cd(r,e),fields:i.value.mapValue.fields}}function nb(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:Iv(_.code);return new st(A,_.message||"")})(d);i=new Ov(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qf(r,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):Et.min(),g=new sn({mapValue:{fields:a.document.fields}}),v=Ke.newFoundDocument(o,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Yu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Qf(r,a.document),h=a.readTime?ni(a.readTime):Et.min(),d=Ke.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Yu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Qf(r,a.document),h=a.removedTargetIds||[];i=new Yu([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new QA(o,h),g=a.targetId;i=new Mv(g,d)}}return i}function ib(r,e){let i;if(e instanceof ao)i={update:u_(r,e.key,e.value)};else if(e instanceof Vv)i={delete:cd(r,e.key)};else if(e instanceof Rs)i={update:u_(r,e.key,e.data),updateMask:fb(e.fieldMask)};else{if(!(e instanceof kA))return yt(16599,{Vt:e.type});i={verify:cd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:tb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(r,e.precondition)),i}function sb(r,e){return r&&r.length>0?(kt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new jA(d,o.transformResults||[])})(i,e)))):[]}function rb(r,e){return{documents:[Pv(r,e.path)]}}function ab(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Pv(r,o);const h=(function(_){if(_.length!==0)return zv(Un.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:ha(N.field),direction:ub(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=od(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function lb(r){let e=eb(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(x){const N=jv(x);return N instanceof Un&&mv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((N=>(function(Q){return new eo(fa(Q.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let N;return N=typeof x=="object"?x.value:x,mc(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(x){const N=!!x.before,B=x.values||[];return new ba(B,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const N=!x.before,B=x.values||[];return new ba(B,N)})(i.endAt)),wA(e,o,d,h,g,"F",v,_)}function ob(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function jv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=fa(i.unaryFilter.field);return ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=fa(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=fa(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fa(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ve.create(fa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Un.create(i.compositeFilter.filters.map((a=>jv(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function ub(r){return ZA[r]}function cb(r){return $A[r]}function hb(r){return JA[r]}function ha(r){return{fieldPath:r.canonicalString()}}function fa(r){return Be.fromServerFormat(r.fieldPath)}function zv(r){return r instanceof ve?(function(i){if(i.op==="=="){if(Zy(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NAN"}};if(Xy(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Zy(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NAN"}};if(Xy(i.value))return{unaryFilter:{field:ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(i.field),op:cb(i.op),value:i.value}}})(r):r instanceof Un?(function(i){const a=i.getFilters().map((o=>zv(o)));return a.length===1?a[0]:{compositeFilter:{op:hb(i.op),filters:a}}})(r):yt(54877,{filter:r})}function fb(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Bv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,i,a,o,h=Et.min(),d=Et.min(),g=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.yt=e}}function mb(r){const e=lb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ic(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.Cn=new pb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(_s.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class pb{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new De(Jt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new De(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(kv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sa(0)}static cr(){return new Sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",yb=1048576;function f_([r,e],[i,a]){const o=It(r,i);return o===0?It(e,a):o}class _b{constructor(e){this.Ir=e,this.buffer=new De(f_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();f_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class vb{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(h_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xa(i)?at(h_,"Ignoring IndexedDB error during garbage collection: ",i):await Na(i)}await this.Vr(3e5)}))}}class Eb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(dc.ce);const a=new _b(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(c_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,i)))).next((x=>(h=x,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),ua()<=qt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${x} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:x}))))}}function Tb(r,e){return new Eb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.changes=new gr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Kl(a.mutation,o,mn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Mt()){const o=cr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Hl();return h.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=cr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Mt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let h=Ui();const d=Yl(),g=(function(){return Yl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Rs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new bb(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Yl();let o=new ae(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||mn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const x=(o.get(g.batchId)||Mt()).add(v);o=o.insert(g.batchId,x)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,x=bv();A.forEach((N=>{if(!h.has(N)){const B=Nv(i.get(N),a.get(N));B!==null&&x.set(N,B),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Nd(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Z.resolve(cr());let g=$l,v=h;return d.next((_=>Z.forEach(_,((A,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Mt()))).next((A=>({batchId:g,changes:Av(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((a=>{let o=Hl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next((g=>Z.forEach(g,(v=>{const _=(function(x,N){return new mr(N,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((x,N)=>{d=d.insert(x,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let g=Hl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Kl(A.mutation,_,mn.empty(),ne.now()),_c(i,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:mb(o.bundledQuery),readTime:ni(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=cr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=cr(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ae(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=cr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=cr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new GA(i,a));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.Qr=new De(Oe.$r),this.Ur=new De(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new mt(new Jt([])),a=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Jt([])),a=new Oe(i,e),o=new Oe(i,e+1);let h=Mt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Oe(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new De(Oe.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new HA(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Rd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new De(It);return i.forEach((o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;mt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new mt(h),0);let g=new De(It);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Oe(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Oe(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.ri=e,this.docs=(function(){return new ae(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ui();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||sA(iA(A),a)<=0||(o.has(A.key)||_c(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,a,o){yt(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new xb(this)}getSize(e){return Z.resolve(this.size)}}class xb extends Ab{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.persistence=e,this.si=new gr((i=>Dd(i)),Cd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Od,this.targetCount=0,this.ai=Sa.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Sa(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new Db,this.referenceDelegate=e(this),this.Pi=new Vb(this),this.indexManager=new gb,this.remoteDocumentCache=(function(o){return new Nb(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new db(i),this.Ii=new Rb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Cb(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){at("MemoryPersistence","Starting transaction:",e);const o=new Ib(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Ib extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Ri=new Od,this.Vi=null}static mi(e){return new Ud(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.pi=new gr((a=>uA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Tb(this,i)}static mi(e,i){return new lc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gu(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ld(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RT()?8:lA(bT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Mb;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(ua()<=qt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ua()<=qt.DEBUG&&at("QueryEngine","Query:",ca(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ua()<=qt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Z.resolve())}ys(e,i){if(t_(i))return Z.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ic(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,ic(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return t_(i)||o.isEqual(Et.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?Z.resolve(null):(ua()<=qt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ca(i)),this.vs(e,d,i,nA(o,$l)).next((g=>g)))}))}Ds(e,i){let a=new De(Ev(e));return i.forEach(((o,h)=>{_c(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return ua()<=qt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ca(i)),this.ps.getDocumentsMatchingQuery(e,i,_s.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="LocalStore",Ub=3e8;class Lb{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(It),this.xs=new gr((h=>Dd(h)),Cd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Pb(r,e,i,a){return new Lb(r,e,i,a)}async function Gv(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let v=Mt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function qb(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const x=_.batch,N=x.keys();let B=Z.resolve();return N.forEach((Q=>{B=B.next((()=>A.getEntry(v,Q))).next((J=>{const $=_.docVersions.get(Q);kt($!==null,48541),J.version.compareTo($)<0&&(x.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(v,x)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Qv(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function jb(r,e){const i=Tt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,x)=>{const N=o.get(x);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,x))));let B=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(x)!==null?B=B.withResumeToken(ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,a)),o=o.insert(x,B),(function(J,$,ut){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=Ub?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(N,B,A)&&g.push(i.Pi.updateTargetData(h,B))}));let v=Ui(),_=Mt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(zb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((x=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function zb(r,e,i){let a=Mt(),o=Mt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Ui();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):at(Pd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Bb(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Rd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function kb(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new fs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fd(r,e,i){const a=Tt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xa(d))throw d;at(Pd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function d_(r,e,i){const a=Tt(r);let o=Et.min(),h=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const x=Tt(v),N=x.xs.get(A);return N!==void 0?Z.resolve(x.Ms.get(N)):x.Pi.getTargetData(_,A)})(a,d,ti(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Mt()))).next((g=>(Hb(a,CA(e),g),{documents:g,Qs:h})))))}function Hb(r,e,i){let a=r.Os.get(e)||Et.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class m_{constructor(){this.activeTargetIds=OA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gb{constructor(){this.Mo=new m_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class p_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(g_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function dd(){return Bu===null?Bu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",Fb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===tc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=dd(),g=this.zo(e,i.toUriEncodedString());at(Ff,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),A=Td(_);return this.Jo(e,g,v,a,A).then((x=>(at(Ff,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw _a(Ff,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ca})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=Fb[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class Xb extends Yb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=dd();return new Promise(((g,v)=>{const _=new Y_;_.setWithCredentials(!0),_.listenOnce(K_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hu.NO_ERROR:const x=_.getResponseJson();at(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case Hu.TIMEOUT:at(Fe,`RPC '${e}' ${d} timed out`),v(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const N=_.getStatus();if(at(Fe,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Q=B?.error;if(Q&&Q.status&&Q.message){const J=(function(ut){const ht=ut.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ht)>=0?ht:Y.UNKNOWN})(Q.status);v(new st(J,Q.message))}else v(new st(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=dd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$_(),g=Z_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const x=d.createWebChannel(A,v);this.I_(x);let N=!1,B=!1;const Q=new Kb({Yo:$=>{B?at(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(N||(at(Fe,`Opening RPC '${e}' stream ${o} transport.`),x.open(),N=!0),at(Fe,`RPC '${e}' stream ${o} sending:`,$),x.send($))},Zo:()=>x.close()}),J=($,ut,ht)=>{$.listen(ut,(ot=>{try{ht(ot)}catch(bt){setTimeout((()=>{throw bt}),0)}}))};return J(x,kl.EventType.OPEN,(()=>{B||(at(Fe,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),J(x,kl.EventType.CLOSE,(()=>{B||(B=!0,at(Fe,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(x))})),J(x,kl.EventType.ERROR,($=>{B||(B=!0,_a(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),Q.a_(new st(Y.UNAVAILABLE,"The operation could not be completed")))})),J(x,kl.EventType.MESSAGE,($=>{if(!B){const ut=$.data[0];kt(!!ut,16349);const ht=ut,ot=ht?.error||ht[0]?.error;if(ot){at(Fe,`RPC '${e}' stream ${o} received error:`,ot);const bt=ot.status;let ft=(function(b){const D=_e[b];if(D!==void 0)return Iv(D)})(bt),St=ot.message;ft===void 0&&(ft=Y.INTERNAL,St="Unknown error status: "+bt+" with message "+ot.message),B=!0,Q.a_(new st(ft,St)),x.close()}else at(Fe,`RPC '${e}' stream ${o} received:`,ut),Q.u_(ut)}})),J(g,X_.STAT_EVENT,($=>{$.stat===ed.PROXY?at(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===ed.NOPROXY&&at(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return new WA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class Yv{constructor(e,i,a,o,h,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new st(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zb extends Yv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=nb(this.serializer,e),a=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hd(this.serializer),i.addTarget=(function(h,d){let g;const v=d.target;if(g=ad(v)?{documents:rb(h,v)}:{query:ab(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Uv(h,d.resumeToken);const _=od(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=ac(h,d.snapshotVersion.toTimestamp());const _=od(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=ob(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hd(this.serializer),i.removeTarget=e,this.q_(i)}}class $b extends Yv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=sb(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>ib(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{}class Wb extends Jb{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ud(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(Y.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ud(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="RemoteStore";class eS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{pr(this)&&(at(fr,"Restarting streams for network reachability change."),await(async function(v){const _=Tt(v);_.Ea.add(4),await oo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await bc(_)})(this))}))})),this.Ra=new tS(a,o)}}async function bc(r){if(pr(r))for(const e of r.da)await e(!0)}async function oo(r){for(const e of r.da)await e(!1)}function Kv(r,e){const i=Tt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Bd(i)?zd(i):Va(i).O_()&&jd(i,e))}function qd(r,e){const i=Tt(r),a=Va(i);i.Ia.delete(e),a.O_()&&Xv(i,e),i.Ia.size===0&&(a.O_()?a.L_():pr(i)&&i.Ra.set("Unknown"))}function jd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Va(r).Y_(e)}function Xv(r,e){r.Va.Ue(e),Va(r).Z_(e)}function zd(r){r.Va=new XA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Va(r).start(),r.Ra.ua()}function Bd(r){return pr(r)&&!Va(r).x_()&&r.Ia.size>0}function pr(r){return Tt(r).Ea.size===0}function Zv(r){r.Va=void 0}async function nS(r){r.Ra.set("Online")}async function iS(r){r.Ia.forEach(((e,i)=>{jd(r,e)}))}async function sS(r,e){Zv(r),Bd(r)?(r.Ra.ha(e),zd(r)):r.Ra.set("Unknown")}async function rS(r,e,i){if(r.Ra.set("Online"),e instanceof Ov&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){at(fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oc(r,a)}else if(e instanceof Yu?r.Va.Ze(e):e instanceof Mv?r.Va.st(e):r.Va.tt(e),!i.isEqual(Et.min()))try{const a=await Qv(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Xv(h,v);const x=new fs(A.target,v,_,A.sequenceNumber);jd(h,x)})),h.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at(fr,"Failed to raise snapshot:",a),await oc(r,a)}}async function oc(r,e,i){if(!xa(e))throw e;r.Ea.add(1),await oo(r),r.Ra.set("Offline"),i||(i=()=>Qv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(fr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bc(r)}))}function $v(r,e){return e().catch((i=>oc(r,i,e)))}async function Sc(r){const e=Tt(r),i=As(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rd;for(;aS(e);)try{const o=await Bb(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,lS(e,o)}catch(o){await oc(e,o)}Jv(e)&&Wv(e)}function aS(r){return pr(r)&&r.Ta.length<10}function lS(r,e){r.Ta.push(e);const i=As(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Jv(r){return pr(r)&&!As(r).x_()&&r.Ta.length>0}function Wv(r){As(r).start()}async function oS(r){As(r).ra()}async function uS(r){const e=As(r);for(const i of r.Ta)e.ea(i.mutations)}async function cS(r,e,i){const a=r.Ta.shift(),o=Vd.from(a,e,i);await $v(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sc(r)}async function hS(r,e){e&&As(r).X_&&await(async function(a,o){if((function(d){return FA(d)&&d!==Y.ABORTED})(o.code)){const h=a.Ta.shift();As(a).B_(),await $v(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Sc(a)}})(r,e),Jv(r)&&Wv(r)}async function __(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),at(fr,"RemoteStore received new credentials");const a=pr(i);i.Ea.add(3),await oo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await bc(i)}async function fS(r,e){const i=Tt(r);e?(i.Ea.delete(2),await bc(i)):e||(i.Ea.add(2),await oo(i),i.Ra.set("Unknown"))}function Va(r){return r.ma||(r.ma=(function(i,a,o){const h=Tt(i);return h.sa(),new Zb(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:nS.bind(null,r),t_:iS.bind(null,r),r_:sS.bind(null,r),H_:rS.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Bd(r)?zd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Zv(r))}))),r.ma}function As(r){return r.fa||(r.fa=(function(i,a,o){const h=Tt(i);return h.sa(),new $b(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:oS.bind(null,r),r_:hS.bind(null,r),ta:uS.bind(null,r),na:cS.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Sc(r)):(await r.fa.stop(),r.Ta.length>0&&(at(fr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new kd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(r,e){if(Oi("AsyncQueue",`${e}: ${r}`),xa(r))return new st(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Hl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ga;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new ae(mt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ra{constructor(e,i,a,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ra(e,i,ga.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mS{constructor(){this.queries=E_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),h=o.queries;o.queries=E_(),h.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function E_(){return new gr((r=>vv(r)),yc)}async function gS(r,e){const i=Tt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new dS,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Hd(d,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Gd(i)}async function pS(r,e){const i=Tt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function yS(r,e){const i=Tt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Gd(i)}function _S(r,e,i){const a=Tt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Gd(r){r.Ca.forEach((e=>{e.next()}))}var md,T_;(T_=md||(md={})).Ma="default",T_.Cache="cache";class vS{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ra(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.key=e}}class e0{constructor(e){this.key=e}}class ES{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Ev(e),this.tu=new ga(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new v_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,x)=>{const N=o.get(A),B=_c(this.query,x)?x:null,Q=!!N&&this.mutatedKeys.has(N.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let $=!1;N&&B?N.data.isEqual(B.data)?Q!==J&&(a.track({type:3,doc:B}),$=!0):this.su(N,B)||(a.track({type:2,doc:B}),$=!0,(v&&this.eu(B,v)>0||_&&this.eu(B,_)<0)&&(g=!0)):!N&&B?(a.track({type:0,doc:B}),$=!0):N&&!B&&(a.track({type:1,doc:N}),$=!0,(v||_)&&(g=!0)),$&&(B?(d=d.add(B),h=J?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,x)=>(function(B,Q){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return J(B)-J(Q)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ra(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new e0(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new t0(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ra.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qd="SyncEngine";class TS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class AS{constructor(e){this.key=e,this.hu=!1}}class bS{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new gr((g=>vv(g)),yc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new Od,this.Vu={},this.mu=new Map,this.fu=Sa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SS(r,e,i=!0){const a=l0(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await n0(a,e,i,!0),o}async function RS(r,e){const i=l0(r);await n0(i,e,!0,!1)}async function n0(r,e,i,a){const o=await kb(r.localStore,ti(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await wS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Kv(r.remoteStore,o),g}async function wS(r,e,i,a,o){r.pu=(x,N,B)=>(async function(J,$,ut,ht){let ot=$.view.ru(ut);ot.Cs&&(ot=await d_(J.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,ot))));const bt=ht&&ht.targetChanges.get($.targetId),ft=ht&&ht.targetMismatches.get($.targetId)!=null,St=$.view.applyChanges(ot,J.isPrimaryClient,bt,ft);return b_(J,$.targetId,St.au),St.snapshot})(r,x,N,B);const h=await d_(r.localStore,e,!0),d=new ES(e,h.Qs),g=d.ru(h.documents),v=lo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);b_(r,i,_.au);const A=new TS(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function DS(r,e,i){const a=Tt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!yc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&qd(a.remoteStore,o.targetId),gd(a,o.targetId)})).catch(Na)):(gd(a,o.targetId),await fd(a.localStore,o.targetId,!0))}async function CS(r,e){const i=Tt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qd(i.remoteStore,a.targetId))}async function NS(r,e,i){const a=LS(r);try{const o=await(function(d,g){const v=Tt(d),_=ne.now(),A=g.reduce(((B,Q)=>B.add(Q.key)),Mt());let x,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Q=Ui(),J=Mt();return v.Ns.getEntries(B,A).next(($=>{Q=$,Q.forEach(((ut,ht)=>{ht.isValidDocument()||(J=J.add(ut))}))})).next((()=>v.localDocuments.getOverlayedDocuments(B,Q))).next(($=>{x=$;const ut=[];for(const ht of g){const ot=BA(ht,x.get(ht.key).overlayedDocument);ot!=null&&ut.push(new Rs(ht.key,ot,hv(ot.value.mapValue),ei.exists(!0)))}return v.mutationQueue.addMutationBatch(B,_,ut,g)})).next(($=>{N=$;const ut=$.applyToLocalDocumentSet(x,J);return v.documentOverlayCache.saveOverlays(B,$.batchId,ut)}))})).then((()=>({batchId:N.batchId,changes:Av(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ae(It)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await uo(a,o.changes),await Sc(a.remoteStore)}catch(o){const h=Hd(o,"Failed to persist write");i.reject(h)}}async function i0(r,e){const i=Tt(r);try{const a=await jb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))})),await uo(i,a,e)}catch(a){await Na(a)}}function A_(r,e,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,x)=>{for(const N of x.Sa)N.va(g)&&(_=!0)})),_&&Gd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xS(r,e,i){const a=Tt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new ae(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,Et.min()));const g=Mt().add(h),v=new Tc(Et.min(),new Map,new ae(It),d,g);await i0(a,v),a.du=a.du.remove(h),a.Au.delete(e),Fd(a)}else await fd(a.localStore,e,!1).then((()=>gd(a,e,i))).catch(Na)}async function VS(r,e){const i=Tt(r),a=e.batch.batchId;try{const o=await qb(i.localStore,e);r0(i,a,null),s0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uo(i,o)}catch(o){await Na(o)}}async function IS(r,e,i){const a=Tt(r);try{const o=await(function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((x=>(kt(x!==null,37113),A=x.keys(),v.mutationQueue.removeMutationBatch(_,x)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);r0(a,e,i),s0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uo(a,o)}catch(o){await Na(o)}}function s0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function r0(r,e,i){const a=Tt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function gd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||a0(r,a)}))}function a0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(qd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Fd(r))}function b_(r,e,i){for(const a of i)a instanceof t0?(r.Ru.addReference(a.key,e),MS(r,a)):a instanceof e0?(at(Qd,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||a0(r,a.key)):yt(19791,{wu:a})}function MS(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(Qd,"New document in limbo: "+i),r.Eu.add(a),Fd(r))}function Fd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(Jt.fromString(e)),a=r.fu.next();r.Au.set(a,new AS(i)),r.du=r.du.insert(i,a),Kv(r.remoteStore,new fs(ti(_v(i.path)),a,"TargetPurposeLimboResolution",dc.ce))}}async function uo(r,e,i){const a=Tt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Ld.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(_,(N=>Z.forEach(N.Es,(B=>A.persistence.referenceDelegate.addReference(x,N.targetId,B))).next((()=>Z.forEach(N.ds,(B=>A.persistence.referenceDelegate.removeReference(x,N.targetId,B)))))))))}catch(x){if(!xa(x))throw x;at(Pd,"Failed to update sequence numbers: "+x)}for(const x of _){const N=x.targetId;if(!x.fromCache){const B=A.Ms.get(N),Q=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(Q);A.Ms=A.Ms.insert(N,J)}}})(a.localStore,h))}async function OS(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){at(Qd,"User change. New user:",e.toKey());const a=await Gv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new st(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uo(i,a.Ls)}}function US(r,e){const i=Tt(r),a=i.Au.get(e);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function l0(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=US.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xS.bind(null,e),e.Pu.H_=yS.bind(null,e.eventManager),e.Pu.yu=_S.bind(null,e.eventManager),e}function LS(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IS.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Pb(this.persistence,new Ob,e.initialUser,this.serializer)}Cu(e){return new Hv(Ud.mi,this.serializer)}Du(e){return new Gb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class PS extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof lc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new vb(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Hv((a=>lc.mi(a,i)),this.serializer)}}class pd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>A_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OS.bind(null,this.syncEngine),await fS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mS})()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),a=(function(h){return new Xb(h)})(e.databaseInfo);return(function(h,d,g,v){return new Wb(h,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,g){return new eS(a,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>A_(this.syncEngine,i,0)),(function(){return p_.v()?new p_:new Qb})())}createSyncEngine(e,i){return(function(o,h,d,g,v,_,A){const x=new bS(o,h,d,g,v,_);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);at(fr,"RemoteStore shutting down."),a.Ea.add(5),await oo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class jS{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=Sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{at(bs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(bs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Hd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kf(r,e){r.asyncQueue.verifyOperationInProgress(),at(bs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Gv(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function S_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await zS(r);at(bs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>__(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>__(e.remoteStore,o))),r._onlineComponents=e}async function zS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(bs,"Using user provided OfflineComponentProvider");try{await Kf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;_a("Error using user provided cache. Falling back to memory cache: "+i),await Kf(r,new uc)}}else at(bs,"Using default OfflineComponentProvider"),await Kf(r,new PS(void 0));return r._offlineComponents}async function o0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(bs,"Using user provided OnlineComponentProvider"),await S_(r,r._uninitializedComponentsProvider._online)):(at(bs,"Using default OnlineComponentProvider"),await S_(r,new pd))),r._onlineComponents}function BS(r){return o0(r).then((e=>e.syncEngine))}async function kS(r){const e=await o0(r),i=e.eventManager;return i.onListen=SS.bind(null,e.syncEngine),i.onUnlisten=DS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=RS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=CS.bind(null,e.syncEngine),i}function HS(r,e,i={}){const a=new ps;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,v,_){const A=new qS({next:N=>{A.Nu(),d.enqueueAndForget((()=>pS(h,x))),N.fromCache&&v.source==="server"?_.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),x=new vS(g,A,{includeMetadataChanges:!0,qa:!0});return gS(h,x)})(await kS(r),r.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firestore.googleapis.com",w_=!0;class D_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c0,this.ssl=w_}else this.host=e.host,this.ssl=e.ssl??w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yb)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u0(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Q1;switch(a.type){case"firstParty":return new X1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=R_.get(i);a&&(at("ComponentProvider","Removing Datastore"),R_.delete(i),a.terminate())})(this),Promise.resolve()}}function GS(r,e,i,a={}){r=Ea(r,Rc);const o=Td(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(_T(`https://${g}`),AT("Firestore",!0)),h.host!==c0&&h.host!==g&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:a};if(!Zu(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=vT(a.mockUserToken,r._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(x)}r._authCredentials=new F1(new W_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class we{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ro(i,we._jsonSchema))return new we(e,a||null,new mt(Jt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ee("string",we._jsonSchemaVersion),referencePath:Ee("string")};class ys extends Li{constructor(e,i,a){super(e,i,_v(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new mt(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function co(r,e,...i){if(r=ri(r),tv("collection","path",e),r instanceof Rc){const a=Jt.fromString(e,...i);return By(a),new ys(r,null,a)}{if(!(r instanceof we||r instanceof ys))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(e,...i));return By(a),new ys(r.firestore,null,a)}}function h0(r,e,...i){if(r=ri(r),arguments.length===1&&(e=Sd.newId()),tv("doc","path",e),r instanceof Rc){const a=Jt.fromString(e,...i);return zy(a),new we(r,null,new mt(a))}{if(!(r instanceof we||r instanceof ys))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Jt.fromString(e,...i));return zy(a),new we(r.firestore,r instanceof ys?r.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class N_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fv(this,"async_queue_retry"),this._c=()=>{const a=Yf();a&&at(C_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xa(e))throw e;at(C_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",x_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=kd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function x_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class wc extends Rc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new N_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N_(e),this._firestoreClient=void 0,await e}}}function QS(r,e){const i=typeof r=="object"?r:I1(),a=typeof r=="string"?r:tc,o=D1(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=pT("firestore");h&&GS(o,...h)}return o}function f0(r){if(r._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FS(r),r._firestoreClient}function FS(r){const e=r._freezeSettings(),i=(function(o,h,d,g){return new fA(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,u0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new jS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(ke.fromBase64String(e))}catch(i){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ro(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Ee("string",Cn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(ro(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Ee("string",ii._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ro(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new si(e.vectorValues);throw new st(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Ee("string",si._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=/^__.*__$/;class KS{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,i,this.fieldTransforms):new ao(e,this.data,i,this.fieldTransforms)}}class d0{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Rs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function m0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Kd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(m0(this.Ac)&&YS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XS{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ac(e)}Cc(e,i,a,o=!1){return new Kd({Ac:e,methodName:i,Dc:a,path:Be.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cc(r){const e=r._freezeSettings(),i=Ac(r._databaseId);return new XS(r._databaseId,!!e.ignoreUndefinedProperties,i)}function ZS(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);Xd("Data must be an object, but it was:",d,a);const g=p0(a,d);let v,_;if(h.merge)v=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const x of h.mergeFields){const N=yd(e,x,i);if(!d.contains(N))throw new st(Y.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);_0(A,N)||A.push(N)}v=new mn(A),_=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,_=d.fieldTransforms;return new KS(new sn(g),v,_)}class Nc extends Yd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nc}}function $S(r,e,i,a){const o=r.Cc(1,e,i);Xd("Data must be an object, but it was:",o,a);const h=[],d=sn.empty();Ss(a,((v,_)=>{const A=Zd(e,v,i);_=ri(_);const x=o.yc(A);if(_ instanceof Nc)h.push(A);else{const N=ho(_,x);N!=null&&(h.push(A),d.set(A,N))}}));const g=new mn(h);return new d0(d,g,o.fieldTransforms)}function JS(r,e,i,a,o,h){const d=r.Cc(1,e,i),g=[yd(e,a,i)],v=[o];if(h.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(yd(e,h[N])),v.push(h[N+1]);const _=[],A=sn.empty();for(let N=g.length-1;N>=0;--N)if(!_0(_,g[N])){const B=g[N];let Q=v[N];Q=ri(Q);const J=d.yc(B);if(Q instanceof Nc)_.push(B);else{const $=ho(Q,J);$!=null&&(_.push(B),A.set(B,$))}}const x=new mn(_);return new d0(A,x,d.fieldTransforms)}function g0(r,e,i,a=!1){return ho(i,r.Cc(a?4:3,e))}function ho(r,e){if(y0(r=ri(r)))return Xd("Unsupported field value:",e,r),p0(r,e);if(r instanceof Yd)return(function(a,o){if(!m0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let v=ho(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=ri(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return UA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ne.fromDate(a);return{timestampValue:ac(o.serializer,h)}}if(a instanceof ne){const h=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ac(o.serializer,h)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Cn)return{bytesValue:Uv(o.serializer,a._byteString)};if(a instanceof we){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Md(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof si)return(function(d,g){return{mapValue:{fields:{[uv]:{stringValue:cv},[ec]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return xd(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${fc(a)}`)})(r,e)}function p0(r,e){const i={};return iv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(r,((a,o)=>{const h=ho(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function y0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof ii||r instanceof Cn||r instanceof we||r instanceof Yd||r instanceof si)}function Xd(r,e,i){if(!y0(i)||!ev(i)){const a=fc(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function yd(r,e,i){if((e=ri(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return Zd(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const WS=new RegExp("[~\\*/\\[\\]]");function Zd(r,e,i){if(e.search(WS)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dc(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function cc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new st(Y.INVALID_ARGUMENT,g+r+v)}function _0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tR extends $d{data(){return super.data()}}function xc(r,e){return typeof e=="string"?Zd(r,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jd{}class Vc extends Jd{}function Wd(r,e,...i){let a=[];e instanceof Jd&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof tm)).length,g=h.filter((v=>v instanceof Ic)).length;if(d>1||d>0&&g>0)throw new st(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Ic extends Vc{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Ic(e,i,a)}_apply(e){const i=this._parse(e);return A0(e._query,i),new Li(e.firestore,e.converter,ld(e._query,i))}_parse(e){const i=Cc(e.firestore);return(function(h,d,g,v,_,A,x){let N;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){I_(x,A);const Q=[];for(const J of x)Q.push(V_(v,h,J));N={arrayValue:{values:Q}}}else N=V_(v,h,x)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||I_(x,A),N=g0(g,d,x,A==="in"||A==="not-in");return ve.create(_,A,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function hc(r,e,i){const a=e,o=xc("where",r);return Ic._create(o,a,i)}class tm extends Jd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tm(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)A0(d,v),d=ld(d,v)})(e._query,i),new Li(e.firestore,e.converter,ld(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class em extends Vc{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new em(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new st(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(h,d)})(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new mr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function v0(r,e="asc"){const i=e,a=xc("orderBy",r);return em._create(a,i)}class nm extends Vc{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new nm(e,i,a)}_apply(e){return new Li(e.firestore,e.converter,ic(e._query,this._limit,this._limitType))}}function E0(r){return nm._create("limit",r,"F")}class im extends Vc{constructor(e,i,a){super(),this.type=e,this._docOrFields=i,this._inclusive=a}static _create(e,i,a){return new im(e,i,a)}_apply(e){const i=nR(e,this.type,this._docOrFields,this._inclusive);return new Li(e.firestore,e.converter,(function(o,h){return new mr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)})(e._query,i))}}function T0(...r){return im._create("startAfter",r,!1)}function nR(r,e,i,a){if(i[0]=ri(i[0]),i[0]instanceof $d)return(function(h,d,g,v,_){if(!v)throw new st(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const A=[];for(const x of ma(h))if(x.field.isKeyField())A.push(nc(d,v.key));else{const N=v.data.field(x.field);if(gc(N))throw new st(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(N===null){const B=x.field.canonicalString();throw new st(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}A.push(N)}return new ba(A,_)})(r._query,r.firestore._databaseId,e,i[0]._document,a);{const o=Cc(r.firestore);return(function(d,g,v,_,A,x){const N=d.explicitOrderBy;if(A.length>N.length)throw new st(Y.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let Q=0;Q<A.length;Q++){const J=A[Q];if(N[Q].field.isKeyField()){if(typeof J!="string")throw new st(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof J}`);if(!Nd(d)&&J.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${J}' contains a slash.`);const $=d.path.child(Jt.fromString(J));if(!mt.isDocumentKey($))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const ut=new mt($);B.push(nc(g,ut))}else{const $=g0(v,_,J);B.push($)}}return new ba(B,x)})(r._query,r.firestore._databaseId,o,e,i,a)}}function V_(r,e,i){if(typeof(i=ri(i))=="string"){if(i==="")throw new st(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nd(e)&&i.indexOf("/")!==-1)throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!mt.isDocumentKey(a))throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return nc(r,new mt(a))}if(i instanceof we)return nc(r,i._key);throw new st(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function I_(r,e){if(!Array.isArray(r)||r.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A0(r,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class iR{convertValue(e,i="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ss(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[ec].arrayValue?.values?.map((a=>de(a.doubleValue)));return new si(i)}convertGeoPoint(e){return new ii(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=pc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=vs(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);kt(Bv(a),9688,{name:e});const o=new Wl(a.get(1),a.get(3)),h=new mt(a.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class ku{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends $d{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(xc("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=pa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Ee("string",pa._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Ku extends pa{data(e={}){return super.data(e)}}class ya{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ku(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Ku(this._firestore,this._userDataWriter,a.key,a,new ku(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:rR(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}ya._jsonSchemaVersion="firestore/querySnapshot/1.0",ya._jsonSchema={type:Ee("string",ya._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class aR extends iR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function so(r){r=Ea(r,Li);const e=Ea(r.firestore,wc),i=f0(e),a=new aR(e);return eR(r._query),HS(i,r._query).then((o=>new ya(e,a,r,o)))}function lR(r,e,i,...a){r=Ea(r,we);const o=Ea(r.firestore,wc),h=Cc(o);let d;return d=typeof(e=ri(e))=="string"||e instanceof Dc?JS(h,"updateDoc",r._key,e,i,a):$S(h,"updateDoc",r._key,e),b0(o,[d.toMutation(r._key,ei.exists(!0))])}function oR(r,e){const i=Ea(r.firestore,wc),a=h0(r),o=sR(r.converter,e);return b0(i,[ZS(Cc(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then((()=>a))}function b0(r,e){return(function(a,o){const h=new ps;return a.asyncQueue.enqueueAndForget((async()=>NS(await BS(a),o,h))),h.promise})(f0(r),e)}(function(e,i=!0){(function(o){Ca=o})(V1),Ju(new Xl("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new wc(new Y1(a.getProvider("auth-internal")),new Z1(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),da(Ly,Py,e),da(Ly,Py,"esm2020")})();const uR={apiKey:"AIzaSyBYa7jjDAX53VnCYixldvrR-M_dTokmoPU",authDomain:"punjab-care.firebaseapp.com",projectId:"punjab-care",storageBucket:"punjab-care.firebasestorage.app",messagingSenderId:"1089478038940",appId:"1:1089478038940:web:a6f65a51345dfa667ce459"},cR=H_(uR),wa=QS(cR),M_=({onNavigate:r})=>{const{t:e,language:i,toggleLanguage:a}=dr(),o=h=>{r(h)};return Vt.useEffect(()=>{(async()=>{try{const d=await so(co(wa,"requests"));d.empty?console.log("Database connected  but no requests found yet."):d.forEach(g=>{console.log(g.id," => ",g.data())})}catch(d){console.error(d)}})()},[]),P.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[P.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:P.jsx("div",{className:"px-4 py-3",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("h1",{className:"text-xl font-bold text-blue-500",children:e("Punjab Care")}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{onClick:a,className:`px-3 py-1 text-sm rounded-md ${i==="en"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"English"}),P.jsx("button",{onClick:a,className:`px-3 py-1 text-sm rounded-md ${i==="pa"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:""})]})]})})}),P.jsx("main",{className:"flex-1 flex flex-col justify-center px-4 py-8",children:P.jsxs("div",{className:"max-w-md mx-auto w-full",children:[P.jsxs("div",{className:"text-center mb-8",children:[P.jsx("div",{className:"text-4xl mb-4",children:""}),P.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e("welcome")}),P.jsx("p",{className:"text-lg text-gray-600",children:e("welcomeMessage")})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("button",{onClick:()=>o("request"),className:"w-full bg-blue-500 text-white py-4 px-6 rounded-lg text-lg font-semibold shadow-md hover:bg-blue-600 transition-colors flex items-center justify-center gap-3",children:[P.jsx("span",{children:""}),e("getHelpNow"),P.jsx("span",{children:""})]}),P.jsxs("button",{onClick:()=>o("helpline"),className:"w-full bg-white text-gray-700 py-4 px-6 rounded-lg text-lg font-semibold border-2 border-gray-300 hover:bg-gray-50 transition-colors flex items-center justify-center gap-3",children:[P.jsx("span",{children:""}),e("viewHelplines")]})]}),P.jsxs("div",{className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:[P.jsx("div",{className:"flex items-center gap-2 mb-2",children:P.jsx("h3",{className:"font-semibold text-red-800",children:e("emergencyNotice")})}),P.jsx("p",{className:"text-red-700 text-sm",children:e("emergencyMessage")})]}),P.jsx("div",{className:"mt-5 text-center text-gray-500 text-xl",children:P.jsx("p",{children:e("Support Punjab  ")})})]})})]})},hR=()=>"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),_d=()=>{let r=localStorage.getItem("floodReliefSessionId");return r||(r=hR(),localStorage.setItem("floodReliefSessionId",r)),r},fR=()=>{const{t:r}=dr(),[e,i]=Vt.useState({name:"",location:"",contactNumber:"",typeOfHelp:"",description:""}),[a,o]=Vt.useState(!1),[h,d]=Vt.useState(""),[g,v]=Vt.useState(null),_=[{value:"medical",label:r("medical")},{value:"food",label:r("food")},{value:"shelter",label:r("shelter")},{value:"emergencyTransport",label:r("emergencyTransport")}],A=Q=>{const{name:J,value:$}=Q.target;i(ut=>({...ut,[J]:$}))},x=async()=>{try{if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");d(r("enablingGPS"));const Q=await new Promise((I,b)=>{navigator.geolocation.getCurrentPosition(I,D=>{D.code===D.TIMEOUT||D.code===D.POSITION_UNAVAILABLE?(console.log("High accuracy failed, trying standard accuracy..."),navigator.geolocation.getCurrentPosition(I,b,{enableHighAccuracy:!1,timeout:15e3,maximumAge:0})):b(D)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),{latitude:J,longitude:$,accuracy:ut}=Q.coords;console.log(`Got position with accuracy: ${ut} meters`),ut>500?d(r("lowAccuracyWarning")):d(r("fetchingLocation"));const ht=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${J}&lon=${$}&addressdetails=1&accept-language=${navigator.language||"en"}`);if(!ht.ok)throw new Error("Failed to fetch location details");const bt=(await ht.json()).address||{};let ft="";const St=["village","town","city_district","city","county","state_district","state"];for(const I of St)if(bt[I])if(ft){if(I==="village"||I==="town"||I==="city"&&!ft.includes(bt[I])){ft=`${bt[I]}, ${ft}`;break}}else ft=bt[I];ft||(ft=`${r("near")} ${J.toFixed(4)}, ${$.toFixed(4)}`,ut<1e3&&(ft+=` (${Math.round(ut)}m ${r("accuracy")})`)),i(I=>({...I,location:ft,coordinates:{latitude:J.toFixed(6),longitude:$.toFixed(6),accuracy:Math.round(ut)}})),d(r("locationFetched")),setTimeout(()=>d(""),3e3)}catch(Q){console.error("Error getting location:",Q);let J=r("locationError");Q.code===Q.PERMISSION_DENIED?J=r("locationPermissionDenied"):Q.code===Q.POSITION_UNAVAILABLE?J=r("locationUnavailable"):Q.code===Q.TIMEOUT&&(J=r("locationTimeout")),d(J),setTimeout(()=>d(""),5e3)}},N=()=>e.name.trim()?e.location.trim()?e.contactNumber.trim()?e.typeOfHelp?e.description.trim()?!0:(v(r("descriptionRequired")),!1):(v(r("typeOfHelpRequired")),!1):(v(r("contactNumberRequired")),!1):(v(r("locationRequired")),!1):(v(r("nameRequired")),!1),B=async Q=>{if(Q.preventDefault(),v(null),d(""),!!N()){o(!0);try{const J=_d();console.log("Session ID:",J);const $={...e,sessionId:J,timestamp:new Date,status:"pending"};console.log("Submitting request data:",$);const ut=await oR(co(wa,"requests"),$);console.log("Request submitted successfully with ID:",ut.id),d(r("requestSubmitted")),i({name:"",location:"",contactNumber:"",typeOfHelp:"",description:""})}catch(J){console.error("Request submission error:",J),console.error("Error details:",{code:J.code,message:J.message,stack:J.stack}),J.code==="permission-denied"?v(r("permissionDenied")):J.code==="unavailable"?v(r("serviceUnavailable")):J.code==="unauthenticated"?v(r("unauthenticated")):v(`${r("errorSubmitting")}: ${J.message}`)}finally{o(!1),g&&setTimeout(()=>v(null),5e3),h&&setTimeout(()=>d(""),3e3)}}};return P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("requestHelp")}),g&&P.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:[P.jsx("div",{className:"font-medium",children:r("error")}),P.jsx("div",{className:"text-sm",children:g})]}),h&&P.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md",children:h}),P.jsxs("form",{onSubmit:B,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:r("name")}),P.jsx("input",{type:"text",name:"name",value:e.name,onChange:A,required:!0,className:"w-full p-3 border border-gray-300 rounded-md",placeholder:r("name")})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:r("location")}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("input",{type:"text",name:"location",value:e.location,onChange:A,required:!0,className:"flex-1 p-3 border border-gray-300 rounded-md",placeholder:r("location")}),P.jsx("button",{type:"button",onClick:x,className:"px-4 py-3 bg-blue-500 text-white rounded-md text-sm",children:r("getLocation")})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:r("contactNumber")}),P.jsx("input",{type:"tel",name:"contactNumber",value:e.contactNumber,onChange:A,required:!0,className:"w-full p-3 border border-gray-300 rounded-md",placeholder:r("contactNumber")})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:r("typeOfHelp")}),P.jsxs("select",{name:"typeOfHelp",value:e.typeOfHelp,onChange:A,required:!0,className:"w-full p-3 border border-gray-300 rounded-md",children:[P.jsx("option",{value:"",children:r("typeOfHelp")}),_.map(Q=>P.jsx("option",{value:Q.value,children:Q.label},Q.value))]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium mb-1",children:r("description")}),P.jsx("textarea",{name:"description",value:e.description,onChange:A,required:!0,rows:"4",className:"w-full p-3 border border-gray-300 rounded-md",placeholder:r("description")})]}),P.jsx("button",{type:"submit",disabled:a,className:"w-full bg-green-500 text-white py-3 rounded-md font-medium disabled:opacity-50",children:r(a?"loading":"submit")})]})]})},dR=()=>{const{t:r}=dr(),[e,i]=Vt.useState(""),[a,o]=Vt.useState([]),[h,d]=Vt.useState(!1),[g,v]=Vt.useState([]),_=["Amritsar","Barnala","Bathinda","Faridkot","Fatehgarh Sahib","Ferozepur","Gurdaspur","Hoshiarpur","Jalandhar","Kapurthala","Ludhiana","Mansa","Moga","Muktsar","Pathankot","Patiala","Rupnagar","S.A.S. Nagar (Mohali)","Sangrur","Shahid Bhagat Singh Nagar","Tarn Taran"];Vt.useEffect(()=>{v(_)},[]);const A=async B=>{if(!B){o([]);return}d(!0);try{const Q=Wd(co(wa,"helplines"),hc("district","==",B)),$=(await so(Q)).docs.map(ut=>({id:ut.id,...ut.data()}));o($)}catch(Q){console.error("Error fetching helplines:",Q),o([])}finally{d(!1)}},x=B=>{i(B),A(B)},N=({helpline:B})=>P.jsxs("div",{className:"border border-gray-200 rounded-md p-4 bg-white shadow-sm",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsx("div",{className:"font-semibold text-gray-900",children:B.name}),P.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B.type==="government"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:B.type==="government"?r("government"):r("ngo")})]}),P.jsx("div",{className:"text-blue-600 font-medium mb-2",children:P.jsx("a",{href:`tel:${B.phone}`,className:"hover:underline",children:B.phone})}),B.description&&P.jsx("div",{className:"text-sm text-gray-600 mb-2",children:B.description}),B.address&&P.jsxs("div",{className:"text-sm text-gray-500",children:[P.jsxs("strong",{children:[r("address"),":"]})," ",B.address]}),B.availableHours&&P.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[P.jsxs("strong",{children:[r("availableHours"),":"]})," ",B.availableHours]})]});return P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("helplineNumbers")}),P.jsxs("div",{className:"mb-6",children:[P.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:r("selectDistrict")}),P.jsxs("select",{value:e,onChange:B=>x(B.target.value),className:"w-full p-3 border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[P.jsx("option",{value:"",children:r("selectDistrict")}),g.map(B=>P.jsx("option",{value:B,children:B},B))]})]}),e&&P.jsxs("div",{children:[P.jsxs("div",{className:"flex items-center justify-between mb-4",children:[P.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[r("helplinesFor")," ",e]}),h&&P.jsx("div",{className:"text-sm text-gray-500",children:r("loading")})]}),h?P.jsx("div",{className:"text-center py-8",children:P.jsx("div",{className:"text-gray-500",children:r("loading")})}):a.length===0?P.jsxs("div",{className:"text-center py-8",children:[P.jsx("div",{className:"text-gray-500 mb-2",children:r("noHelplinesFound")}),P.jsx("div",{className:"text-sm text-gray-400",children:r("noHelplinesMessage")})]}):P.jsx("div",{className:"space-y-4",children:a.map(B=>P.jsx(N,{helpline:B},B.id))})]}),!e&&P.jsxs("div",{className:"text-center py-8",children:[P.jsx("div",{className:"text-gray-500 mb-2",children:r("selectDistrictToView")}),P.jsx("div",{className:"text-sm text-gray-400",children:r("selectDistrictMessage")})]})]})},mR=()=>{const{t:r}=dr(),[e,i]=Vt.useState([]),[a,o]=Vt.useState(!0),[h,d]=Vt.useState(!1),[g,v]=Vt.useState(null),[_,A]=Vt.useState(!0),[x,N]=Vt.useState(new Set),[B,Q]=Vt.useState(!1),[J,$]=Vt.useState("all"),ut=10,ht=(R=!1)=>{const O=co(wa,"requests"),S=[];return J!=="all"&&S.push(hc("status","==",J)),S.push(v0("timestamp","desc")),R&&g&&S.push(T0(g)),B||S.push(E0(ut)),Wd(O,...S)},ot=async(R=!1)=>{try{d(R);const O=ht(R),S=await so(O),ee=S.docs.map(Ht=>({id:Ht.id,...Ht.data()}));i(R?Ht=>[...Ht,...ee]:ee),v(S.docs[S.docs.length-1]),A(!B&&S.docs.length===ut)}catch(O){console.error("Error fetching requests:",O)}finally{o(!1),d(!1)}},bt=async()=>{try{Q(!0),o(!0);const R=ht(!1),S=(await so(R)).docs.map(ee=>({id:ee.id,...ee.data()}));i(S),A(!1)}catch(R){console.error("Error loading all requests:",R)}finally{o(!1)}},ft=R=>{N(O=>{const S=new Set(O);return S.has(R)?S.delete(R):S.add(R),S})},St=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleString():"",I=R=>({medical:r("medical"),food:r("food"),shelter:r("shelter"),emergencyTransport:r("emergencyTransport")})[R]||R,b=R=>({pending:r("pending"),completed:r("completed")})[R]||R,D=R=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800"})[R]||"bg-gray-100 text-gray-800",M=R=>{$(R),v(null),A(!0),N(new Set),Q(!1)};return Vt.useEffect(()=>{ot()},[J]),a?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("viewRequests")}),P.jsx("div",{className:"text-center py-8",children:P.jsx("div",{className:"text-gray-500",children:r("loading")})})]}):P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("viewRequests")}),P.jsx("div",{className:"mb-4",children:P.jsx("div",{className:"flex gap-2",children:["all","pending","completed"].map(R=>P.jsx("button",{onClick:()=>M(R),className:`px-3 py-1 text-sm rounded-md ${J===R?R==="all"?"bg-blue-500 text-white":R==="pending"?"bg-yellow-500 text-white":"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:r(R)},R))})}),e.length===0?P.jsx("div",{className:"text-center py-8 text-gray-500",children:r("noRequests")}):P.jsxs("div",{className:"space-y-4",children:[e.map(R=>P.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsx("div",{className:"font-medium",children:R.name}),P.jsx("div",{className:"text-sm text-gray-500",children:St(R.timestamp)})]}),P.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[P.jsx("div",{children:R.location}),P.jsx("div",{children:I(R.typeOfHelp)})]}),P.jsx("div",{className:"mb-2",children:P.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${D(R.status)}`,children:b(R.status)})}),x.has(R.id)&&P.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md text-sm",children:[P.jsxs("div",{className:"mb-2",children:[P.jsxs("strong",{children:[r("contactNumber"),":"]})," ",R.contactNumber]}),P.jsxs("div",{children:[P.jsxs("strong",{children:[r("description"),":"]})," ",R.description]}),R.completedAt&&P.jsxs("div",{className:"mt-2 text-green-600",children:[P.jsxs("strong",{children:[r("completedAt"),":"]})," ",St(R.completedAt)]})]}),P.jsx("button",{onClick:()=>ft(R.id),className:"mt-2 text-blue-600 text-sm hover:underline",children:x.has(R.id)?"Hide Details":r("clickToViewDetails")})]},R.id)),!B&&_&&P.jsxs("div",{className:"flex gap-2 mt-4",children:[P.jsx("button",{onClick:()=>ot(!0),disabled:h,className:"flex-1 bg-blue-500 text-white py-2 rounded-md disabled:opacity-50",children:r(h?"loading":"loadMore")}),P.jsx("button",{onClick:bt,className:"flex-1 bg-gray-500 text-white py-2 rounded-md",children:r("loadAll")})]})]})]})},O_=10,gR=()=>{const{t:r}=dr(),[e,i]=Vt.useState([]),[a,o]=Vt.useState(!0),[h,d]=Vt.useState(!1),[g,v]=Vt.useState(new Set),[_,A]=Vt.useState("all"),[x,N]=Vt.useState(null),[B,Q]=Vt.useState(!0),[J,$]=Vt.useState(null),[ut,ht]=Vt.useState(null),[ot,bt]=Vt.useState({}),ft=Vt.useCallback((U=!1)=>{const et=_d(),rt=[hc("sessionId","==",et)];return _!=="all"&&rt.push(hc("status","==",_)),rt.push(v0("timestamp","desc")),U&&x&&rt.push(T0(x)),rt.push(E0(O_)),Wd(co(wa,"requests"),...rt)},[_,x]),St=Vt.useCallback(async(U=!1)=>{try{U?d(!0):o(!0),ht(null);const rt=`${_d()}_${_}_${U?"more":"initial"}`;if(ot[rt]&&!U){i(ot[rt].requests),N(ot[rt].lastDoc),Q(ot[rt].hasMore),o(!1);return}const Ct=ft(U),C=await so(Ct),W=C.docs.map(ct=>({id:ct.id,...ct.data()}));i(U?ct=>[...ct,...W]:W);const it=C.docs[C.docs.length-1],tt=C.docs.length===O_;N(it),Q(tt),U||bt(ct=>({...ct,[rt]:{requests:W,lastDoc:it,hasMore:tt}}))}catch(et){console.error("Error fetching my requests:",et),ht(et.message)}finally{o(!1),d(!1)}},[ft,_,ot]),I=async U=>{try{$(U),ht(null);const et=h0(wa,"requests",U);await lR(et,{status:"completed",completedAt:new Date}),i(rt=>rt.map(Ct=>Ct.id===U?{...Ct,status:"completed",completedAt:new Date}:Ct)),bt({})}catch(et){console.error("Error updating request status:",et),ht(et.message)}finally{$(null)}},b=U=>{v(et=>{const rt=new Set(et);return rt.has(U)?rt.delete(U):rt.add(U),rt})},D=U=>U?.toDate?U.toDate().toLocaleString():new Date(U).toLocaleString(),M=U=>({medical:r("medical"),food:r("food"),shelter:r("shelter"),emergencyTransport:r("emergencyTransport")})[U]||U,R=U=>({pending:r("pending"),completed:r("completed")})[U]||U,O=U=>({pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800"})[U]||"bg-gray-100 text-gray-800",S=U=>{A(U),N(null),Q(!0),v(new Set),ht(null)},ee=()=>B&&!h&&St(!0),Ht=()=>{ht(null),St()};return Vt.useEffect(()=>{St()},[_]),a?P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("myRequests")}),P.jsx("div",{className:"text-center py-8 text-gray-500",children:r("loading")})]}):P.jsxs("div",{className:"p-4",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("myRequests")}),ut&&P.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md flex justify-between items-center",children:[P.jsxs("span",{children:[r("errorLoading"),": ",ut]}),P.jsx("button",{onClick:Ht,className:"text-red-800 underline text-sm",children:r("retry")})]}),P.jsx("div",{className:"mb-4 flex gap-2",children:["all","pending","completed"].map(U=>P.jsx("button",{onClick:()=>S(U),className:`px-3 py-1 text-sm rounded-md ${_===U?U==="pending"?"bg-yellow-500 text-white":U==="completed"?"bg-green-500 text-white":"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:r(U)},U))}),e.length===0?P.jsx("div",{className:"text-center py-8 text-gray-500",children:r("noRequests")}):P.jsxs("div",{className:"space-y-4",children:[e.map(U=>P.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[P.jsxs("div",{className:"flex justify-between items-start mb-2",children:[P.jsx("div",{className:"font-medium",children:U.name}),P.jsx("div",{className:"text-sm text-gray-500",children:D(U.timestamp)})]}),P.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[P.jsx("div",{children:U.location}),P.jsx("div",{children:M(U.typeOfHelp)})]}),P.jsxs("div",{className:"flex justify-between items-center mb-2",children:[P.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${O(U.status)}`,children:R(U.status)}),U.status==="pending"&&P.jsx("button",{onClick:()=>I(U.id),disabled:J===U.id,className:"px-3 py-1 text-xs bg-green-500 text-white rounded-md hover:bg-green-600 disabled:opacity-50",children:J===U.id?r("updating"):r("markCompleted")})]}),g.has(U.id)&&P.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md text-sm",children:[P.jsxs("div",{className:"mb-2",children:[P.jsxs("strong",{children:[r("contactNumber"),":"]})," ",U.contactNumber]}),P.jsxs("div",{children:[P.jsxs("strong",{children:[r("description"),":"]})," ",U.description]}),U.completedAt&&P.jsxs("div",{className:"mt-2 text-green-600",children:[P.jsxs("strong",{children:[r("completedAt"),":"]})," ",D(U.completedAt)]})]}),P.jsx("button",{onClick:()=>b(U.id),className:"mt-2 text-blue-600 text-sm hover:underline",children:g.has(U.id)?"Hide Details":r("clickToViewDetails")})]},U.id)),B&&P.jsx("div",{className:"text-center pt-4",children:P.jsx("button",{onClick:ee,disabled:h,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50",children:r(h?"loading":"loadMore")})})]})]})};let Xf=localStorage.getItem("ownerId");Xf||(Xf=crypto.randomUUID(),localStorage.setItem("ownerId",Xf));const pR=()=>{const{language:r,toggleLanguage:e}=dr();return P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{onClick:e,className:`px-3 py-1 text-sm rounded-md ${r==="en"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"English"}),P.jsx("button",{onClick:e,className:`px-3 py-1 text-sm rounded-md ${r==="pa"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:""})]})},yR=()=>{const{t:r}=dr(),[e,i]=Vt.useState("home"),a=h=>{i(h)},o=()=>{switch(e){case"home":return P.jsx(M_,{onNavigate:a});case"request":return P.jsx(fR,{});case"helpline":return P.jsx(dR,{});case"view":return P.jsx(mR,{});case"my":return P.jsx(gR,{});default:return P.jsx(M_,{onNavigate:a})}};return e==="home"?o():P.jsxs("div",{className:"min-h-screen bg-gray-50",children:[P.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:P.jsx("div",{className:"px-4 py-3",children:P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("div",{className:"flex items-center gap-3",children:P.jsx("button",{onClick:()=>i("home"),className:"text-blue-600 hover:text-blue-800 font-medium text-2xl","aria-label":"Back to home",children:""})}),P.jsx(pR,{})]})})}),P.jsx("nav",{className:"bg-white border-b border-gray-200",children:P.jsx("div",{className:"px-4",children:P.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:[{id:"request",label:r("requestHelp")},{id:"helpline",label:r("helplineNumbers")},{id:"view",label:r("viewRequests")},{id:"my",label:r("myRequests")}].map(h=>P.jsx("button",{onClick:()=>i(h.id),className:`px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 ${e===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:h.label},h.id))})})}),P.jsx("main",{className:"flex-1",children:o()})]})};function _R(){return P.jsx(rT,{children:P.jsx(yR,{})})}iT.createRoot(document.getElementById("root")).render(P.jsx(Vt.StrictMode,{children:P.jsx(_R,{})}));
